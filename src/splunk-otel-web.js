!function(){var t={96:function(t,e,n){"use strict";n.d(e,{mS:function(){return p},$G:function(){return l},kv:function(){return d}});var r="object"==typeof globalThis?globalThis:"object"==typeof self?self:"object"==typeof window?window:"object"==typeof n.g?n.g:{},o="1.9.0",i=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;var a=function(t){var e=new Set([t]),n=new Set,r=t.match(i);if(!r)return function(){return!1};var o=+r[1],a=+r[2],s=+r[3];if(null!=r[4])return function(e){return e===t};function u(t){return n.add(t),!1}function c(t){return e.add(t),!0}return function(t){if(e.has(t))return!0;if(n.has(t))return!1;var r=t.match(i);if(!r)return u(t);var l=+r[1],p=+r[2],d=+r[3];return null!=r[4]||o!==l?u(t):0===o?a===p&&s<=d?c(t):u(t):a<=p?c(t):u(t)}}(o),s=o.split(".")[0],u=Symbol.for("opentelemetry.js.api."+s),c=r;function l(t,e,n,r){var i;void 0===r&&(r=!1);var a=c[u]=null!==(i=c[u])&&void 0!==i?i:{version:o};if(!r&&a[t]){var s=new Error("@opentelemetry/api: Attempted duplicate registration of API: "+t);return n.error(s.stack||s.message),!1}if(a.version!==o){s=new Error("@opentelemetry/api: Registration of version v"+a.version+" for "+t+" does not match previously registered API v"+o);return n.error(s.stack||s.message),!1}return a[t]=e,n.debug("@opentelemetry/api: Registered a global for "+t+" v"+o+"."),!0}function p(t){var e,n,r=null===(e=c[u])||void 0===e?void 0:e.version;if(r&&a(r))return null===(n=c[u])||void 0===n?void 0:n[t]}function d(t,e){e.debug("@opentelemetry/api: Unregistering a global for "+t+" v"+o+".");var n=c[u];n&&delete n[t]}},179:function(t,e,n){"use strict";n.d(e,{d:function(){return o}});var r=n(195),o=function(){function t(t){void 0===t&&(t=r.dM),this._spanContext=t}return t.prototype.spanContext=function(){return this._spanContext},t.prototype.setAttribute=function(t,e){return this},t.prototype.setAttributes=function(t){return this},t.prototype.addEvent=function(t,e){return this},t.prototype.addLink=function(t){return this},t.prototype.addLinks=function(t){return this},t.prototype.setStatus=function(t){return this},t.prototype.updateName=function(t){return this},t.prototype.end=function(t){},t.prototype.isRecording=function(){return!1},t.prototype.recordException=function(t,e){},t}()},195:function(t,e,n){"use strict";n.d(e,{RH:function(){return i},dM:function(){return a},w9:function(){return o}});var r=n(2392),o="0000000000000000",i="00000000000000000000000000000000",a={traceId:i,spanId:o,traceFlags:r.X.NONE}},202:function(t,e,n){"use strict";n.d(e,{K:function(){return p}});var r=n(96),o=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},i=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},a=function(){function t(t){this._namespace=t.namespace||"DiagComponentLogger"}return t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return s("debug",this._namespace,t)},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return s("error",this._namespace,t)},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return s("info",this._namespace,t)},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return s("warn",this._namespace,t)},t.prototype.verbose=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return s("verbose",this._namespace,t)},t}();function s(t,e,n){var a=(0,r.mS)("diag");if(a)return n.unshift(e),a[t].apply(a,i([],o(n),!1))}var u=n(1050);var c=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},l=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},p=function(){function t(){function t(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var o=(0,r.mS)("diag");if(o)return o[t].apply(o,l([],c(e),!1))}}var e=this;e.setLogger=function(t,n){var o,i,a;if(void 0===n&&(n={logLevel:u.u.INFO}),t===e){var s=new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return e.error(null!==(o=s.stack)&&void 0!==o?o:s.message),!1}"number"==typeof n&&(n={logLevel:n});var c=(0,r.mS)("diag"),l=function(t,e){function n(n,r){var o=e[n];return"function"==typeof o&&t>=r?o.bind(e):function(){}}return t<u.u.NONE?t=u.u.NONE:t>u.u.ALL&&(t=u.u.ALL),e=e||{},{error:n("error",u.u.ERROR),warn:n("warn",u.u.WARN),info:n("info",u.u.INFO),debug:n("debug",u.u.DEBUG),verbose:n("verbose",u.u.VERBOSE)}}(null!==(i=n.logLevel)&&void 0!==i?i:u.u.INFO,t);if(c&&!n.suppressOverrideMessage){var p=null!==(a=(new Error).stack)&&void 0!==a?a:"<failed to generate stacktrace>";c.warn("Current logger will be overwritten from "+p),l.warn("Current logger will overwrite one already registered from "+p)}return(0,r.$G)("diag",l,e,!0)},e.disable=function(){(0,r.kv)("diag",e)},e.createComponentLogger=function(t){return new a(t)},e.verbose=t("verbose"),e.debug=t("debug"),e.info=t("info"),e.warn=t("warn"),e.error=t("error")}return t.instance=function(){return this._instance||(this._instance=new t),this._instance},t}()},582:function(t,e,n){"use strict";n.d(e,{Bk:function(){return u},Bx:function(){return c},EW:function(){return l},fU:function(){return s},g_:function(){return p},w8:function(){return d}});var r=n(676),o=n(179),i=n(8937),a=(0,r.n)("OpenTelemetry Context Key SPAN");function s(t){return t.getValue(a)||void 0}function u(){return s(i._.getInstance().active())}function c(t,e){return t.setValue(a,e)}function l(t){return t.deleteValue(a)}function p(t,e){return c(t,new o.d(e))}function d(t){var e;return null===(e=s(t))||void 0===e?void 0:e.spanContext()}},590:function(t,e,n){"use strict";var r;n.d(e,{v:function(){return r}}),function(t){t[t.INTERNAL=0]="INTERNAL",t[t.SERVER=1]="SERVER",t[t.CLIENT=2]="CLIENT",t[t.PRODUCER=3]="PRODUCER",t[t.CONSUMER=4]="CONSUMER"}(r||(r={}))},676:function(t,e,n){"use strict";function r(t){return Symbol.for(t)}n.d(e,{l:function(){return o},n:function(){return r}});var o=new function t(e){var n=this;n._currentContext=e?new Map(e):new Map,n.getValue=function(t){return n._currentContext.get(t)},n.setValue=function(e,r){var o=new t(n._currentContext);return o._currentContext.set(e,r),o},n.deleteValue=function(e){var r=new t(n._currentContext);return r._currentContext.delete(e),r}}},935:function(t,e,n){"use strict";n.d(e,{$:function(){return E}});var r=n(96),o=function(){function t(){}return t.prototype.inject=function(t,e){},t.prototype.extract=function(t,e){return t},t.prototype.fields=function(){return[]},t}(),i=n(1320),a=n(8937),s=(0,n(676).n)("OpenTelemetry Baggage Key");function u(t){return t.getValue(s)||void 0}function c(){return u(a._.getInstance().active())}function l(t,e){return t.setValue(s,e)}function p(t){return t.deleteValue(s)}var d=n(4729),f=n(202),h="propagation",_=new o,v=function(){function t(){this.createBaggage=d.L,this.getBaggage=u,this.getActiveBaggage=c,this.setBaggage=l,this.deleteBaggage=p}return t.getInstance=function(){return this._instance||(this._instance=new t),this._instance},t.prototype.setGlobalPropagator=function(t){return(0,r.$G)(h,t,f.K.instance())},t.prototype.inject=function(t,e,n){return void 0===n&&(n=i.U),this._getGlobalPropagator().inject(t,e,n)},t.prototype.extract=function(t,e,n){return void 0===n&&(n=i.q),this._getGlobalPropagator().extract(t,e,n)},t.prototype.fields=function(){return this._getGlobalPropagator().fields()},t.prototype.disable=function(){(0,r.kv)(h,f.K.instance())},t.prototype._getGlobalPropagator=function(){return(0,r.mS)(h)||_},t}(),E=v.getInstance()},1050:function(t,e,n){"use strict";var r;n.d(e,{u:function(){return r}}),function(t){t[t.NONE=0]="NONE",t[t.ERROR=30]="ERROR",t[t.WARN=50]="WARN",t[t.INFO=60]="INFO",t[t.DEBUG=70]="DEBUG",t[t.VERBOSE=80]="VERBOSE",t[t.ALL=9999]="ALL"}(r||(r={}))},1256:function(t,e,n){"use strict";n.r(e),n.d(e,{AlwaysOffSampler:function(){return M},AlwaysOnSampler:function(){return x},AnchoredClock:function(){return o},BindOnceFuture:function(){return $.I},CompositePropagator:function(){return w.n},DEFAULT_ATTRIBUTE_COUNT_LIMIT:function(){return V.fv},DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT:function(){return V.aE},DEFAULT_ENVIRONMENT:function(){return V.Uz},DEFAULT_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT:function(){return V.h9},DEFAULT_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT:function(){return V.V},ExportResultCode:function(){return p.V},ParentBasedSampler:function(){return j},RPCType:function(){return T},RandomIdGenerator:function(){return f},SDK_INFO:function(){return g.q},TRACE_PARENT_HEADER:function(){return R.ZS},TRACE_STATE_HEADER:function(){return R.UD},TimeoutError:function(){return K},TraceIdRatioBasedSampler:function(){return B},TraceState:function(){return X.n},TracesSamplerValues:function(){return G.R},VERSION:function(){return Z.x},W3CBaggagePropagator:function(){return r.t},W3CTraceContextPropagator:function(){return R.lm},_globalThis:function(){return y.X},addHrTimes:function(){return u.mw},baggageUtils:function(){return Q},callWithTimeout:function(){return q},deleteRPCMetadata:function(){return P},getEnv:function(){return S._},getEnvWithoutDefaults:function(){return S.w},getRPCMetadata:function(){return C},getTimeOrigin:function(){return u.uc},globalErrorHandler:function(){return a.s},hexToBase64:function(){return m},hexToBinary:function(){return l},hrTime:function(){return u._5},hrTimeDuration:function(){return u.W5},hrTimeToMicroseconds:function(){return u.w_},hrTimeToMilliseconds:function(){return u.JU},hrTimeToNanoseconds:function(){return u.u5},hrTimeToTimeStamp:function(){return u.tq},internal:function(){return tt},isAttributeKey:function(){return i.oU},isAttributeValue:function(){return i.m},isTimeInput:function(){return u.Ir},isTimeInputHrTime:function(){return u.VL},isTracingSuppressed:function(){return H.Zf},isUrlIgnored:function(){return W.K},isWrapped:function(){return Y},loggingErrorHandler:function(){return s.o},merge:function(){return F.h},millisToHrTime:function(){return u.lg},otperformance:function(){return b.u},parseEnvironment:function(){return V.Nq},parseTraceParent:function(){return R.ZI},sanitizeAttributes:function(){return i.L},setGlobalErrorHandler:function(){return a.u},setRPCMetadata:function(){return A},suppressTracing:function(){return H.M1},timeInputToHrTime:function(){return u.KJ},unrefTimer:function(){return O.K},unsuppressTracing:function(){return H.FU},urlMatches:function(){return W.f}});var r=n(1753),o=function(){function t(t,e){this._monotonicClock=e,this._epochMillis=t.now(),this._performanceMillis=e.now()}return t.prototype.now=function(){var t=this._monotonicClock.now()-this._performanceMillis;return this._epochMillis+t},t}(),i=n(2008),a=n(8360),s=n(7098),u=n(1996);function c(t){return t>=48&&t<=57?t-48:t>=97&&t<=102?t-87:t-55}function l(t){for(var e=new Uint8Array(t.length/2),n=0,r=0;r<t.length;r+=2){var o=c(t.charCodeAt(r)),i=c(t.charCodeAt(r+1));e[n++]=o<<4|i}return e}var p=n(2704),d=n(8867),f=function(){this.generateTraceId=_(16),this.generateSpanId=_(8)},h=Array(32);function _(t){return function(){for(var e=0;e<2*t;e++)h[e]=Math.floor(16*Math.random())+48,h[e]>=58&&(h[e]+=39);return String.fromCharCode.apply(null,h.slice(0,2*t))}}var v=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},E=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))};function m(t){return btoa(String.fromCharCode.apply(String,E([],v(l(t)),!1)))}var T,g=n(3837),y=n(8241),S=n(2693),b=n(9238),O=n(8474),w=n(4469),R=n(1511),L=(0,n(676).n)("OpenTelemetry SDK Context Key RPC_METADATA");function A(t,e){return t.setValue(L,e)}function P(t){return t.deleteValue(L)}function C(t){return t.getValue(L)}!function(t){t.HTTP="http"}(T||(T={}));var N,I=n(3813),M=function(){function t(){}return t.prototype.shouldSample=function(){return{decision:I.i.NOT_RECORD}},t.prototype.toString=function(){return"AlwaysOffSampler"},t}(),x=function(){function t(){}return t.prototype.shouldSample=function(){return{decision:I.i.RECORD_AND_SAMPLED}},t.prototype.toString=function(){return"AlwaysOnSampler"},t}(),k=n(5693),D=n(7230),U=n(2392),j=function(){function t(t){var e,n,r,o;this._root=t.root,this._root||((0,a.s)(new Error("ParentBasedSampler must have a root sampler configured")),this._root=new x),this._remoteParentSampled=null!==(e=t.remoteParentSampled)&&void 0!==e?e:new x,this._remoteParentNotSampled=null!==(n=t.remoteParentNotSampled)&&void 0!==n?n:new M,this._localParentSampled=null!==(r=t.localParentSampled)&&void 0!==r?r:new x,this._localParentNotSampled=null!==(o=t.localParentNotSampled)&&void 0!==o?o:new M}return t.prototype.shouldSample=function(t,e,n,r,o,i){var a=k.u.getSpanContext(t);return a&&(0,D.YA)(a)?a.isRemote?a.traceFlags&U.X.SAMPLED?this._remoteParentSampled.shouldSample(t,e,n,r,o,i):this._remoteParentNotSampled.shouldSample(t,e,n,r,o,i):a.traceFlags&U.X.SAMPLED?this._localParentSampled.shouldSample(t,e,n,r,o,i):this._localParentNotSampled.shouldSample(t,e,n,r,o,i):this._root.shouldSample(t,e,n,r,o,i)},t.prototype.toString=function(){return"ParentBased{root="+this._root.toString()+", remoteParentSampled="+this._remoteParentSampled.toString()+", remoteParentNotSampled="+this._remoteParentNotSampled.toString()+", localParentSampled="+this._localParentSampled.toString()+", localParentNotSampled="+this._localParentNotSampled.toString()+"}"},t}(),B=function(){function t(t){void 0===t&&(t=0),this._ratio=t,this._ratio=this._normalize(t),this._upperBound=Math.floor(4294967295*this._ratio)}return t.prototype.shouldSample=function(t,e){return{decision:(0,D.hX)(e)&&this._accumulate(e)<this._upperBound?I.i.RECORD_AND_SAMPLED:I.i.NOT_RECORD}},t.prototype.toString=function(){return"TraceIdRatioBased{"+this._ratio+"}"},t.prototype._normalize=function(t){return"number"!=typeof t||isNaN(t)?0:t>=1?1:t<=0?0:t},t.prototype._accumulate=function(t){for(var e=0,n=0;n<t.length/8;n++){var r=8*n;e=(e^parseInt(t.slice(r,r+8),16))>>>0}return e},t}(),H=n(3145),X=n(3545),V=n(2524),F=n(8250),G=n(7704),z=(N=function(t,e){return N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},N(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}N(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),K=function(t){function e(n){var r=t.call(this,n)||this;return Object.setPrototypeOf(r,e.prototype),r}return z(e,t),e}(Error);function q(t,e){var n,r=new Promise(function(t,r){n=setTimeout(function(){r(new K("Operation timed out."))},e)});return Promise.race([t,r]).then(function(t){return clearTimeout(n),t},function(t){throw clearTimeout(n),t})}var W=n(2728);function Y(t){return"function"==typeof t&&"function"==typeof t.__original&&"function"==typeof t.__unwrap&&!0===t.__wrapped}var $=n(6080),Z=n(6055),J=n(1425);var Q={getKeyPairs:d.pX,serializeKeyPairs:d.L7,parseKeyPairsIntoRecord:d.hD,parsePairKeyValue:d.Qd},tt={_export:function(t,e){return new Promise(function(n){J._.with((0,H.M1)(J._.active()),function(){t.export(e,function(t){n(t)})})})}}},1320:function(t,e,n){"use strict";n.d(e,{U:function(){return o},q:function(){return r}});var r={get:function(t,e){if(null!=t)return t[e]},keys:function(t){return null==t?[]:Object.keys(t)}},o={set:function(t,e,n){null!=t&&(t[e]=n)}}},1327:function(t,e,n){"use strict";function r(t){for(var e={},n=t.length,r=0;r<n;r++){var o=t[r];o&&(e[String(o).toUpperCase().replace(/[-.]/g,"_")]=o)}return e}n.d(e,{O:function(){return r}})},1425:function(t,e,n){"use strict";n.d(e,{_:function(){return r}});var r=n(8937)._.getInstance()},1511:function(t,e,n){"use strict";n.d(e,{UD:function(){return c},ZI:function(){return p},ZS:function(){return u},lm:function(){return d}});var r=n(2392),o=n(7230),i=n(5693),a=n(3145),s=n(3545),u="traceparent",c="tracestate",l=new RegExp("^\\s?((?!ff)[\\da-f]{2})-((?![0]{32})[\\da-f]{32})-((?![0]{16})[\\da-f]{16})-([\\da-f]{2})(-.*)?\\s?$");function p(t){var e=l.exec(t);return e?"00"===e[1]&&e[5]?null:{traceId:e[2],spanId:e[3],traceFlags:parseInt(e[4],16)}:null}var d=function(){function t(){}return t.prototype.inject=function(t,e,n){var s=i.u.getSpanContext(t);if(s&&!(0,a.Zf)(t)&&(0,o.YA)(s)){var l="00-"+s.traceId+"-"+s.spanId+"-0"+Number(s.traceFlags||r.X.NONE).toString(16);n.set(e,u,l),s.traceState&&n.set(e,c,s.traceState.serialize())}},t.prototype.extract=function(t,e,n){var r=n.get(e,u);if(!r)return t;var o=Array.isArray(r)?r[0]:r;if("string"!=typeof o)return t;var a=p(o);if(!a)return t;a.isRemote=!0;var l=n.get(e,c);if(l){var d=Array.isArray(l)?l.join(","):l;a.traceState=new s.n("string"==typeof d?d:void 0)}return i.u.setSpanContext(t,a)},t.prototype.fields=function(){return[u,c]},t}()},1753:function(t,e,n){"use strict";n.d(e,{t:function(){return s}});var r=n(935),o=n(3145),i=n(6963),a=n(8867),s=function(){function t(){}return t.prototype.inject=function(t,e,n){var s=r.$.getBaggage(t);if(s&&!(0,o.Zf)(t)){var u=(0,a.pX)(s).filter(function(t){return t.length<=i.KV}).slice(0,i.QC),c=(0,a.L7)(u);c.length>0&&n.set(e,i.r_,c)}},t.prototype.extract=function(t,e,n){var o=n.get(e,i.r_),s=Array.isArray(o)?o.join(i.EC):o;if(!s)return t;var u={};return 0===s.length?t:(s.split(i.EC).forEach(function(t){var e=(0,a.Qd)(t);if(e){var n={value:e.value};e.metadata&&(n.metadata=e.metadata),u[e.key]=n}}),0===Object.entries(u).length?t:r.$.setBaggage(t,r.$.createBaggage(u)))},t.prototype.fields=function(){return[i.r_]},t}()},1996:function(t,e,n){"use strict";n.d(e,{Ir:function(){return E},JU:function(){return h},KJ:function(){return l},VL:function(){return v},W5:function(){return p},_5:function(){return c},lg:function(){return s},mw:function(){return m},tq:function(){return d},u5:function(){return f},uc:function(){return u},w_:function(){return _}});var r=n(9238),o=9,i=Math.pow(10,6),a=Math.pow(10,o);function s(t){var e=t/1e3;return[Math.trunc(e),Math.round(t%1e3*i)]}function u(){var t=r.u.timeOrigin;if("number"!=typeof t){var e=r.u;t=e.timing&&e.timing.fetchStart}return t}function c(t){return m(s(u()),s("number"==typeof t?t:r.u.now()))}function l(t){if(v(t))return t;if("number"==typeof t)return t<u()?c(t):s(t);if(t instanceof Date)return s(t.getTime());throw TypeError("Invalid input type")}function p(t,e){var n=e[0]-t[0],r=e[1]-t[1];return r<0&&(n-=1,r+=a),[n,r]}function d(t){var e=o,n=""+"0".repeat(e)+t[1]+"Z",r=n.substring(n.length-e-1);return new Date(1e3*t[0]).toISOString().replace("000Z",r)}function f(t){return t[0]*a+t[1]}function h(t){return 1e3*t[0]+t[1]/1e6}function _(t){return 1e6*t[0]+t[1]/1e3}function v(t){return Array.isArray(t)&&2===t.length&&"number"==typeof t[0]&&"number"==typeof t[1]}function E(t){return v(t)||"number"==typeof t||t instanceof Date}function m(t,e){var n=[t[0]+e[0],t[1]+e[1]];return n[1]>=a&&(n[1]-=a,n[0]+=1),n}},2008:function(t,e,n){"use strict";n.d(e,{L:function(){return a},m:function(){return u},oU:function(){return s}});var r=n(9621),o=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},i=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};function a(t){var e,n,a={};if("object"!=typeof t||null==t)return a;try{for(var c=o(Object.entries(t)),l=c.next();!l.done;l=c.next()){var p=i(l.value,2),d=p[0],f=p[1];s(d)?u(f)?Array.isArray(f)?a[d]=f.slice():a[d]=f:r.s.warn("Invalid attribute value set for key: "+d):r.s.warn("Invalid attribute key: "+d)}}catch(t){e={error:t}}finally{try{l&&!l.done&&(n=c.return)&&n.call(c)}finally{if(e)throw e.error}}return a}function s(t){return"string"==typeof t&&t.length>0}function u(t){return null==t||(Array.isArray(t)?function(t){var e,n,r;try{for(var i=o(t),a=i.next();!a.done;a=i.next()){var s=a.value;if(null!=s){if(!r){if(c(s)){r=typeof s;continue}return!1}if(typeof s!==r)return!1}}}catch(t){e={error:t}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return!0}(t):c(t))}function c(t){switch(typeof t){case"number":case"boolean":case"string":return!0}return!1}},2084:function(t,e,n){"use strict";n.d(e,{q:function(){return u}});var r=n(8264),o=new(function(){function t(){}return t.prototype.getMeter=function(t,e,n){return r.Dq},t}()),i=n(96),a=n(202),s="metrics",u=function(){function t(){}return t.getInstance=function(){return this._instance||(this._instance=new t),this._instance},t.prototype.setGlobalMeterProvider=function(t){return(0,i.$G)(s,t,a.K.instance())},t.prototype.getMeterProvider=function(){return(0,i.mS)(s)||o},t.prototype.getMeter=function(t,e,n){return this.getMeterProvider().getMeter(t,e,n)},t.prototype.disable=function(){(0,i.kv)(s,a.K.instance())},t}().getInstance()},2151:function(){"undefined"==typeof NodeList||NodeList.prototype[Symbol.iterator]||(NodeList.prototype[Symbol.iterator]=[][Symbol.iterator]),"undefined"==typeof HTMLCollection||HTMLCollection.prototype[Symbol.iterator]||(HTMLCollection.prototype[Symbol.iterator]=[][Symbol.iterator])},2376:function(t,e,n){"use strict";n.d(e,{o:function(){return u}});var r=n(8937),o=n(582),i=n(179),a=n(7230),s=r._.getInstance(),u=function(){function t(){}return t.prototype.startSpan=function(t,e,n){if(void 0===n&&(n=s.active()),Boolean(null==e?void 0:e.root))return new i.d;var r,u=n&&(0,o.w8)(n);return"object"==typeof(r=u)&&"string"==typeof r.spanId&&"string"==typeof r.traceId&&"number"==typeof r.traceFlags&&(0,a.YA)(u)?new i.d(u):new i.d},t.prototype.startActiveSpan=function(t,e,n,r){var i,a,u;if(!(arguments.length<2)){2===arguments.length?u=e:3===arguments.length?(i=e,u=n):(i=e,a=n,u=r);var c=null!=a?a:s.active(),l=this.startSpan(t,i,c),p=(0,o.Bx)(c,l);return s.with(p,u,void 0,l)}},t}()},2392:function(t,e,n){"use strict";var r;n.d(e,{X:function(){return r}}),function(t){t[t.NONE=0]="NONE",t[t.SAMPLED=1]="SAMPLED"}(r||(r={}))},2524:function(t,e,n){"use strict";n.d(e,{Nq:function(){return S},Uz:function(){return v},V:function(){return _},aE:function(){return d},fv:function(){return f},h9:function(){return h}});var r=n(1050),o=n(7704),i=",",a=["OTEL_SDK_DISABLED"];function s(t){return a.indexOf(t)>-1}var u=["OTEL_BSP_EXPORT_TIMEOUT","OTEL_BSP_MAX_EXPORT_BATCH_SIZE","OTEL_BSP_MAX_QUEUE_SIZE","OTEL_BSP_SCHEDULE_DELAY","OTEL_BLRP_EXPORT_TIMEOUT","OTEL_BLRP_MAX_EXPORT_BATCH_SIZE","OTEL_BLRP_MAX_QUEUE_SIZE","OTEL_BLRP_SCHEDULE_DELAY","OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT","OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_EVENT_COUNT_LIMIT","OTEL_SPAN_LINK_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT","OTEL_EXPORTER_OTLP_TIMEOUT","OTEL_EXPORTER_OTLP_TRACES_TIMEOUT","OTEL_EXPORTER_OTLP_METRICS_TIMEOUT","OTEL_EXPORTER_OTLP_LOGS_TIMEOUT","OTEL_EXPORTER_JAEGER_AGENT_PORT"];function c(t){return u.indexOf(t)>-1}var l=["OTEL_NO_PATCH_MODULES","OTEL_PROPAGATORS","OTEL_SEMCONV_STABILITY_OPT_IN"];function p(t){return l.indexOf(t)>-1}var d=1/0,f=128,h=128,_=128,v={OTEL_SDK_DISABLED:!1,CONTAINER_NAME:"",ECS_CONTAINER_METADATA_URI_V4:"",ECS_CONTAINER_METADATA_URI:"",HOSTNAME:"",KUBERNETES_SERVICE_HOST:"",NAMESPACE:"",OTEL_BSP_EXPORT_TIMEOUT:3e4,OTEL_BSP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BSP_MAX_QUEUE_SIZE:2048,OTEL_BSP_SCHEDULE_DELAY:5e3,OTEL_BLRP_EXPORT_TIMEOUT:3e4,OTEL_BLRP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BLRP_MAX_QUEUE_SIZE:2048,OTEL_BLRP_SCHEDULE_DELAY:5e3,OTEL_EXPORTER_JAEGER_AGENT_HOST:"",OTEL_EXPORTER_JAEGER_AGENT_PORT:6832,OTEL_EXPORTER_JAEGER_ENDPOINT:"",OTEL_EXPORTER_JAEGER_PASSWORD:"",OTEL_EXPORTER_JAEGER_USER:"",OTEL_EXPORTER_OTLP_ENDPOINT:"",OTEL_EXPORTER_OTLP_TRACES_ENDPOINT:"",OTEL_EXPORTER_OTLP_METRICS_ENDPOINT:"",OTEL_EXPORTER_OTLP_LOGS_ENDPOINT:"",OTEL_EXPORTER_OTLP_HEADERS:"",OTEL_EXPORTER_OTLP_TRACES_HEADERS:"",OTEL_EXPORTER_OTLP_METRICS_HEADERS:"",OTEL_EXPORTER_OTLP_LOGS_HEADERS:"",OTEL_EXPORTER_OTLP_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_TRACES_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_METRICS_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_LOGS_TIMEOUT:1e4,OTEL_EXPORTER_ZIPKIN_ENDPOINT:"http://localhost:9411/api/v2/spans",OTEL_LOG_LEVEL:r.u.INFO,OTEL_NO_PATCH_MODULES:[],OTEL_PROPAGATORS:["tracecontext","baggage"],OTEL_RESOURCE_ATTRIBUTES:"",OTEL_SERVICE_NAME:"",OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT:d,OTEL_ATTRIBUTE_COUNT_LIMIT:f,OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT:d,OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT:f,OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT:d,OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT:f,OTEL_SPAN_EVENT_COUNT_LIMIT:128,OTEL_SPAN_LINK_COUNT_LIMIT:128,OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT:h,OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT:_,OTEL_TRACES_EXPORTER:"",OTEL_TRACES_SAMPLER:o.R.ParentBasedAlwaysOn,OTEL_TRACES_SAMPLER_ARG:"",OTEL_LOGS_EXPORTER:"",OTEL_EXPORTER_OTLP_INSECURE:"",OTEL_EXPORTER_OTLP_TRACES_INSECURE:"",OTEL_EXPORTER_OTLP_METRICS_INSECURE:"",OTEL_EXPORTER_OTLP_LOGS_INSECURE:"",OTEL_EXPORTER_OTLP_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_LOGS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_COMPRESSION:"",OTEL_EXPORTER_OTLP_TRACES_COMPRESSION:"",OTEL_EXPORTER_OTLP_METRICS_COMPRESSION:"",OTEL_EXPORTER_OTLP_LOGS_COMPRESSION:"",OTEL_EXPORTER_OTLP_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_LOGS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_LOGS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_TRACES_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_LOGS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_TEMPORALITY_PREFERENCE:"cumulative",OTEL_SEMCONV_STABILITY_OPT_IN:[]};function E(t,e,n){if(void 0!==n[t]){var r=String(n[t]);e[t]="true"===r.toLowerCase()}}function m(t,e,n,r,o){if(void 0===r&&(r=-1/0),void 0===o&&(o=1/0),void 0!==n[t]){var i=Number(n[t]);isNaN(i)||(e[t]=i<r?r:i>o?o:i)}}function T(t,e,n,r){void 0===r&&(r=i);var o=n[t];"string"==typeof o&&(e[t]=o.split(r).map(function(t){return t.trim()}))}var g={ALL:r.u.ALL,VERBOSE:r.u.VERBOSE,DEBUG:r.u.DEBUG,INFO:r.u.INFO,WARN:r.u.WARN,ERROR:r.u.ERROR,NONE:r.u.NONE};function y(t,e,n){var r=n[t];if("string"==typeof r){var o=g[r.toUpperCase()];null!=o&&(e[t]=o)}}function S(t){var e={};for(var n in v){var r=n;if("OTEL_LOG_LEVEL"===r)y(r,e,t);else if(s(r))E(r,e,t);else if(c(r))m(r,e,t);else if(p(r))T(r,e,t);else{var o=t[r];null!=o&&(e[r]=String(o))}}return e}},2693:function(t,e,n){"use strict";n.d(e,{_:function(){return i},w:function(){return a}});var r=n(2524),o=n(8241);function i(){var t=(0,r.Nq)(o.X);return Object.assign({},r.Uz,t)}function a(){return(0,r.Nq)(o.X)}},2704:function(t,e,n){"use strict";var r;n.d(e,{V:function(){return r}}),function(t){t[t.SUCCESS=0]="SUCCESS",t[t.FAILED=1]="FAILED"}(r||(r={}))},2728:function(t,e,n){"use strict";n.d(e,{K:function(){return i},f:function(){return o}});var r=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function o(t,e){return"string"==typeof e?t===e:!!t.match(e)}function i(t,e){var n,i;if(!e)return!1;try{for(var a=r(e),s=a.next();!s.done;s=a.next()){if(o(t,s.value))return!0}}catch(t){n={error:t}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}return!1}},3145:function(t,e,n){"use strict";n.d(e,{FU:function(){return i},M1:function(){return o},Zf:function(){return a}});var r=(0,n(676).n)("OpenTelemetry SDK Context Key SUPPRESS_TRACING");function o(t){return t.setValue(r,!0)}function i(t){return t.deleteValue(r)}function a(t){return!0===t.getValue(r)}},3545:function(t,e,n){"use strict";n.d(e,{n:function(){return s}});var r="[_0-9a-z-*/]",o=new RegExp("^(?:"+("[a-z]"+r+"{0,255}")+"|"+("[a-z0-9]"+r+"{0,240}@[a-z]"+r+"{0,13}")+")$"),i=/^[ -~]{0,255}[!-~]$/,a=/,|=/;var s=function(){function t(t){this._internalState=new Map,t&&this._parse(t)}return t.prototype.set=function(t,e){var n=this._clone();return n._internalState.has(t)&&n._internalState.delete(t),n._internalState.set(t,e),n},t.prototype.unset=function(t){var e=this._clone();return e._internalState.delete(t),e},t.prototype.get=function(t){return this._internalState.get(t)},t.prototype.serialize=function(){var t=this;return this._keys().reduce(function(e,n){return e.push(n+"="+t.get(n)),e},[]).join(",")},t.prototype._parse=function(t){t.length>512||(this._internalState=t.split(",").reverse().reduce(function(t,e){var n=e.trim(),r=n.indexOf("=");if(-1!==r){var s=n.slice(0,r),u=n.slice(r+1,e.length);(function(t){return o.test(t)})(s)&&function(t){return i.test(t)&&!a.test(t)}(u)&&t.set(s,u)}return t},new Map),this._internalState.size>32&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,32))))},t.prototype._keys=function(){return Array.from(this._internalState.keys()).reverse()},t.prototype._clone=function(){var e=new t;return e._internalState=new Map(this._internalState),e},t}()},3813:function(t,e,n){"use strict";var r;n.d(e,{i:function(){return r}}),function(t){t[t.NOT_RECORD=0]="NOT_RECORD",t[t.RECORD=1]="RECORD",t[t.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"}(r||(r={}))},3837:function(t,e,n){"use strict";n.d(e,{q:function(){return a}});var r,o=n(6055),i=n(8330),a=((r={})[i.$L]="opentelemetry",r[i.lb]="browser",r[i.Pl]=i.uh,r[i.y$]=o.x,r)},4325:function(t,e,n){"use strict";var r;n.d(e,{e:function(){return r}}),function(t){t[t.INT=0]="INT",t[t.DOUBLE=1]="DOUBLE"}(r||(r={}))},4374:function(t,e,n){"use strict";n.r(e),n.d(e,{DiagConsoleLogger:function(){return i.F},DiagLogLevel:function(){return a.u},INVALID_SPANID:function(){return b.w9},INVALID_SPAN_CONTEXT:function(){return b.dM},INVALID_TRACEID:function(){return b.RH},ProxyTracer:function(){return l.y},ProxyTracerProvider:function(){return p.n},ROOT_CONTEXT:function(){return o.l},SamplingDecision:function(){return d.i},SpanKind:function(){return f.v},SpanStatusCode:function(){return h.s},TraceFlags:function(){return _.X},ValueType:function(){return u.e},baggageEntryMetadataFromString:function(){return r.B},context:function(){return O._},createContextKey:function(){return o.n},createNoopMeter:function(){return s.Ac},createTraceState:function(){return y},default:function(){return P},defaultTextMapGetter:function(){return c.q},defaultTextMapSetter:function(){return c.U},diag:function(){return w.s},isSpanContextValid:function(){return S.YA},isValidSpanId:function(){return S.wN},isValidTraceId:function(){return S.hX},metrics:function(){return R.q},propagation:function(){return L.$},trace:function(){return A.u}});var r=n(4729),o=n(676),i=n(7626),a=n(1050),s=n(8264),u=n(4325),c=n(1320),l=n(9968),p=n(5568),d=n(3813),f=n(590),h=n(4419),_=n(2392),v="[_0-9a-z-*/]",E=new RegExp("^(?:"+("[a-z]"+v+"{0,255}")+"|"+("[a-z0-9]"+v+"{0,240}@[a-z]"+v+"{0,13}")+")$"),m=/^[ -~]{0,255}[!-~]$/,T=/,|=/;var g=function(){function t(t){this._internalState=new Map,t&&this._parse(t)}return t.prototype.set=function(t,e){var n=this._clone();return n._internalState.has(t)&&n._internalState.delete(t),n._internalState.set(t,e),n},t.prototype.unset=function(t){var e=this._clone();return e._internalState.delete(t),e},t.prototype.get=function(t){return this._internalState.get(t)},t.prototype.serialize=function(){var t=this;return this._keys().reduce(function(e,n){return e.push(n+"="+t.get(n)),e},[]).join(",")},t.prototype._parse=function(t){t.length>512||(this._internalState=t.split(",").reverse().reduce(function(t,e){var n=e.trim(),r=n.indexOf("=");if(-1!==r){var o=n.slice(0,r),i=n.slice(r+1,e.length);(function(t){return E.test(t)})(o)&&function(t){return m.test(t)&&!T.test(t)}(i)&&t.set(o,i)}return t},new Map),this._internalState.size>32&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,32))))},t.prototype._keys=function(){return Array.from(this._internalState.keys()).reverse()},t.prototype._clone=function(){var e=new t;return e._internalState=new Map(this._internalState),e},t}();function y(t){return new g(t)}var S=n(7230),b=n(195),O=n(1425),w=n(9621),R=n(2084),L=n(935),A=n(5693),P={context:O._,diag:w.s,metrics:R.q,propagation:L.$,trace:A.u}},4419:function(t,e,n){"use strict";var r;n.d(e,{s:function(){return r}}),function(t){t[t.UNSET=0]="UNSET",t[t.OK=1]="OK",t[t.ERROR=2]="ERROR"}(r||(r={}))},4469:function(t,e,n){"use strict";n.d(e,{n:function(){return i}});var r=n(9621),o=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},i=function(){function t(t){var e;void 0===t&&(t={}),this._propagators=null!==(e=t.propagators)&&void 0!==e?e:[],this._fields=Array.from(new Set(this._propagators.map(function(t){return"function"==typeof t.fields?t.fields():[]}).reduce(function(t,e){return t.concat(e)},[])))}return t.prototype.inject=function(t,e,n){var i,a;try{for(var s=o(this._propagators),u=s.next();!u.done;u=s.next()){var c=u.value;try{c.inject(t,e,n)}catch(t){r.s.warn("Failed to inject with "+c.constructor.name+". Err: "+t.message)}}}catch(t){i={error:t}}finally{try{u&&!u.done&&(a=s.return)&&a.call(s)}finally{if(i)throw i.error}}},t.prototype.extract=function(t,e,n){return this._propagators.reduce(function(t,o){try{return o.extract(t,e,n)}catch(t){r.s.warn("Failed to extract with "+o.constructor.name+". Err: "+t.message)}return t},t)},t.prototype.fields=function(){return this._fields.slice()},t}()},4729:function(t,e,n){"use strict";n.d(e,{B:function(){return l},L:function(){return c}});var r=n(202),o=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},i=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},a=function(){function t(t){this._entries=t?new Map(t):new Map}return t.prototype.getEntry=function(t){var e=this._entries.get(t);if(e)return Object.assign({},e)},t.prototype.getAllEntries=function(){return Array.from(this._entries.entries()).map(function(t){var e=o(t,2);return[e[0],e[1]]})},t.prototype.setEntry=function(e,n){var r=new t(this._entries);return r._entries.set(e,n),r},t.prototype.removeEntry=function(e){var n=new t(this._entries);return n._entries.delete(e),n},t.prototype.removeEntries=function(){for(var e,n,r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];var a=new t(this._entries);try{for(var s=i(r),u=s.next();!u.done;u=s.next()){var c=u.value;a._entries.delete(c)}}catch(t){e={error:t}}finally{try{u&&!u.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}return a},t.prototype.clear=function(){return new t},t}(),s=Symbol("BaggageEntryMetadata"),u=r.K.instance();function c(t){return void 0===t&&(t={}),new a(new Map(Object.entries(t)))}function l(t){return"string"!=typeof t&&(u.error("Cannot create baggage metadata from unknown type: "+typeof t),t=""),{__TYPE__:s,toString:function(){return t}}}},5568:function(t,e,n){"use strict";n.d(e,{n:function(){return a}});var r=n(9968),o=n(2376),i=new(function(){function t(){}return t.prototype.getTracer=function(t,e,n){return new o.o},t}()),a=function(){function t(){}return t.prototype.getTracer=function(t,e,n){var o;return null!==(o=this.getDelegateTracer(t,e,n))&&void 0!==o?o:new r.y(this,t,e,n)},t.prototype.getDelegate=function(){var t;return null!==(t=this._delegate)&&void 0!==t?t:i},t.prototype.setDelegate=function(t){this._delegate=t},t.prototype.getDelegateTracer=function(t,e,n){var r;return null===(r=this._delegate)||void 0===r?void 0:r.getTracer(t,e,n)},t}()},5693:function(t,e,n){"use strict";n.d(e,{u:function(){return c}});var r=n(96),o=n(5568),i=n(7230),a=n(582),s=n(202),u="trace",c=function(){function t(){this._proxyTracerProvider=new o.n,this.wrapSpanContext=i.IP,this.isSpanContextValid=i.YA,this.deleteSpan=a.EW,this.getSpan=a.fU,this.getActiveSpan=a.Bk,this.getSpanContext=a.w8,this.setSpan=a.Bx,this.setSpanContext=a.g_}return t.getInstance=function(){return this._instance||(this._instance=new t),this._instance},t.prototype.setGlobalTracerProvider=function(t){var e=(0,r.$G)(u,this._proxyTracerProvider,s.K.instance());return e&&this._proxyTracerProvider.setDelegate(t),e},t.prototype.getTracerProvider=function(){return(0,r.mS)(u)||this._proxyTracerProvider},t.prototype.getTracer=function(t,e){return this.getTracerProvider().getTracer(t,e)},t.prototype.disable=function(){(0,r.kv)(u,s.K.instance()),this._proxyTracerProvider=new o.n},t}().getInstance()},6055:function(t,e,n){"use strict";n.d(e,{x:function(){return r}});var r="1.30.1"},6076:function(t){"use strict";function e(t){return"function"==typeof t}var n=console.error.bind(console);function r(t,e,n){var r=!!t[e]&&t.propertyIsEnumerable(e);Object.defineProperty(t,e,{configurable:!0,enumerable:r,writable:!0,value:n})}function o(t){t&&t.logger&&(e(t.logger)?n=t.logger:n("new logger isn't a function, not replacing"))}function i(t,o,i){if(t&&t[o]){if(!i)return n("no wrapper function"),void n((new Error).stack);if(e(t[o])&&e(i)){var a=t[o],s=i(a,o);return r(s,"__original",a),r(s,"__unwrap",function(){t[o]===s&&r(t,o,a)}),r(s,"__wrapped",!0),r(t,o,s),s}n("original object and wrapper must be functions")}else n("no original function "+o+" to wrap")}function a(t,e){return t&&t[e]?t[e].__unwrap?t[e].__unwrap():void n("no original to unwrap to -- has "+e+" already been unwrapped?"):(n("no function to unwrap."),void n((new Error).stack))}o.wrap=i,o.massWrap=function(t,e,r){if(!t)return n("must provide one or more modules to patch"),void n((new Error).stack);Array.isArray(t)||(t=[t]),e&&Array.isArray(e)?t.forEach(function(t){e.forEach(function(e){i(t,e,r)})}):n("must provide one or more functions to wrap on modules")},o.unwrap=a,o.massUnwrap=function(t,e){if(!t)return n("must provide one or more modules to patch"),void n((new Error).stack);Array.isArray(t)||(t=[t]),e&&Array.isArray(e)?t.forEach(function(t){e.forEach(function(e){a(t,e)})}):n("must provide one or more functions to unwrap on modules")},t.exports=o},6080:function(t,e,n){"use strict";n.d(e,{I:function(){return a}});var r=function(){function t(){var t=this;this._promise=new Promise(function(e,n){t._resolve=e,t._reject=n})}return Object.defineProperty(t.prototype,"promise",{get:function(){return this._promise},enumerable:!1,configurable:!0}),t.prototype.resolve=function(t){this._resolve(t)},t.prototype.reject=function(t){this._reject(t)},t}(),o=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},i=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},a=function(){function t(t,e){this._callback=t,this._that=e,this._isCalled=!1,this._deferred=new r}return Object.defineProperty(t.prototype,"isCalled",{get:function(){return this._isCalled},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"promise",{get:function(){return this._deferred.promise},enumerable:!1,configurable:!0}),t.prototype.call=function(){for(var t,e=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(!this._isCalled){this._isCalled=!0;try{Promise.resolve((t=this._callback).call.apply(t,i([this._that],o(n),!1))).then(function(t){return e._deferred.resolve(t)},function(t){return e._deferred.reject(t)})}catch(t){this._deferred.reject(t)}}return this._deferred.promise},t}()},6963:function(t,e,n){"use strict";n.d(e,{EC:function(){return i},KV:function(){return u},QC:function(){return s},hN:function(){return o},kI:function(){return c},r_:function(){return a},un:function(){return r}});var r="=",o=";",i=",",a="baggage",s=180,u=4096,c=8192},7098:function(t,e,n){"use strict";n.d(e,{o:function(){return o}});var r=n(9621);function o(){return function(t){r.s.error(function(t){return"string"==typeof t?t:JSON.stringify(function(t){var e={},n=t;for(;null!==n;)Object.getOwnPropertyNames(n).forEach(function(t){if(!e[t]){var r=n[t];r&&(e[t]=String(r))}}),n=Object.getPrototypeOf(n);return e}(t))}(t))}}},7230:function(t,e,n){"use strict";n.d(e,{IP:function(){return l},YA:function(){return c},hX:function(){return s},wN:function(){return u}});var r=n(195),o=n(179),i=/^([0-9a-f]{32})$/i,a=/^[0-9a-f]{16}$/i;function s(t){return i.test(t)&&t!==r.RH}function u(t){return a.test(t)&&t!==r.w9}function c(t){return s(t.traceId)&&u(t.spanId)}function l(t){return new o.d(t)}},7545:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SpanKind=void 0,function(t){t.CLIENT="CLIENT",t.SERVER="SERVER",t.CONSUMER="CONSUMER",t.PRODUCER="PRODUCER"}(e.SpanKind||(e.SpanKind={}))},7626:function(t,e,n){"use strict";n.d(e,{F:function(){return o}});var r=[{n:"error",c:"error"},{n:"warn",c:"warn"},{n:"info",c:"info"},{n:"debug",c:"debug"},{n:"verbose",c:"trace"}],o=function(){function t(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(console){var r=console[t];if("function"!=typeof r&&(r=console.log),"function"==typeof r)return r.apply(console,e)}}}for(var e=0;e<r.length;e++)this[r[e].n]=t(r[e].c)}},7704:function(t,e,n){"use strict";var r;n.d(e,{R:function(){return r}}),function(t){t.AlwaysOff="always_off",t.AlwaysOn="always_on",t.ParentBasedAlwaysOff="parentbased_always_off",t.ParentBasedAlwaysOn="parentbased_always_on",t.ParentBasedTraceIdRatio="parentbased_traceidratio",t.TraceIdRatio="traceidratio"}(r||(r={}))},8241:function(t,e,n){"use strict";n.d(e,{X:function(){return r}});var r="object"==typeof globalThis?globalThis:"object"==typeof self?self:"object"==typeof window?window:"object"==typeof n.g?n.g:{}},8250:function(t,e,n){"use strict";n.d(e,{h:function(){return E}});var r,o,i="[object Object]",a="[object Null]",s="[object Undefined]",u=Function.prototype.toString,c=u.call(Object),l=(r=Object.getPrototypeOf,o=Object,function(t){return r(o(t))}),p=Object.prototype,d=p.hasOwnProperty,f=Symbol?Symbol.toStringTag:void 0,h=p.toString;function _(t){if(!function(t){return null!=t&&"object"==typeof t}(t)||function(t){if(null==t)return void 0===t?s:a;return f&&f in Object(t)?function(t){var e=d.call(t,f),n=t[f],r=!1;try{t[f]=void 0,r=!0}catch(t){}var o=h.call(t);r&&(e?t[f]=n:delete t[f]);return o}(t):function(t){return h.call(t)}(t)}(t)!==i)return!1;var e=l(t);if(null===e)return!0;var n=d.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&u.call(n)===c}var v=20;function E(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=t.shift(),r=new WeakMap;t.length>0;)n=T(n,t.shift(),0,r);return n}function m(t){return y(t)?t.slice():t}function T(t,e,n,r){var o;if(void 0===n&&(n=0),!(n>v)){if(n++,O(t)||O(e)||S(e))o=m(e);else if(y(t)){if(o=t.slice(),y(e))for(var i=0,a=e.length;i<a;i++)o.push(m(e[i]));else if(b(e))for(i=0,a=(s=Object.keys(e)).length;i<a;i++){o[u=s[i]]=m(e[u])}}else if(b(t))if(b(e)){if(!function(t,e){if(!_(t)||!_(e))return!1;return!0}(t,e))return e;o=Object.assign({},t);var s;for(i=0,a=(s=Object.keys(e)).length;i<a;i++){var u,c=e[u=s[i]];if(O(c))void 0===c?delete o[u]:o[u]=c;else{var l=o[u],p=c;if(g(t,u,r)||g(e,u,r))delete o[u];else{if(b(l)&&b(p)){var d=r.get(l)||[],f=r.get(p)||[];d.push({obj:t,key:u}),f.push({obj:e,key:u}),r.set(l,d),r.set(p,f)}o[u]=T(o[u],c,n,r)}}}}else o=e;return o}}function g(t,e,n){for(var r=n.get(t[e])||[],o=0,i=r.length;o<i;o++){var a=r[o];if(a.key===e&&a.obj===t)return!0}return!1}function y(t){return Array.isArray(t)}function S(t){return"function"==typeof t}function b(t){return!O(t)&&!y(t)&&!S(t)&&"object"==typeof t}function O(t){return"string"==typeof t||"number"==typeof t||"boolean"==typeof t||void 0===t||t instanceof Date||t instanceof RegExp||null===t}},8264:function(t,e,n){"use strict";n.d(e,{Ac:function(){return b},Dq:function(){return _}});var r,o=(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=function(){function t(){}return t.prototype.createGauge=function(t,e){return E},t.prototype.createHistogram=function(t,e){return m},t.prototype.createCounter=function(t,e){return v},t.prototype.createUpDownCounter=function(t,e){return T},t.prototype.createObservableGauge=function(t,e){return y},t.prototype.createObservableCounter=function(t,e){return g},t.prototype.createObservableUpDownCounter=function(t,e){return S},t.prototype.addBatchObservableCallback=function(t,e){},t.prototype.removeBatchObservableCallback=function(t){},t}(),a=function(){},s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.add=function(t,e){},e}(a),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.add=function(t,e){},e}(a),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.record=function(t,e){},e}(a),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.record=function(t,e){},e}(a),p=function(){function t(){}return t.prototype.addCallback=function(t){},t.prototype.removeCallback=function(t){},t}(),d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e}(p),f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e}(p),h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e}(p),_=new i,v=new s,E=new c,m=new l,T=new u,g=new d,y=new f,S=new h;function b(){return _}},8330:function(t,e,n){"use strict";n.d(e,{$L:function(){return l},AV:function(){return c},Pl:function(){return p},lb:function(){return u},uh:function(){return h},y$:function(){return d}});n(1327);var r="process.runtime.name",o="service.name",i="telemetry.sdk.name",a="telemetry.sdk.language",s="telemetry.sdk.version",u=r,c=o,l=i,p=a,d=s,f="webjs",h=f},8360:function(t,e,n){"use strict";n.d(e,{s:function(){return i},u:function(){return o}});var r=(0,n(7098).o)();function o(t){r=t}function i(t){try{r(t)}catch(t){}}},8474:function(t,e,n){"use strict";function r(t){}n.d(e,{K:function(){return r}})},8867:function(t,e,n){"use strict";n.d(e,{L7:function(){return a},Qd:function(){return u},hD:function(){return c},pX:function(){return s}});var r=n(4729),o=n(6963),i=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};function a(t){return t.reduce(function(t,e){var n=""+t+(""!==t?o.EC:"")+e;return n.length>o.kI?t:n},"")}function s(t){return t.getAllEntries().map(function(t){var e=i(t,2),n=e[0],r=e[1],a=encodeURIComponent(n)+"="+encodeURIComponent(r.value);return void 0!==r.metadata&&(a+=o.hN+r.metadata.toString()),a})}function u(t){var e=t.split(o.hN);if(!(e.length<=0)){var n=e.shift();if(n){var i=n.indexOf(o.un);if(!(i<=0)){var a,s=decodeURIComponent(n.substring(0,i).trim()),u=decodeURIComponent(n.substring(i+1).trim());return e.length>0&&(a=(0,r.B)(e.join(o.hN))),{key:s,value:u,metadata:a}}}}}function c(t){return"string"!=typeof t||0===t.length?{}:t.split(o.EC).map(function(t){return u(t)}).filter(function(t){return void 0!==t&&t.value.length>0}).reduce(function(t,e){return t[e.key]=e.value,t},{})}},8937:function(t,e,n){"use strict";n.d(e,{_:function(){return f}});var r=n(676),o=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},i=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},a=function(){function t(){}return t.prototype.active=function(){return r.l},t.prototype.with=function(t,e,n){for(var r=[],a=3;a<arguments.length;a++)r[a-3]=arguments[a];return e.call.apply(e,i([n],o(r),!1))},t.prototype.bind=function(t,e){return e},t.prototype.enable=function(){return this},t.prototype.disable=function(){return this},t}(),s=n(96),u=n(202),c=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},l=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},p="context",d=new a,f=function(){function t(){}return t.getInstance=function(){return this._instance||(this._instance=new t),this._instance},t.prototype.setGlobalContextManager=function(t){return(0,s.$G)(p,t,u.K.instance())},t.prototype.active=function(){return this._getContextManager().active()},t.prototype.with=function(t,e,n){for(var r,o=[],i=3;i<arguments.length;i++)o[i-3]=arguments[i];return(r=this._getContextManager()).with.apply(r,l([t,e,n],c(o),!1))},t.prototype.bind=function(t,e){return this._getContextManager().bind(t,e)},t.prototype._getContextManager=function(){return(0,s.mS)(p)||d},t.prototype.disable=function(){this._getContextManager().disable(),(0,s.kv)(p,u.K.instance())},t}()},9238:function(t,e,n){"use strict";n.d(e,{u:function(){return r}});var r=performance},9621:function(t,e,n){"use strict";n.d(e,{s:function(){return r}});var r=n(202).K.instance()},9676:function(t,e,n){"use strict";e.jS=e.py=e.Ux=void 0;const r=n(4374),o=n(1256),i=n(7545),a={[r.SpanKind.CLIENT]:i.SpanKind.CLIENT,[r.SpanKind.SERVER]:i.SpanKind.SERVER,[r.SpanKind.CONSUMER]:i.SpanKind.CONSUMER,[r.SpanKind.PRODUCER]:i.SpanKind.PRODUCER,[r.SpanKind.INTERNAL]:void 0};function s({attributes:t,resource:e,status:n,droppedAttributesCount:o,droppedEventsCount:i,droppedLinksCount:a},s,u){const c={};for(const e of Object.keys(t))c[e]=String(t[e]);return n.code!==r.SpanStatusCode.UNSET&&(c[s]=String(r.SpanStatusCode[n.code])),n.code===r.SpanStatusCode.ERROR&&n.message&&(c[u]=n.message),o&&(c["otel.dropped_attributes_count"]=String(o)),i&&(c["otel.dropped_events_count"]=String(i)),a&&(c["otel.dropped_links_count"]=String(a)),Object.keys(e.attributes).forEach(t=>c[t]=String(e.attributes[t])),c}function u(t){return t.map(t=>({timestamp:Math.round((0,o.hrTimeToMicroseconds)(t.time)),value:t.name}))}e.Ux="otel.status_code",e.py="error",e.jS=function(t,e,n,r){return{traceId:t.spanContext().traceId,parentId:t.parentSpanId,name:t.name,id:t.spanContext().spanId,kind:a[t.kind],timestamp:(0,o.hrTimeToMicroseconds)(t.startTime),duration:Math.round((0,o.hrTimeToMicroseconds)(t.duration)),localEndpoint:{serviceName:e},tags:s(t,n,r),annotations:t.events.length?u(t.events):void 0}}},9968:function(t,e,n){"use strict";n.d(e,{y:function(){return o}});var r=new(n(2376).o),o=function(){function t(t,e,n,r){this._provider=t,this.name=e,this.version=n,this.options=r}return t.prototype.startSpan=function(t,e,n){return this._getTracer().startSpan(t,e,n)},t.prototype.startActiveSpan=function(t,e,n,r){var o=this._getTracer();return Reflect.apply(o.startActiveSpan,o,arguments)},t.prototype._getTracer=function(){if(this._delegate)return this._delegate;var t=this._provider.getDelegateTracer(this.name,this.version,this.options);return t?(this._delegate=t,this._delegate):r},t}()}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var i=e[r]={exports:{}};return t[r](i,i.exports,n),i.exports}n.d=function(t,e){for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var r={};!function(){"use strict";n.d(r,{default:function(){return cl}});n(2151);var t=n(5693),e=n(2084),o="object"==typeof globalThis?globalThis:"object"==typeof self?self:"object"==typeof window?window:"object"==typeof n.g?n.g:{},i=Symbol.for("io.opentelemetry.js.api.logs"),a=o;var s=function(){function t(){}return t.prototype.emit=function(t){},t}(),u=(new s,new(function(){function t(){}return t.prototype.getLogger=function(t,e,n){return new s},t}())),c=function(){function t(){}return t.getInstance=function(){return this._instance||(this._instance=new t),this._instance},t.prototype.setGlobalLoggerProvider=function(t){return a[i]?this.getLoggerProvider():(a[i]=(e=1,n=t,r=u,function(t){return t===e?n:r}),t);var e,n,r},t.prototype.getLoggerProvider=function(){var t,e;return null!==(e=null===(t=a[i])||void 0===t?void 0:t.call(a,1))&&void 0!==e?e:u},t.prototype.getLogger=function(t,e,n){return this.getLoggerProvider().getLogger(t,e,n)},t.prototype.disable=function(){delete a[i]},t}(),l=c.getInstance();var p,d,f=n(9621),h=n(2392),_=n(1425),v=n(2693),E=n(6080),m=n(3145),T=n(2704),g=n(8360),y=n(8474),S=function(){function t(t,e){this._exporter=t,this._isExporting=!1,this._finishedSpans=[],this._droppedSpansCount=0;var n=(0,v._)();this._maxExportBatchSize="number"==typeof(null==e?void 0:e.maxExportBatchSize)?e.maxExportBatchSize:n.OTEL_BSP_MAX_EXPORT_BATCH_SIZE,this._maxQueueSize="number"==typeof(null==e?void 0:e.maxQueueSize)?e.maxQueueSize:n.OTEL_BSP_MAX_QUEUE_SIZE,this._scheduledDelayMillis="number"==typeof(null==e?void 0:e.scheduledDelayMillis)?e.scheduledDelayMillis:n.OTEL_BSP_SCHEDULE_DELAY,this._exportTimeoutMillis="number"==typeof(null==e?void 0:e.exportTimeoutMillis)?e.exportTimeoutMillis:n.OTEL_BSP_EXPORT_TIMEOUT,this._shutdownOnce=new E.I(this._shutdown,this),this._maxExportBatchSize>this._maxQueueSize&&(f.s.warn("BatchSpanProcessor: maxExportBatchSize must be smaller or equal to maxQueueSize, setting maxExportBatchSize to match maxQueueSize"),this._maxExportBatchSize=this._maxQueueSize)}return t.prototype.forceFlush=function(){return this._shutdownOnce.isCalled?this._shutdownOnce.promise:this._flushAll()},t.prototype.onStart=function(t,e){},t.prototype.onEnd=function(t){this._shutdownOnce.isCalled||0!==(t.spanContext().traceFlags&h.X.SAMPLED)&&this._addToBuffer(t)},t.prototype.shutdown=function(){return this._shutdownOnce.call()},t.prototype._shutdown=function(){var t=this;return Promise.resolve().then(function(){return t.onShutdown()}).then(function(){return t._flushAll()}).then(function(){return t._exporter.shutdown()})},t.prototype._addToBuffer=function(t){if(this._finishedSpans.length>=this._maxQueueSize)return 0===this._droppedSpansCount&&f.s.debug("maxQueueSize reached, dropping spans"),void this._droppedSpansCount++;this._droppedSpansCount>0&&(f.s.warn("Dropped "+this._droppedSpansCount+" spans because maxQueueSize reached"),this._droppedSpansCount=0),this._finishedSpans.push(t),this._maybeStartTimer()},t.prototype._flushAll=function(){var t=this;return new Promise(function(e,n){for(var r=[],o=0,i=Math.ceil(t._finishedSpans.length/t._maxExportBatchSize);o<i;o++)r.push(t._flushOneBatch());Promise.all(r).then(function(){e()}).catch(n)})},t.prototype._flushOneBatch=function(){var t=this;return this._clearTimer(),0===this._finishedSpans.length?Promise.resolve():new Promise(function(e,n){var r=setTimeout(function(){n(new Error("Timeout"))},t._exportTimeoutMillis);_._.with((0,m.M1)(_._.active()),function(){var o;t._finishedSpans.length<=t._maxExportBatchSize?(o=t._finishedSpans,t._finishedSpans=[]):o=t._finishedSpans.splice(0,t._maxExportBatchSize);for(var i=function(){return t._exporter.export(o,function(t){var o;clearTimeout(r),t.code===T.V.SUCCESS?e():n(null!==(o=t.error)&&void 0!==o?o:new Error("BatchSpanProcessor: span export failed"))})},a=null,s=0,u=o.length;s<u;s++){var c=o[s];c.resource.asyncAttributesPending&&c.resource.waitForAsyncAttributes&&(null!=a||(a=[]),a.push(c.resource.waitForAsyncAttributes()))}null===a?i():Promise.all(a).then(i,function(t){(0,g.s)(t),n(t)})})})},t.prototype._maybeStartTimer=function(){var t=this;if(!this._isExporting){var e=function(){t._isExporting=!0,t._flushOneBatch().finally(function(){t._isExporting=!1,t._finishedSpans.length>0&&(t._clearTimer(),t._maybeStartTimer())}).catch(function(e){t._isExporting=!1,(0,g.s)(e)})};if(this._finishedSpans.length>=this._maxExportBatchSize)return e();void 0===this._timer&&(this._timer=setTimeout(function(){return e()},this._scheduledDelayMillis),(0,y.K)(this._timer))}},t.prototype._clearTimer=function(){void 0!==this._timer&&(clearTimeout(this._timer),this._timer=void 0)},t}(),b=(p=function(t,e){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},p(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}p(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),O=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.onInit(n),r}return b(e,t),e.prototype.onInit=function(t){var e=this;!0!==(null==t?void 0:t.disableAutoFlushOnDocumentHide)&&"undefined"!=typeof document&&(this._visibilityChangeListener=function(){"hidden"===document.visibilityState&&e.forceFlush().catch(function(t){(0,g.s)(t)})},this._pageHideListener=function(){e.forceFlush().catch(function(t){(0,g.s)(t)})},document.addEventListener("visibilitychange",this._visibilityChangeListener),document.addEventListener("pagehide",this._pageHideListener))},e.prototype.onShutdown=function(){"undefined"!=typeof document&&(this._visibilityChangeListener&&document.removeEventListener("visibilitychange",this._visibilityChangeListener),this._pageHideListener&&document.removeEventListener("pagehide",this._pageHideListener))},e}(S);!function(t){t[t.NOT_RECORD=0]="NOT_RECORD",t[t.RECORD=1]="RECORD",t[t.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"}(d||(d={}));var w,R=function(){function t(){}return t.prototype.shouldSample=function(){return{decision:d.RECORD_AND_SAMPLED}},t.prototype.toString=function(){return"AlwaysOnSampler"},t}(),L=function(){function t(){}return t.prototype.shouldSample=function(){return{decision:d.NOT_RECORD}},t.prototype.toString=function(){return"AlwaysOffSampler"},t}(),A=n(7230),P=function(){function e(t){var e,n,r,o;this._root=t.root,this._root||((0,g.s)(new Error("ParentBasedSampler must have a root sampler configured")),this._root=new R),this._remoteParentSampled=null!==(e=t.remoteParentSampled)&&void 0!==e?e:new R,this._remoteParentNotSampled=null!==(n=t.remoteParentNotSampled)&&void 0!==n?n:new L,this._localParentSampled=null!==(r=t.localParentSampled)&&void 0!==r?r:new R,this._localParentNotSampled=null!==(o=t.localParentNotSampled)&&void 0!==o?o:new L}return e.prototype.shouldSample=function(e,n,r,o,i,a){var s=t.u.getSpanContext(e);return s&&(0,A.YA)(s)?s.isRemote?s.traceFlags&h.X.SAMPLED?this._remoteParentSampled.shouldSample(e,n,r,o,i,a):this._remoteParentNotSampled.shouldSample(e,n,r,o,i,a):s.traceFlags&h.X.SAMPLED?this._localParentSampled.shouldSample(e,n,r,o,i,a):this._localParentNotSampled.shouldSample(e,n,r,o,i,a):this._root.shouldSample(e,n,r,o,i,a)},e.prototype.toString=function(){return"ParentBased{root="+this._root.toString()+", remoteParentSampled="+this._remoteParentSampled.toString()+", remoteParentNotSampled="+this._remoteParentNotSampled.toString()+", localParentSampled="+this._localParentSampled.toString()+", localParentNotSampled="+this._localParentNotSampled.toString()+"}"},e}(),C=n(1256),N=function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function s(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}u((r=r.apply(t,e||[])).next())})},I=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},M=function(){function t(t){this._exporter=t,this._shutdownOnce=new E.I(this._shutdown,this),this._unresolvedExports=new Set}return t.prototype.forceFlush=function(){return N(this,void 0,void 0,function(){return I(this,function(t){switch(t.label){case 0:return[4,Promise.all(Array.from(this._unresolvedExports))];case 1:return t.sent(),this._exporter.forceFlush?[4,this._exporter.forceFlush()]:[3,3];case 2:t.sent(),t.label=3;case 3:return[2]}})})},t.prototype.onStart=function(t,e){},t.prototype.onEnd=function(t){var e,n,r=this;if(!this._shutdownOnce.isCalled&&0!==(t.spanContext().traceFlags&h.X.SAMPLED)){var o=function(){return C.internal._export(r._exporter,[t]).then(function(t){var e;t.code!==T.V.SUCCESS&&(0,g.s)(null!==(e=t.error)&&void 0!==e?e:new Error("SimpleSpanProcessor: span export failed (status "+t+")"))}).catch(function(t){(0,g.s)(t)})};if(t.resource.asyncAttributesPending){var i=null===(n=(e=t.resource).waitForAsyncAttributes)||void 0===n?void 0:n.call(e).then(function(){return null!=i&&r._unresolvedExports.delete(i),o()},function(t){return(0,g.s)(t)});null!=i&&this._unresolvedExports.add(i)}else o()}},t.prototype.shutdown=function(){return this._shutdownOnce.call()},t.prototype._shutdown=function(){return this._exporter.shutdown()},t}(),x=n(1996),k=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},D=function(){function t(){}return t.prototype.export=function(t,e){return this._sendSpans(t,e)},t.prototype.shutdown=function(){return this._sendSpans([]),this.forceFlush()},t.prototype.forceFlush=function(){return Promise.resolve()},t.prototype._exportInfo=function(t){var e;return{resource:{attributes:t.resource.attributes},instrumentationScope:t.instrumentationLibrary,traceId:t.spanContext().traceId,parentId:t.parentSpanId,traceState:null===(e=t.spanContext().traceState)||void 0===e?void 0:e.serialize(),name:t.name,id:t.spanContext().spanId,kind:t.kind,timestamp:(0,x.w_)(t.startTime),duration:(0,x.w_)(t.duration),attributes:t.attributes,status:t.status,events:t.events,links:t.links}},t.prototype._sendSpans=function(t,e){var n,r;try{for(var o=k(t),i=o.next();!i.done;i=o.next()){var a=i.value;console.dir(this._exportInfo(a),{depth:3})}}catch(t){n={error:t}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}if(e)return e({code:T.V.SUCCESS})},t}(),U=n(7626),j=n(1050),B=n(935),H=n(676),X=n(9238),V=n(1511);!function(t){t.CONNECT_END="connectEnd",t.CONNECT_START="connectStart",t.DECODED_BODY_SIZE="decodedBodySize",t.DOM_COMPLETE="domComplete",t.DOM_CONTENT_LOADED_EVENT_END="domContentLoadedEventEnd",t.DOM_CONTENT_LOADED_EVENT_START="domContentLoadedEventStart",t.DOM_INTERACTIVE="domInteractive",t.DOMAIN_LOOKUP_END="domainLookupEnd",t.DOMAIN_LOOKUP_START="domainLookupStart",t.ENCODED_BODY_SIZE="encodedBodySize",t.FETCH_START="fetchStart",t.LOAD_EVENT_END="loadEventEnd",t.LOAD_EVENT_START="loadEventStart",t.NAVIGATION_START="navigationStart",t.REDIRECT_END="redirectEnd",t.REDIRECT_START="redirectStart",t.REQUEST_START="requestStart",t.RESPONSE_END="responseEnd",t.RESPONSE_START="responseStart",t.SECURE_CONNECTION_START="secureConnectionStart",t.UNLOAD_EVENT_END="unloadEventEnd",t.UNLOAD_EVENT_START="unloadEventStart"}(w||(w={}));n(1327);var F="exception.type",G="exception.message",z="exception.stacktrace",K="http.response_content_length",q="http.response_content_length_uncompressed",W=F,Y=G,$=z,Z=K,J=q;function Q(t,e){return e in t}function tt(t,e,n,r){var o=void 0,i=void 0;Q(n,e)&&"number"==typeof n[e]&&(o=n[e]);var a=r||w.FETCH_START;if(Q(n,a)&&"number"==typeof n[a]&&(i=n[a]),void 0!==o&&void 0!==i&&o>=i)return t.addEvent(e,o),t}function et(t,e,n){void 0===n&&(n=!1),n||(tt(t,w.FETCH_START,e),tt(t,w.DOMAIN_LOOKUP_START,e),tt(t,w.DOMAIN_LOOKUP_END,e),tt(t,w.CONNECT_START,e),Q(e,"name")&&e.name.startsWith("https:")&&tt(t,w.SECURE_CONNECTION_START,e),tt(t,w.CONNECT_END,e),tt(t,w.REQUEST_START,e),tt(t,w.RESPONSE_START,e),tt(t,w.RESPONSE_END,e));var r=e[w.ENCODED_BODY_SIZE];void 0!==r&&t.setAttribute(Z,r);var o=e[w.DECODED_BODY_SIZE];void 0!==o&&r!==o&&t.setAttribute(J,o)}function nt(t,e){if(t.nodeType===Node.DOCUMENT_NODE)return"/";var n=function(t,e){var n=t.nodeType,r=function(t){if(!t.parentNode)return 0;var e=[t.nodeType];t.nodeType===Node.CDATA_SECTION_NODE&&e.push(Node.TEXT_NODE);var n=Array.from(t.parentNode.childNodes);if(n=n.filter(function(n){var r=n.localName;return e.indexOf(n.nodeType)>=0&&r===t.localName}),n.length>=1)return n.indexOf(t)+1;return 0}(t),o="";if(n===Node.ELEMENT_NODE){var i=t.getAttribute("id");if(e&&i)return'//*[@id="'+i+'"]';o=t.localName}else if(n===Node.TEXT_NODE||n===Node.CDATA_SECTION_NODE)o="text()";else{if(n!==Node.COMMENT_NODE)return"";o="comment()"}if(o&&r>1)return"/"+o+"["+r+"]";return"/"+o}(t,e);if(e&&n.indexOf("@id")>0)return n;var r="";return t.parentNode&&(r+=nt(t.parentNode,!1)),r+=n}function rt(t,e,n){var r,o;try{o=t()}catch(t){r=t}finally{if(e(r,o),r&&!n)throw r;return o}}function ot(t){return"function"==typeof t&&"function"==typeof t.__original&&"function"==typeof t.__unwrap&&!0===t.__wrapped}var it,at=n(6076),st=function(){return st=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},st.apply(this,arguments)},ut=function(){function n(n,r,o){this.instrumentationName=n,this.instrumentationVersion=r,this._wrap=at.wrap,this._unwrap=at.unwrap,this._massWrap=at.massWrap,this._massUnwrap=at.massUnwrap,this._config=st({enabled:!0},o),this._diag=f.s.createComponentLogger({namespace:n}),this._tracer=t.u.getTracer(n,r),this._meter=e.q.getMeter(n,r),this._logger=l.getLogger(n,r),this._updateMetricInstruments()}return Object.defineProperty(n.prototype,"meter",{get:function(){return this._meter},enumerable:!1,configurable:!0}),n.prototype.setMeterProvider=function(t){this._meter=t.getMeter(this.instrumentationName,this.instrumentationVersion),this._updateMetricInstruments()},Object.defineProperty(n.prototype,"logger",{get:function(){return this._logger},enumerable:!1,configurable:!0}),n.prototype.setLoggerProvider=function(t){this._logger=t.getLogger(this.instrumentationName,this.instrumentationVersion)},n.prototype.getModuleDefinitions=function(){var t,e=null!==(t=this.init())&&void 0!==t?t:[];return Array.isArray(e)?e:[e]},n.prototype._updateMetricInstruments=function(){},n.prototype.getConfig=function(){return this._config},n.prototype.setConfig=function(t){this._config=st({},t)},n.prototype.setTracerProvider=function(t){this._tracer=t.getTracer(this.instrumentationName,this.instrumentationVersion)},Object.defineProperty(n.prototype,"tracer",{get:function(){return this._tracer},enumerable:!1,configurable:!0}),n.prototype._runSpanCustomizationHook=function(t,e,n,r){if(t)try{t(n,r)}catch(t){this._diag.error("Error running span customization hook due to exception in handler",{triggerName:e},t)}},n}(),ct=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),lt=function(t){function e(e,n,r){var o=t.call(this,e,n,r)||this;return o._config.enabled&&o.enable(),o}return ct(e,t),e}(ut);!function(t){t.DOCUMENT_LOAD="documentLoad",t.DOCUMENT_FETCH="documentFetch",t.RESOURCE_FETCH="resourceFetch"}(it||(it={}));function pt(t){let e={};const n=t.length;for(let r=0;r<n;r++){const n=t[r];n&&(e[String(n).toUpperCase().replace(/[-.]/g,"_")]=n)}return e}const dt="aws.lambda.invoked_arn",ft="db.system",ht="db.connection_string",_t="db.user",vt="db.jdbc.driver_classname",Et="db.name",mt="db.statement",Tt="db.operation",gt="db.mssql.instance_name",yt="db.cassandra.keyspace",St="db.cassandra.page_size",bt="db.cassandra.consistency_level",Ot="db.cassandra.table",wt="db.cassandra.idempotence",Rt="db.cassandra.speculative_execution_count",Lt="db.cassandra.coordinator.id",At="db.cassandra.coordinator.dc",Pt="db.hbase.namespace",Ct="db.redis.database_index",Nt="db.mongodb.collection",It="db.sql.table",Mt="exception.type",xt="exception.message",kt="exception.stacktrace",Dt="exception.escaped",Ut="faas.trigger",jt="faas.execution",Bt="faas.document.collection",Ht="faas.document.operation",Xt="faas.document.time",Vt="faas.document.name",Ft="faas.time",Gt="faas.cron",zt="faas.coldstart",Kt="faas.invoked_name",qt="faas.invoked_provider",Wt="faas.invoked_region",Yt="net.transport",$t="net.peer.ip",Zt="net.peer.port",Jt="net.peer.name",Qt="net.host.ip",te="net.host.port",ee="net.host.name",ne="net.host.connection.type",re="net.host.connection.subtype",oe="net.host.carrier.name",ie="net.host.carrier.mcc",ae="net.host.carrier.mnc",se="net.host.carrier.icc",ue="peer.service",ce="enduser.id",le="enduser.role",pe="enduser.scope",de="thread.id",fe="thread.name",he="code.function",_e="code.namespace",ve="code.filepath",Ee="code.lineno",me="http.method",Te="http.url",ge="http.target",ye="http.host",Se="http.scheme",be="http.status_code",Oe="http.flavor",we="http.user_agent",Re="http.request_content_length",Le="http.request_content_length_uncompressed",Ae="http.response_content_length",Pe="http.response_content_length_uncompressed",Ce="http.server_name",Ne="http.route",Ie="http.client_ip",Me="aws.dynamodb.table_names",xe="aws.dynamodb.consumed_capacity",ke="aws.dynamodb.item_collection_metrics",De="aws.dynamodb.provisioned_read_capacity",Ue="aws.dynamodb.provisioned_write_capacity",je="aws.dynamodb.consistent_read",Be="aws.dynamodb.projection",He="aws.dynamodb.limit",Xe="aws.dynamodb.attributes_to_get",Ve="aws.dynamodb.index_name",Fe="aws.dynamodb.select",Ge="aws.dynamodb.global_secondary_indexes",ze="aws.dynamodb.local_secondary_indexes",Ke="aws.dynamodb.exclusive_start_table",qe="aws.dynamodb.table_count",We="aws.dynamodb.scan_forward",Ye="aws.dynamodb.segment",$e="aws.dynamodb.total_segments",Ze="aws.dynamodb.count",Je="aws.dynamodb.scanned_count",Qe="aws.dynamodb.attribute_definitions",tn="aws.dynamodb.global_secondary_index_updates",en="messaging.system",nn="messaging.destination",rn="messaging.destination_kind",on="messaging.temp_destination",an="messaging.protocol",sn="messaging.protocol_version",un="messaging.url",cn="messaging.message_id",ln="messaging.conversation_id",pn="messaging.message_payload_size_bytes",dn="messaging.message_payload_compressed_size_bytes",fn="messaging.operation",hn="messaging.consumer_id",_n="messaging.rabbitmq.routing_key",vn="messaging.kafka.message_key",En="messaging.kafka.consumer_group",mn="messaging.kafka.client_id",Tn="messaging.kafka.partition",gn="messaging.kafka.tombstone",yn="rpc.system",Sn="rpc.service",bn="rpc.method",On="rpc.grpc.status_code",wn="rpc.jsonrpc.version",Rn="rpc.jsonrpc.request_id",Ln="rpc.jsonrpc.error_code",An="rpc.jsonrpc.error_message",Pn="message.type",Cn="message.id",Nn="message.compressed_size",In="message.uncompressed_size",Mn=Te,xn=we,kn=pt([dt,ft,ht,_t,vt,Et,mt,Tt,gt,yt,St,bt,Ot,wt,Rt,Lt,At,Pt,Ct,Nt,It,Mt,xt,kt,Dt,Ut,jt,Bt,Ht,Xt,Vt,Ft,Gt,zt,Kt,qt,Wt,Yt,$t,Zt,Jt,Qt,te,ee,ne,re,oe,ie,ae,se,ue,ce,le,pe,de,fe,he,_e,ve,Ee,me,Te,ge,ye,Se,be,Oe,we,Re,Le,Ae,Pe,Ce,Ne,Ie,Me,xe,ke,De,Ue,je,Be,He,Xe,Ve,Fe,Ge,ze,Ke,qe,We,Ye,$e,Ze,Je,Qe,tn,en,nn,rn,on,an,sn,un,cn,ln,pn,dn,fn,hn,_n,vn,En,mn,Tn,gn,yn,Sn,bn,On,wn,Rn,Ln,An,Pn,Cn,Nn,In]),Dn="queue",Un="topic",jn=pt([Dn,Un]),Bn="receive",Hn="process",Xn=pt([Bn,Hn]);var Vn;!function(t){t.FIRST_PAINT="firstPaint",t.FIRST_CONTENTFUL_PAINT="firstContentfulPaint"}(Vn||(Vn={}));var Fn={"first-paint":Vn.FIRST_PAINT,"first-contentful-paint":Vn.FIRST_CONTENTFUL_PAINT},Gn=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),zn=function(e){function n(t){void 0===t&&(t={});var n=e.call(this,"@opentelemetry/instrumentation-document-load","0.39.0",t)||this;return n.component="document-load",n.version="1",n.moduleName=n.component,n}return Gn(n,e),n.prototype.init=function(){},n.prototype._onDocumentLoaded=function(){var t=this;window.setTimeout(function(){t._collectPerformance()})},n.prototype._addResourcesSpans=function(t){var e,n,r=this,o=null===(n=(e=X.u).getEntriesByType)||void 0===n?void 0:n.call(e,"resource");o&&o.forEach(function(e){r._initResourceSpan(e,t)})},n.prototype._collectPerformance=function(){var e=this,n=Array.from(document.getElementsByTagName("meta")).find(function(t){return t.getAttribute("name")===V.ZS}),r=function(){var t,e,n={},r=null===(e=(t=X.u).getEntriesByType)||void 0===e?void 0:e.call(t,"navigation")[0];if(r)Object.values(w).forEach(function(t){if(Q(r,t)){var e=r[t];"number"==typeof e&&(n[t]=e)}});else{var o=X.u.timing;o&&Object.values(w).forEach(function(t){if(Q(o,t)){var e=o[t];"number"==typeof e&&(n[t]=e)}})}return n}(),o=n&&n.content||"";_._.with(B.$.extract(H.l,{traceparent:o}),function(){var n,o=e._startSpan(it.DOCUMENT_LOAD,w.FETCH_START,r);o&&(_._.with(t.u.setSpan(_._.active(),o),function(){var n=e._startSpan(it.DOCUMENT_FETCH,w.FETCH_START,r);n&&(n.setAttribute(Mn,location.href),_._.with(t.u.setSpan(_._.active(),n),function(){var t;e._getConfig().ignoreNetworkEvents||et(n,r),e._addCustomAttributesOnSpan(n,null===(t=e._getConfig().applyCustomAttributesOnSpan)||void 0===t?void 0:t.documentFetch),e._endSpan(n,w.RESPONSE_END,r)}))}),o.setAttribute(Mn,location.href),o.setAttribute(xn,navigator.userAgent),e._addResourcesSpans(o),e._getConfig().ignoreNetworkEvents||(tt(o,w.FETCH_START,r),tt(o,w.UNLOAD_EVENT_START,r),tt(o,w.UNLOAD_EVENT_END,r),tt(o,w.DOM_INTERACTIVE,r),tt(o,w.DOM_CONTENT_LOADED_EVENT_START,r),tt(o,w.DOM_CONTENT_LOADED_EVENT_END,r),tt(o,w.DOM_COMPLETE,r),tt(o,w.LOAD_EVENT_START,r),tt(o,w.LOAD_EVENT_END,r)),e._getConfig().ignorePerformancePaintEvents||function(t){var e,n,r=null===(n=(e=X.u).getEntriesByType)||void 0===n?void 0:n.call(e,"paint");r&&r.forEach(function(e){var n=e.name,r=e.startTime;Q(Fn,n)&&t.addEvent(Fn[n],r)})}(o),e._addCustomAttributesOnSpan(o,null===(n=e._getConfig().applyCustomAttributesOnSpan)||void 0===n?void 0:n.documentLoad),e._endSpan(o,w.LOAD_EVENT_END,r))})},n.prototype._endSpan=function(t,e,n){t&&(Q(n,e)?t.end(n[e]):t.end())},n.prototype._initResourceSpan=function(t,e){var n,r=this._startSpan(it.RESOURCE_FETCH,w.FETCH_START,t,e);r&&(r.setAttribute(Mn,t.name),this._getConfig().ignoreNetworkEvents||et(r,t),this._addCustomAttributesOnResourceSpan(r,t,null===(n=this._getConfig().applyCustomAttributesOnSpan)||void 0===n?void 0:n.resourceFetch),this._endSpan(r,w.RESPONSE_END,t))},n.prototype._startSpan=function(e,n,r,o){if(Q(r,n)&&"number"==typeof r[n])return this.tracer.startSpan(e,{startTime:r[n]},o?t.u.setSpan(_._.active(),o):void 0)},n.prototype._waitForPageLoad=function(){"complete"===window.document.readyState?this._onDocumentLoaded():(this._onDocumentLoaded=this._onDocumentLoaded.bind(this),window.addEventListener("load",this._onDocumentLoaded))},n.prototype._getConfig=function(){return this._config},n.prototype._addCustomAttributesOnSpan=function(t,e){var n=this;e&&rt(function(){return e(t)},function(t){t&&n._diag.error("addCustomAttributesOnSpan",t)},!0)},n.prototype._addCustomAttributesOnResourceSpan=function(t,e,n){var r=this;n&&rt(function(){return n(t,e)},function(t){t&&r._diag.error("addCustomAttributesOnResourceSpan",t)},!0)},n.prototype.enable=function(){window.removeEventListener("load",this._onDocumentLoaded),this._waitForPageLoad()},n.prototype.disable=function(){window.removeEventListener("load",this._onDocumentLoaded)},n}(lt);function Kn(t,e){if(t&&t[1]&&t[2]){const n=t[1],r=t[2];e.setAttribute("link.traceId",n),e.setAttribute("link.spanId",r)}}const qn=new RegExp("traceparent;desc=['\"]00-([0-9a-f]{32})-([0-9a-f]{16})-01['\"]");function Wn(t,e){for(let n of t.split(",")){n=n.trim();const t=n.match(qn);t&&Kn(t,e)}}const Yn=new RegExp("00-([0-9a-f]{32})-([0-9a-f]{16})-01");var $n=n(2728);const Zn=["beacon","fetch","xmlhttprequest"];var Jn=n(590),Qn=performance,tr=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function er(t,e){return"string"==typeof e?t===e:!!t.match(e)}function nr(t,e){var n,r;if(!e)return!1;try{for(var o=tr(e),i=o.next();!i.done;i=o.next()){if(er(t,i.value))return!0}}catch(t){n={error:t}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return!1}var rr=Math.pow(10,6),or=Math.pow(10,9);function ir(t){var e=t/1e3;return[Math.trunc(e),Math.round(t%1e3*rr)]}function ar(){var t=Qn.timeOrigin;if("number"!=typeof t){var e=Qn;t=e.timing&&e.timing.fetchStart}return t}function sr(t){return function(t,e){var n=[t[0]+e[0],t[1]+e[1]];n[1]>=or&&(n[1]-=or,n[0]+=1);return n}(ir(ar()),ir("number"==typeof t?t:Qn.now()))}function ur(t){if(lr(t))return t;if("number"==typeof t)return t<ar()?sr(t):ir(t);if(t instanceof Date)return ir(t.getTime());throw TypeError("Invalid input type")}function cr(t){return t[0]*or+t[1]}function lr(t){return Array.isArray(t)&&2===t.length&&"number"==typeof t[0]&&"number"==typeof t[1]}var pr,dr,fr,hr="http.method",_r="http.url",vr="http.host",Er="http.scheme",mr="http.status_code",Tr="http.user_agent",gr="http.response_content_length",yr="http.response_content_length_uncompressed",Sr=hr,br=_r,Or=vr,wr=Er,Rr=mr,Lr=Tr,Ar=gr,Pr=yr;function Cr(t,e){return e in t}function Nr(t,e,n,r){var o=void 0,i=void 0;Cr(n,e)&&"number"==typeof n[e]&&(o=n[e]);var a=r||pr.FETCH_START;if(Cr(n,a)&&"number"==typeof n[a]&&(i=n[a]),void 0!==o&&void 0!==i&&o>=i)return t.addEvent(e,o),t}function Ir(t,e){Nr(t,pr.FETCH_START,e),Nr(t,pr.DOMAIN_LOOKUP_START,e),Nr(t,pr.DOMAIN_LOOKUP_END,e),Nr(t,pr.CONNECT_START,e),Cr(e,"name")&&e.name.startsWith("https:")&&Nr(t,pr.SECURE_CONNECTION_START,e),Nr(t,pr.CONNECT_END,e),Nr(t,pr.REQUEST_START,e),Nr(t,pr.RESPONSE_START,e),Nr(t,pr.RESPONSE_END,e);var n=e[pr.ENCODED_BODY_SIZE];void 0!==n&&t.setAttribute(Ar,n);var r=e[pr.DECODED_BODY_SIZE];void 0!==r&&n!==r&&t.setAttribute(Pr,r)}function Mr(){return"undefined"!=typeof location?location.origin:void 0}function xr(t,e,n,r,o,i){void 0===o&&(o=new WeakSet);var a=kr(t),s=function(t,e,n,r,o,i){var a=cr(e),s=cr(n),u=r.filter(function(e){var n=cr(ur(e[pr.FETCH_START])),r=cr(ur(e[pr.RESPONSE_END]));return e.initiatorType.toLowerCase()===(i||"xmlhttprequest")&&e.name===t&&n>=a&&r<=s});u.length>0&&(u=u.filter(function(t){return!o.has(t)}));return u}(t=a.toString(),e,n,r,o,i);if(0===s.length)return{mainRequest:void 0};if(1===s.length)return{mainRequest:s[0]};var u=function(t){return t.slice().sort(function(t,e){var n=t[pr.FETCH_START],r=e[pr.FETCH_START];return n>r?1:n<r?-1:0})}(s);if(a.origin!==Mr()&&u.length>1){var c=u[0],l=function(t,e,n){for(var r,o=cr(n),i=cr(ur(e)),a=t[1],s=t.length,u=1;u<s;u++){var c=t[u],l=cr(ur(c[pr.FETCH_START])),p=o-cr(ur(c[pr.RESPONSE_END]));l>=i&&(!r||p<r)&&(r=p,a=c)}return a}(u,c[pr.RESPONSE_END],n),p=c[pr.RESPONSE_END];return l[pr.FETCH_START]<p&&(l=c,c=void 0),{corsPreFlightRequest:c,mainRequest:l}}return{mainRequest:s[0]}}function kr(t){if("function"==typeof URL)return new URL(t,"undefined"!=typeof document?document.baseURI:"undefined"!=typeof location?location.href:void 0);var e=(dr||(dr=document.createElement("a")),dr);return e.href=t,e}function Dr(t,e){var n=e||[];return("string"==typeof n||n instanceof RegExp)&&(n=[n]),kr(t).origin===Mr()||n.some(function(e){return er(t,e)})}!function(t){t.CONNECT_END="connectEnd",t.CONNECT_START="connectStart",t.DECODED_BODY_SIZE="decodedBodySize",t.DOM_COMPLETE="domComplete",t.DOM_CONTENT_LOADED_EVENT_END="domContentLoadedEventEnd",t.DOM_CONTENT_LOADED_EVENT_START="domContentLoadedEventStart",t.DOM_INTERACTIVE="domInteractive",t.DOMAIN_LOOKUP_END="domainLookupEnd",t.DOMAIN_LOOKUP_START="domainLookupStart",t.ENCODED_BODY_SIZE="encodedBodySize",t.FETCH_START="fetchStart",t.LOAD_EVENT_END="loadEventEnd",t.LOAD_EVENT_START="loadEventStart",t.NAVIGATION_START="navigationStart",t.REDIRECT_END="redirectEnd",t.REDIRECT_START="redirectStart",t.REQUEST_START="requestStart",t.RESPONSE_END="responseEnd",t.RESPONSE_START="responseStart",t.SECURE_CONNECTION_START="secureConnectionStart",t.UNLOAD_EVENT_END="unloadEventEnd",t.UNLOAD_EVENT_START="unloadEventStart"}(pr||(pr={})),function(t){t.METHOD_OPEN="open",t.METHOD_SEND="send",t.EVENT_ABORT="abort",t.EVENT_ERROR="error",t.EVENT_LOAD="loaded",t.EVENT_TIMEOUT="timeout"}(fr||(fr={}));var Ur,jr="0.52.1";!function(t){t.HTTP_STATUS_TEXT="http.status_text"}(Ur||(Ur={}));var Br,Hr=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Xr=function(e){function n(t){void 0===t&&(t={});var n=e.call(this,"@opentelemetry/instrumentation-xml-http-request",jr,t)||this;return n.component="xml-http-request",n.version=jr,n.moduleName=n.component,n._tasksCount=0,n._xhrMem=new WeakMap,n._usedResources=new WeakSet,n}return Hr(n,e),n.prototype.init=function(){},n.prototype._addHeaders=function(t,e){if(!Dr(kr(e).href,this.getConfig().propagateTraceHeaderCorsUrls)){var n={};return B.$.inject(_._.active(),n),void(Object.keys(n).length>0&&this._diag.debug("headers inject skipped due to CORS policy"))}var r={};B.$.inject(_._.active(),r),Object.keys(r).forEach(function(e){t.setRequestHeader(e,String(r[e]))})},n.prototype._addChildSpan=function(e,n){var r=this;_._.with(t.u.setSpan(_._.active(),e),function(){var t=r.tracer.startSpan("CORS Preflight",{startTime:n[pr.FETCH_START]});r.getConfig().ignoreNetworkEvents||Ir(t,n),t.end(n[pr.RESPONSE_END])})},n.prototype._addFinalSpanAttributes=function(t,e,n){if("string"==typeof n){var r=kr(n);void 0!==e.status&&t.setAttribute(Rr,e.status),void 0!==e.statusText&&t.setAttribute(Ur.HTTP_STATUS_TEXT,e.statusText),t.setAttribute(Or,r.host),t.setAttribute(wr,r.protocol.replace(":","")),t.setAttribute(Lr,navigator.userAgent)}},n.prototype._applyAttributesAfterXHR=function(t,e){var n=this,r=this.getConfig().applyCustomAttributesOnSpan;"function"==typeof r&&rt(function(){return r(t,e)},function(t){t&&n._diag.error("applyCustomAttributesOnSpan",t)},!0)},n.prototype._addResourceObserver=function(t,e){var n=this._xhrMem.get(t);n&&"function"==typeof PerformanceObserver&&"function"==typeof PerformanceResourceTiming&&(n.createdResources={observer:new PerformanceObserver(function(t){var r=t.getEntries(),o=kr(e);r.forEach(function(t){"xmlhttprequest"===t.initiatorType&&t.name===o.href&&n.createdResources&&n.createdResources.entries.push(t)})}),entries:[]},n.createdResources.observer.observe({entryTypes:["resource"]}))},n.prototype._clearResources=function(){0===this._tasksCount&&this.getConfig().clearTimingResources&&(Qn.clearResourceTimings(),this._xhrMem=new WeakMap,this._usedResources=new WeakSet)},n.prototype._findResourceAndAddNetworkEvents=function(t,e,n,r,o){if(n&&r&&o&&t.createdResources){var i=t.createdResources.entries;i&&i.length||(i=Qn.getEntriesByType("resource"));var a=xr(kr(n).href,r,o,i,this._usedResources);if(a.mainRequest){var s=a.mainRequest;this._markResourceAsUsed(s);var u=a.corsPreFlightRequest;u&&(this._addChildSpan(e,u),this._markResourceAsUsed(u)),this.getConfig().ignoreNetworkEvents||Ir(e,s)}}},n.prototype._cleanPreviousSpanInformation=function(t){var e=this._xhrMem.get(t);if(e){var n=e.callbackToRemoveEvents;n&&n(),this._xhrMem.delete(t)}},n.prototype._createSpan=function(t,e,n){var r;if(!nr(e,this.getConfig().ignoreUrls)){var o=n.toUpperCase(),i=this.tracer.startSpan(o,{kind:Jn.v.CLIENT,attributes:(r={},r[Sr]=n,r[br]=kr(e).toString(),r)});return i.addEvent(fr.METHOD_OPEN),this._cleanPreviousSpanInformation(t),this._xhrMem.set(t,{span:i,spanUrl:e}),i}this._diag.debug("ignoring span as url matches ignored url")},n.prototype._markResourceAsUsed=function(t){this._usedResources.add(t)},n.prototype._patchOpen=function(){var t=this;return function(e){var n=t;return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var o=t[0],i=t[1];return n._createSpan(this,i,o),e.apply(this,t)}}},n.prototype._patchSend=function(){var e=this;function n(t,n){var r=e._xhrMem.get(n);if(r){r.status=n.status,r.statusText=n.statusText,e._xhrMem.delete(n),r.span&&e._applyAttributesAfterXHR(r.span,n);var o=sr(),i=Date.now();setTimeout(function(){!function(t,n,r,o){var i=n.callbackToRemoveEvents;"function"==typeof i&&i();var a=n.span,s=n.spanUrl,u=n.sendStartTime;a&&(e._findResourceAndAddNetworkEvents(n,a,s,u,r),a.addEvent(t,o),e._addFinalSpanAttributes(a,n,s),a.end(o),e._tasksCount--),e._clearResources()}(t,r,o,i)},300)}}function r(){n(fr.EVENT_ERROR,this)}function o(){n(fr.EVENT_ABORT,this)}function i(){n(fr.EVENT_TIMEOUT,this)}function a(){this.status<299?n(fr.EVENT_LOAD,this):n(fr.EVENT_ERROR,this)}return function(n){return function(){for(var s=this,u=[],c=0;c<arguments.length;c++)u[c]=arguments[c];var l=e._xhrMem.get(this);if(!l)return n.apply(this,u);var p=l.span,d=l.spanUrl;return p&&d&&_._.with(t.u.setSpan(_._.active(),p),function(){e._tasksCount++,l.sendStartTime=sr(),p.addEvent(fr.METHOD_SEND),s.addEventListener("abort",o),s.addEventListener("error",r),s.addEventListener("load",a),s.addEventListener("timeout",i),l.callbackToRemoveEvents=function(){!function(t){t.removeEventListener("abort",o),t.removeEventListener("error",r),t.removeEventListener("load",a),t.removeEventListener("timeout",i);var n=e._xhrMem.get(t);n&&(n.callbackToRemoveEvents=void 0)}(s),l.createdResources&&l.createdResources.observer.disconnect()},e._addHeaders(s,d),e._addResourceObserver(s,d)}),n.apply(this,u)}}},n.prototype.enable=function(){this._diag.debug("applying patch to",this.moduleName,this.version),ot(XMLHttpRequest.prototype.open)&&(this._unwrap(XMLHttpRequest.prototype,"open"),this._diag.debug("removing previous patch from method open")),ot(XMLHttpRequest.prototype.send)&&(this._unwrap(XMLHttpRequest.prototype,"send"),this._diag.debug("removing previous patch from method send")),this._wrap(XMLHttpRequest.prototype,"open",this._patchOpen()),this._wrap(XMLHttpRequest.prototype,"send",this._patchSend())},n.prototype.disable=function(){this._diag.debug("removing patch from",this.moduleName,this.version),this._unwrap(XMLHttpRequest.prototype,"open"),this._unwrap(XMLHttpRequest.prototype,"send"),this._tasksCount=0,this._xhrMem=new WeakMap,this._usedResources=new WeakSet},n}(lt);!function(t){t.COMPONENT="component",t.HTTP_ERROR_NAME="http.error_name",t.HTTP_STATUS_TEXT="http.status_text"}(Br||(Br={}));var Vr,Fr="0.52.1",Gr="object"==typeof globalThis?globalThis:"object"==typeof self?self:"object"==typeof window?window:"object"==typeof n.g?n.g:{},zr=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Kr="object"==typeof process&&"node"===(null===(Vr=process.release)||void 0===Vr?void 0:Vr.name),qr=function(e){function n(t){void 0===t&&(t={});var n=e.call(this,"@opentelemetry/instrumentation-fetch",Fr,t)||this;return n.component="fetch",n.version=Fr,n.moduleName=n.component,n._usedResources=new WeakSet,n._tasksCount=0,n}return zr(n,e),n.prototype.init=function(){},n.prototype._addChildSpan=function(e,n){var r=this.tracer.startSpan("CORS Preflight",{startTime:n[pr.FETCH_START]},t.u.setSpan(_._.active(),e));this.getConfig().ignoreNetworkEvents||Ir(r,n),r.end(n[pr.RESPONSE_END])},n.prototype._addFinalSpanAttributes=function(t,e){var n=kr(e.url);t.setAttribute(Rr,e.status),null!=e.statusText&&t.setAttribute(Br.HTTP_STATUS_TEXT,e.statusText),t.setAttribute(Or,n.host),t.setAttribute(wr,n.protocol.replace(":","")),"undefined"!=typeof navigator&&t.setAttribute(Lr,navigator.userAgent)},n.prototype._addHeaders=function(t,e){if(!Dr(e,this.getConfig().propagateTraceHeaderCorsUrls)){var n={};return B.$.inject(_._.active(),n),void(Object.keys(n).length>0&&this._diag.debug("headers inject skipped due to CORS policy"))}if(t instanceof Request)B.$.inject(_._.active(),t.headers,{set:function(t,e,n){return t.set(e,"string"==typeof n?n:String(n))}});else if(t.headers instanceof Headers)B.$.inject(_._.active(),t.headers,{set:function(t,e,n){return t.set(e,"string"==typeof n?n:String(n))}});else if(t.headers instanceof Map)B.$.inject(_._.active(),t.headers,{set:function(t,e,n){return t.set(e,"string"==typeof n?n:String(n))}});else{n={};B.$.inject(_._.active(),n),t.headers=Object.assign({},n,t.headers||{})}},n.prototype._clearResources=function(){0===this._tasksCount&&this.getConfig().clearTimingResources&&(performance.clearResourceTimings(),this._usedResources=new WeakSet)},n.prototype._createSpan=function(t,e){var n;if(void 0===e&&(e={}),!nr(t,this.getConfig().ignoreUrls)){var r=(e.method||"GET").toUpperCase(),o="HTTP "+r;return this.tracer.startSpan(o,{kind:Jn.v.CLIENT,attributes:(n={},n[Br.COMPONENT]=this.moduleName,n[Sr]=r,n[br]=t,n)})}this._diag.debug("ignoring span as url matches ignored url")},n.prototype._findResourceAndAddNetworkEvents=function(t,e,n){var r=e.entries;if(!r.length){if(!performance.getEntriesByType)return;r=performance.getEntriesByType("resource")}var o=xr(e.spanUrl,e.startTime,n,r,this._usedResources,"fetch");if(o.mainRequest){var i=o.mainRequest;this._markResourceAsUsed(i);var a=o.corsPreFlightRequest;a&&(this._addChildSpan(t,a),this._markResourceAsUsed(a)),this.getConfig().ignoreNetworkEvents||Ir(t,i)}},n.prototype._markResourceAsUsed=function(t){this._usedResources.add(t)},n.prototype._endSpan=function(t,e,n){var r=this,o=ir(Date.now()),i=sr();this._addFinalSpanAttributes(t,n),setTimeout(function(){var n;null===(n=e.observer)||void 0===n||n.disconnect(),r._findResourceAndAddNetworkEvents(t,e,i),r._tasksCount--,r._clearResources(),t.end(o)},300)},n.prototype._patchConstructor=function(){var e=this;return function(n){var r=e;return function(){for(var e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];var i=this,a=kr(e[0]instanceof Request?e[0].url:String(e[0])).href,s=e[0]instanceof Request?e[0]:e[1]||{},u=r._createSpan(a,s);if(!u)return n.apply(this,e);var c=r._prepareSpanData(a);function l(t,e){r._applyAttributesAfterFetch(t,s,e),r._endSpan(t,c,{status:e.status||0,statusText:e.message,url:a})}function p(t,e){r._applyAttributesAfterFetch(t,s,e),e.status>=200&&e.status<400?r._endSpan(t,c,e):r._endSpan(t,c,{status:e.status,statusText:e.statusText,url:a})}function d(t,e,n){try{var r=n.clone(),o=n.clone(),i=r.body;if(i){var a=i.getReader(),s=function(){a.read().then(function(e){e.done?p(t,o):s()},function(e){l(t,e)})};s()}else p(t,n)}finally{e(n)}}function f(t,e,n){try{l(t,n)}finally{e(n)}}return new Promise(function(e,o){return _._.with(t.u.setSpan(_._.active(),u),function(){return r._addHeaders(s,a),r._tasksCount++,n.apply(i,s instanceof Request?[s]:[a,s]).then(d.bind(i,u,e),f.bind(i,u,o))})})}}},n.prototype._applyAttributesAfterFetch=function(t,e,n){var r=this,o=this.getConfig().applyCustomAttributesOnSpan;o&&rt(function(){return o(t,e,n)},function(t){t&&r._diag.error("applyCustomAttributesOnSpan",t)},!0)},n.prototype._prepareSpanData=function(t){var e=sr(),n=[];if("function"!=typeof PerformanceObserver)return{entries:n,startTime:e,spanUrl:t};var r=new PerformanceObserver(function(e){e.getEntries().forEach(function(e){"fetch"===e.initiatorType&&e.name===t&&n.push(e)})});return r.observe({entryTypes:["resource"]}),{entries:n,observer:r,startTime:e,spanUrl:t}},n.prototype.enable=function(){Kr?this._diag.warn("this instrumentation is intended for web usage only, it does not instrument Node.js's fetch()"):(ot(fetch)&&(this._unwrap(Gr,"fetch"),this._diag.debug("removing previous patch for constructor")),this._wrap(Gr,"fetch",this._patchConstructor()))},n.prototype.disable=function(){Kr||(this._unwrap(Gr,"fetch"),this._usedResources=new WeakSet)},n}(lt);function Wr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Yr=function(t){return t.EVENT_TYPE="event_type",t.TARGET_ELEMENT="target_element",t.TARGET_XPATH="target_xpath",t.HTTP_URL="http.url",t}({});const $r="0.34.0",Zr=["click"];function Jr(){return!1}class Qr extends lt{_patchHistoryApi(){this._unpatchHistoryApi(),this._wrap(history,"replaceState",this._patchHistoryMethod()),this._wrap(history,"pushState",this._patchHistoryMethod()),this._wrap(history,"back",this._patchHistoryMethod()),this._wrap(history,"forward",this._patchHistoryMethod()),this._wrap(history,"go",this._patchHistoryMethod())}_patchHistoryMethod(){const t=this;return e=>function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];const i="".concat(location.pathname).concat(location.hash).concat(location.search),a=e.apply(this,r),s="".concat(location.pathname).concat(location.hash).concat(location.search);return i!==s&&t._updateInteractionName(s),a}}_unpatchHistoryApi(){ot(history.replaceState)&&this._unwrap(history,"replaceState"),ot(history.pushState)&&this._unwrap(history,"pushState"),ot(history.back)&&this._unwrap(history,"back"),ot(history.forward)&&this._unwrap(history,"forward"),ot(history.go)&&this._unwrap(history,"go")}_updateInteractionName(e){const n=t.u.getSpan(_._.active());n&&"function"==typeof n.updateName&&n.updateName("".concat("Navigation:"," ").concat(e))}disable(){this._getPatchableEventTargets().forEach(t=>{ot(t.addEventListener)&&this._unwrap(t,"addEventListener"),ot(t.removeEventListener)&&this._unwrap(t,"removeEventListener")}),this._unpatchHistoryApi()}enable(){this._zonePatched=!1;this._getPatchableEventTargets().forEach(t=>{ot(t.addEventListener)&&(this._unwrap(t,"addEventListener"),this._diag.debug("removing previous patch from method addEventListener")),ot(t.removeEventListener)&&(this._unwrap(t,"removeEventListener"),this._diag.debug("removing previous patch from method removeEventListener")),this._wrap(t,"addEventListener",this._patchAddEventListener()),this._wrap(t,"removeEventListener",this._patchRemoveEventListener())}),this._patchHistoryApi()}getZoneWithPrototype(){}init(){}_allowEventName(t){return this._eventNames.has(t)}_createSpan(e,n,r){if(!(e instanceof Element))return;if(!e.getAttribute)return;if(e.hasAttribute("disabled"))return;if(!this._allowEventName(n))return;const o=nt(e,!0);try{const i=this.tracer.startSpan(n,{attributes:{[Yr.EVENT_TYPE]:n,[Yr.TARGET_ELEMENT]:e.tagName,[Yr.TARGET_XPATH]:o,[Yr.HTTP_URL]:window.location.href}},r?t.u.setSpan(_._.active(),r):void 0);if(!0===this._shouldPreventSpanCreation(n,e,i))return;return this._spansData.set(i,{taskCount:0}),i}catch(t){this._diag.error("failed to start create new user interaction span",t)}}_getPatchableEventTargets(){return window.EventTarget?[EventTarget.prototype]:[Node.prototype,Window.prototype]}_invokeListener(t,e,n){return"function"==typeof t?t.apply(e,n):t.handleEvent(n[0])}_patchAddEventListener(){const e=this;return n=>function(r,o,i){if(!o)return n.call(this,r,o,i);const a=i&&"object"==typeof i&&i.once,s=function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];let u;const c=i[0],l=null==c?void 0:c.target;c&&(u=e._eventsSpanMap.get(c)),a&&e.removePatchedListener(this,r,o);const p=e._createSpan(l,r,u);return p?(c&&e._eventsSpanMap.set(c,p),_._.with(t.u.setSpan(_._.active(),p),()=>{const t=e._invokeListener(o,this,i);return p.end(),t})):e._invokeListener(o,this,i)};return e.addPatchedListener(this,r,o,s)?n.call(this,r,s,i):void 0}}_patchRemoveEventListener(){const t=this;return e=>function(n,r,o){const i=r&&t.removePatchedListener(this,n,r);return i?e.call(this,n,i,o):e.call(this,n,r,o)}}addPatchedListener(t,e,n,r){let o=this._wrappedListeners.get(n);o||(o=new Map,this._wrappedListeners.set(n,o));let i=o.get(e);return i||(i=new Map,o.set(e,i)),!i.has(t)&&(i.set(t,r),!0)}removePatchedListener(t,e,n){const r=this._wrappedListeners.get(n);if(!r)return;const o=r.get(e);if(!o)return;const i=o.get(t);return i&&(o.delete(t),0===o.size&&(r.delete(e),0===r.size&&this._wrappedListeners.delete(n))),i}constructor(t){var e;super("@opentelemetry/instrumentation-user-interaction",$r,t),Wr(this,"moduleName","user-interaction"),Wr(this,"version",$r),Wr(this,"_eventNames",void 0),Wr(this,"_eventsSpanMap",new WeakMap),Wr(this,"_shouldPreventSpanCreation",void 0),Wr(this,"_spansData",new WeakMap),Wr(this,"_wrappedListeners",new WeakMap),Wr(this,"_zonePatched",void 0),this._eventNames=new Set(null!==(e=null==t?void 0:t.eventNames)&&void 0!==e?e:Zr),this._shouldPreventSpanCreation="function"==typeof(null==t?void 0:t.shouldPreventSpanCreation)?t.shouldPreventSpanCreation:Jr}}const to={click:!0,dblclick:!0,mousedown:!0,mouseup:!0,submit:!0,reset:!0,change:!0,dragend:!0,drop:!0,ended:!0,pause:!0,play:!0},eo=Object.keys(to),no="route";var ro=n(9676);function oo(t){return"x".repeat(t/4).replace(/x/g,function(){return(16*Math.random()|0).toString(16)})}function io(t,e){return t.length>e?t.substring(0,e):t}function ao(t,e,n){return!1===t?t:(void 0!==t||!n)&&Object.assign({},e,t)}function so(t){return"function"==typeof t}function uo(t,e,n){const r=t[e];(0,at.wrap)(t,e,n);const o=t[e];r.toString&&(o.toString=r.toString.bind(r))}function co(t){for(;t.__original&&t.__original!==t;)t=t.__original;return t}function lo(t){return t}function po(t,e,n){const r=new XMLHttpRequest;r.open("POST",t);Object.entries(Object.assign(Object.assign({},{Accept:"application/json","Content-Type":"application/json"}),n)).forEach(t=>{let[e,n]=t;r.setRequestHeader(e,n)}),r.send(e)}const fo="undefined"!=typeof navigator&&navigator.sendBeacon?(t,e,n)=>{const r=n?new Blob([e],n):e;navigator.sendBeacon(t,r)}:void 0,ho=t=>!!t&&"function"==typeof t.toString;class _o{export(t,e){const n=t.map(t=>this._mapToZipkinSpan(t)),r=JSON.stringify(n);document.hidden&&this._beaconSender&&r.length<=64e3?this._beaconSender(this.beaconUrl,r):this._xhrSender&&this._xhrSender(this.beaconUrl,r,{Accept:"*/*","Content-Type":"text/plain;charset=UTF-8"}),e({code:T.V.SUCCESS})}shutdown(){return Promise.resolve()}_mapToZipkinSpan(t){const e=this._preTranslateSpan(t),n=(0,ro.jS)(e,"browser",ro.Ux,ro.py);return this._postTranslateSpan(n)}_postTranslateSpan(t){delete t.localEndpoint,t.name=io(t.name,4096);for(const[e,n]of Object.entries(t.tags))ho(n)&&(t.tags[e]=io(n.toString(),4096));const e=1e3*performance.timeOrigin;return t.tags["http.url"]&&!t.tags["http.url"].startsWith(location.origin)&&t.timestamp>e&&t.annotations&&(t.annotations=t.annotations.filter(t=>{let{timestamp:n}=t;return n>e})),t}_preTranslateSpan(t){return{name:t.name,kind:t.kind,spanContext:t.spanContext.bind(t),parentSpanId:t.parentSpanId,startTime:t.startTime,endTime:t.endTime,status:t.status,links:t.links,events:t.events,duration:t.duration,ended:t.ended,instrumentationLibrary:t.instrumentationLibrary,resource:t.resource,attributes:this._onAttributesSerializing?this._onAttributesSerializing(t.attributes,t):t.attributes,droppedAttributesCount:t.droppedAttributesCount,droppedEventsCount:t.droppedEventsCount,droppedLinksCount:t.droppedLinksCount}}constructor({url:t,onAttributesSerializing:e=lo,xhrSender:n=po,beaconSender:r=fo}){Wr(this,"beaconUrl",void 0),Wr(this,"_beaconSender",void 0),Wr(this,"_onAttributesSerializing",void 0),Wr(this,"_xhrSender",void 0),this.beaconUrl=t,this._onAttributesSerializing=e,this._xhrSender=n,this._beaconSender=r}}const vo=t=>{if("[object Object]"!==Object.prototype.toString.call(t))return!1;const e=Object.getPrototypeOf(t);return null===e||e===Object.prototype},Eo=t=>vo(t)?mo(To(t)):{},mo=t=>{const e={};for(const[n,r]of Object.entries(t))go(r)&&(e[n]=r);return e},To=t=>{const e={...t};return Object.entries(e).forEach(t=>{let[n,r]=t;""!==r&&null!=r||delete e[n]}),e},go=t=>"string"==typeof t||"number"==typeof t||"boolean"==typeof t,yo=/[\w]+:\/\/[^\s]+?(?::\d+)?(?=:[\d]+:[\d]+)/g;function So(t){return t&&""!==t.trim()&&!t.startsWith("[object")&&"error"!==t}function bo(t){if(void 0===t)return"(undefined)";if(null===t)return"(null)";if(t.toString)return t.toString();try{return Object.prototype.toString.call(t)}catch{return"(unknown)"}}function Oo(t,e){if(e&&e.stack&&So(e.stack)){t.setAttribute("error.stack",io(e.stack.toString(),4096));const n=function(t){const e={},n=t.match(yo);return n&&n.forEach(t=>{const n=t.split(/:(?=\d+$)/)[0],r=window.sourceMapIds;r&&r[n]&&!e[n]&&(e[n]=r[n])}),JSON.stringify(e)}(e.stack);n&&t.setAttribute("error.source_map_ids",n)}}const wo="errors",Ro=(t,e)=>({error:t,context:e});class Lo extends lt{disable(){at.unwrap(console,"error"),window.removeEventListener("unhandledrejection",this.unhandledRejectionListener),window.removeEventListener("error",this.errorListener),document.documentElement.removeEventListener("error",this.documentErrorListener,{capture:!0}),clearInterval(this.clearingIntervalId),this.throttleMap.clear()}enable(){at.wrap(console,"error",this.consoleErrorHandler),window.addEventListener("unhandledrejection",this.unhandledRejectionListener),window.addEventListener("error",this.errorListener),document.documentElement.addEventListener("error",this.documentErrorListener,{capture:!0}),this.attachClearingInterval()}init(){}report(t,e,n){if(Array.isArray(e)&&0===e.length)return;e instanceof Array&&1===e.length&&(e=e[0]);const r=this.transform(e,n);if(null===r)return;const{error:o,context:i}=r;if(o instanceof Error)this.reportError(t,o,i);else if(o instanceof ErrorEvent)this.reportErrorEvent(t,o,i);else if(o instanceof Event)this.reportEvent(t,o,i);else if("string"==typeof o)this.reportString(t,o,void 0,i);else if(Array.isArray(o)){const e=o.find(t=>t instanceof Error);this.reportString(t,o.map(t=>bo(t)).join(" "),e,i)}else this.reportString(t,bo(o),void 0,i)}reportError(t,e,n){const r=e.message||e.toString();if(!So(r)&&!e.stack)return;const o=Date.now(),i=this.tracer.startSpan(t,{startTime:o});this.attachSpanContext(i,e,n),i.setAttribute("component","error"),i.setAttribute("error",!0),i.setAttribute("error.object",So(e.name)?e.name:e.constructor&&e.constructor.name?e.constructor.name:"Error"),i.setAttribute("error.message",io(r,1024)),Oo(i,e),this.endSpanWithThrottle(i,o)}reportErrorEvent(t,e,n){e.error?this.report(t,e.error,n):e.message&&this.report(t,e.message,n)}reportEvent(t,e,n){if(!e.target&&!So(e.type))return;const r=Date.now(),o=this.tracer.startSpan(t,{startTime:r});if(this.attachSpanContext(o,e,n),o.setAttribute("component","error"),o.setAttribute("error.type",e.type),e.target&&(o.setAttribute("target_xpath",nt(e.target,!0)),(null==(a=e.target)?void 0:a.nodeType)===Node.ELEMENT_NODE)){var i;o.setAttribute("target_element",e.target.tagName);let t=null!==(i=e.target.getAttribute("src"))&&void 0!==i?i:"";t=t.startsWith("blob://")?"blob://":t.startsWith("data:")?"".concat(t.slice(0,47),"..."):t.slice(0,800),t&&(o.setAttribute("target_src",t),t=' src="'.concat(t,'"')),o.setAttribute("error.message","Failed to load <".concat(e.target.tagName.toLowerCase()).concat(t," />"))}var a;this.endSpanWithThrottle(o,r)}reportString(t,e,n,r){if(!So(e))return;const o=Date.now(),i=this.tracer.startSpan(t,{startTime:o});this.attachSpanContext(i,null!=n?n:e,r),i.setAttribute("component","error"),i.setAttribute("error",!0),i.setAttribute("error.object","String"),i.setAttribute("error.message",io(e,1024)),n&&Oo(i,n),this.endSpanWithThrottle(i,o)}transform(t,e){let n,r;try{let o=null;if(_._.with((0,m.M1)(_._.active()),()=>{var n;const r=null!==(n=this._splunkConfig.onError)&&void 0!==n?n:Ro;o=r(t,e)}),null===o)return null;if(void 0===o)return f.s.warn("onError can use null explicitly to cancel reporting, but cannot use undefined implicitly"),{error:t,context:e};({error:n,context:r}=o)}catch(n){return f.s.warn("onError handler failed:",n),{error:t,context:e}}return this.isValidErrorArg(n)||Array.isArray(n)?this.isValidContext(r)?(r=mo(r),{error:n,context:r}):(f.s.warn("onError handler was expected to produce a valid context (POJO), but instead returned: ".concat(r)),{error:t,context:e}):(f.s.warn("ignoring an error because onError handler was expected to produce a valid error, but instead returned: ".concat(n)),{error:t,context:e})}attachClearingInterval(){this.clearingIntervalId=setInterval(()=>{const t=()=>{this.throttleMap.forEach((t,e)=>{performance.now()-t>500&&this.throttleMap.delete(e)})};"function"==typeof requestIdleCallback?requestIdleCallback(t,{timeout:1e3}):t()},5e3)}attachSpanContext(t,e,n){const r=Eo(e.splunkContext||{}),o=Object.entries({...n,...r});for(const[e,n]of o)t.setAttribute(e,n)}endSpanWithThrottle(t,e){try{const n=JSON.stringify([t.attributes,t.name]);(!this.throttleMap.has(n)||performance.now()-(this.throttleMap.get(n)||0)>500)&&(this.throttleMap.set(n,performance.now()),t.end(e))}catch(t){return void f.s.debug("Error while ending span",t)}}constructor(t){super(wo,"1",t),Wr(this,"_splunkConfig",void 0),Wr(this,"clearingIntervalId",void 0),Wr(this,"throttleMap",void 0),Wr(this,"isValidContext",void 0),Wr(this,"isValidErrorArg",void 0),Wr(this,"consoleErrorHandler",void 0),Wr(this,"documentErrorListener",void 0),Wr(this,"errorListener",void 0),Wr(this,"unhandledRejectionListener",void 0),this._splunkConfig=t,this.throttleMap=new Map,this.isValidContext=t=>vo(t),this.isValidErrorArg=t=>t instanceof Error||t instanceof ErrorEvent||t instanceof Event||"string"==typeof t,this.consoleErrorHandler=t=>{var e=this;return function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e.report("console.error",r,{}),t.apply(e,r)}},this.documentErrorListener=t=>{this.report("eventListener.error",t,{})},this.errorListener=t=>{this.report("onerror",t,{})},this.unhandledRejectionListener=t=>{this.report("unhandledrejection",t.reason,{})}}}const Ao=9e5,Po=t=>{const e=Date.now();return t.startTime>e||e>t.startTime+144e5};function Co(t,e){let n,r=0,o=null,i=null;const a=function(){for(var e=arguments.length,o=new Array(e),i=0;i<e;i++)o[i]=arguments[i];r=performance.now();try{t(...o)}finally{n=void 0}},s=()=>{i&&(document.removeEventListener("visibilitychange",i,{capture:!0}),i=null)},u=()=>{null!==o&&(clearTimeout(o),o=null)},c=function(){for(var t=arguments.length,c=new Array(t),l=0;l<t;l++)c[l]=arguments[l];n=c,s(),u();performance.now()-r>=e||0===r?a(...c):(function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];null!==o&&u(),o=setTimeout(()=>{try{a(...n)}finally{s(),u()}},e-(performance.now()-r))}(...c),function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];i&&document.removeEventListener("visibilitychange",i,{capture:!0}),i=()=>{if("hidden"===document.visibilityState)try{a(...e)}finally{u(),s()}},document.addEventListener("visibilitychange",i,{capture:!0})}(...c))};return c.flush=()=>{try{n&&a(...n)}finally{s(),u()}},c}class No{flush(){this.throttledSetRaw.flush()}get(){let{forceDiskRead:t=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(null===this.cachedValue||t){const t=this._getRaw(this.key);void 0!==t&&(this.cachedValue=this._deserialize(t))}var e;return null!==(e=this.cachedValue)&&void 0!==e?e:null}remove(t){const e=t?"domain=".concat(t,";"):"",n="".concat(this.key,"=;").concat(e,"path=/;expires=Thu, 01 Jan 1970 00:00:00 GMT");this.throttledSetRaw(n),this.flush()}set(t,e){this.cachedValue=t,this.throttledSetRaw(this._serialize(t,e))}_deserialize(t){if(!t)return;let e;try{e=JSON.parse(t)}catch{return}return e}_getRaw(t){const e=document.cookie.split(";");for(let n=0;n<e.length;n++){const r=e[n].trim();if(0===r.indexOf(t+"="))return decodeURIComponent(r.substring((t+"=").length,r.length))}}_serialize(t,e){const n=encodeURIComponent(JSON.stringify(t)),r=e?"domain=".concat(e,";"):"";let o="".concat(this.key,"=").concat(n,";path=/;").concat(r,";max-age=").concat(900);return!function(){try{return window.self!==window.top}catch{return!0}}()?o+=";SameSite=Strict":["localhost","127.0.0.1"].includes(window.location.hostname)&&/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?o+=";SameSite=None":o+=";SameSite=None; Secure",o}constructor(t){Wr(this,"key",void 0),Wr(this,"cachedValue",void 0),Wr(this,"throttledSetRaw",void 0),this.key=t,this.throttledSetRaw=Co(t=>{document.cookie=t},1e3)}}class Io{flush(){this.throttledSetRaw.flush()}get(){let{forceDiskRead:t=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(void 0===this.cachedValue||t){const t=Mo(this.key);this.cachedValue=t&&JSON.parse(t)}var e;return null!==(e=this.cachedValue)&&void 0!==e?e:null}remove(){ko(this.key),this.cachedValue=void 0,this.flush()}set(t){this.cachedValue=t,this.throttledSetRaw(JSON.stringify(t))}constructor(t){Wr(this,"key",void 0),Wr(this,"cachedValue",void 0),Wr(this,"throttledSetRaw",void 0),this.key=t,this.throttledSetRaw=Co(t=>{xo(this.key,t)},1e3)}}const Mo=t=>{let e=null;try{e=window.localStorage.getItem(t)}catch{}return e},xo=(t,e)=>{try{return window.localStorage.setItem(t,e),!0}catch{return!1}},ko=t=>{try{window.localStorage.removeItem(t)}catch{}};const Do="0.23.1",Uo=Symbol.for("opentelemetry.js.api.1"),jo="splunk.rum",Bo="".concat(jo,".version"),Ho=globalThis;let Xo,Vo,Fo=!1,Go=!1;function zo(){Fo=!0}function Ko(t){return window.__splunkRumIntegrationTestSessionId?window.__splunkRumIntegrationTestSessionId:t||oo(128)}function qo(t){return{expiresAt:Date.now()+Ao,id:Ko(t),startTime:Date.now()}}let Wo=null;function Yo(){if(Wo)return Wo;throw new Error("Session store was accessed but not initialized.")}function $o(){let t=Zo({forceDiskRead:!1});return t||(t=Jo({forceStore:!0,inactive:!0})),t}function Zo(t){let{forceDiskRead:e=!1}=t;const n=Yo().get({forceDiskRead:e});var r;if("object"==typeof(r=n)&&null!==r&&"id"in r&&"string"==typeof r.id&&32===r.id.length&&"startTime"in r&&"number"==typeof r.startTime&&(!Po(n)&&!(t=>void 0!==t.expiresAt&&Date.now()>t.expiresAt)(n)))return n}function Jo(t){let{forceNewSession:e=!1,forceStore:n,hadActivity:r,inactive:o,recorderType:i}=t,a=Zo({forceDiskRead:n}),s=!1;return a&&!e||(a=Zo({forceDiskRead:!0}),a&&!e||(a=qo(),Fo=!0,s=!0,Go=!0)),a.inactive!==o&&(a.inactive=o,s=!0),i&&a.rt!==i&&(a.rt=i,s=!0,null==Wo||Wo.set(a,Xo),null==Wo||Wo.flush()),null==Vo||Vo.emit("session-changed",{sessionId:a.id}),(Fo||r)&&(a.expiresAt=Date.now()+Ao,Po(a)||(null==Wo||Wo.set(a,Xo),s&&(null==Wo||Wo.flush()))),Fo=!1,a}function Qo(){return Boolean("undefined"!=typeof window&&window.SplunkRumNative&&window.SplunkRumNative.getNativeSessionId)}const ti=["click","scroll","mousedown","keydown","touchend","visibilitychange"];function ei(t,e,n){if(Qo()&&window.SplunkRumNative){const t=qo(window.SplunkRumNative.getNativeSessionId());return Wo={get:()=>t,flush:()=>{},set:()=>{throw new Error("Cannot override native RUM session ID.")},remove:()=>{throw new Error("Cannot clear native RUM session ID.")}},{deinit:()=>{},clearSession:()=>{},flush:()=>{}}}Wo=function(t){if("localStorage"===t.type)return new Io(t.key);if("cookie"===t.type)return new No(t.key);throw new Error("Unknown store type")}({type:t,key:"_splunk_rum_sid"}),n&&(Xo=n),Fo=!0,Vo=e,ti.forEach(t=>document.addEventListener(t,zo,{capture:!0,passive:!0})),Jo({forceStore:!0});const r=null===(o=Ho[Uo])||void 0===o?void 0:o[jo];var o;return r&&(r.store=Wo),{deinit:()=>{ti.forEach(t=>document.removeEventListener(t,zo)),Vo=void 0},clearSession:()=>{null==Wo||Wo.remove(),null==Wo||Wo.flush()},flush:()=>{null==Wo||Wo.flush()}}}const ni=t=>{var e,n;return null!==t&&"object"==typeof t&&(t instanceof Error||(null===(e=t.constructor.name)||void 0===e?void 0:e.endsWith("Error"))||(null===(n=t.constructor.name)||void 0===n?void 0:n.endsWith("Exception")))},ri=t=>"string"==typeof t||"object"==typeof t&&null!==t&&("byteLength"in t||("length"in t||"size"in t)),oi=t=>t.byteLength||t.size||t.length;var ii,ai,si,ui,ci,li=-1,pi=function(t){addEventListener("pageshow",function(e){e.persisted&&(li=e.timeStamp,t(e))},!0)},di=function(){return window.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]},fi=function(){var t=di();return t&&t.activationStart||0},hi=function(t,e){var n=di(),r="navigate";return li>=0?r="back-forward-cache":n&&(document.prerendering||fi()>0?r="prerender":document.wasDiscarded?r="restore":n.type&&(r=n.type.replace(/_/g,"-"))),{name:t,value:void 0===e?-1:e,rating:"good",delta:0,entries:[],id:"v3-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:r}},_i=function(t,e,n){try{if(PerformanceObserver.supportedEntryTypes.includes(t)){var r=new PerformanceObserver(function(t){Promise.resolve().then(function(){e(t.getEntries())})});return r.observe(Object.assign({type:t,buffered:!0},n||{})),r}}catch(t){}},vi=function(t,e,n,r){var o,i;return function(a){e.value>=0&&(a||r)&&((i=e.value-(o||0))||void 0===o)&&(o=e.value,e.delta=i,e.rating=function(t,e){return t>e[1]?"poor":t>e[0]?"needs-improvement":"good"}(e.value,n),t(e))}},Ei=function(t){requestAnimationFrame(function(){return requestAnimationFrame(function(){return t()})})},mi=function(t){var e=function(e){"pagehide"!==e.type&&"hidden"!==document.visibilityState||t(e)};addEventListener("visibilitychange",e,!0),addEventListener("pagehide",e,!0)},Ti=function(t){var e=!1;return function(n){e||(t(n),e=!0)}},gi=-1,yi=function(){return"hidden"!==document.visibilityState||document.prerendering?1/0:0},Si=function(t){"hidden"===document.visibilityState&&gi>-1&&(gi="visibilitychange"===t.type?t.timeStamp:0,Oi())},bi=function(){addEventListener("visibilitychange",Si,!0),addEventListener("prerenderingchange",Si,!0)},Oi=function(){removeEventListener("visibilitychange",Si,!0),removeEventListener("prerenderingchange",Si,!0)},wi=function(){return gi<0&&(gi=yi(),bi(),pi(function(){setTimeout(function(){gi=yi(),bi()},0)})),{get firstHiddenTime(){return gi}}},Ri=function(t){document.prerendering?addEventListener("prerenderingchange",function(){return t()},!0):t()},Li=[1800,3e3],Ai=[.1,.25],Pi=function(t,e){e=e||{},function(t,e){e=e||{},Ri(function(){var n,r=wi(),o=hi("FCP"),i=_i("paint",function(t){t.forEach(function(t){"first-contentful-paint"===t.name&&(i.disconnect(),t.startTime<r.firstHiddenTime&&(o.value=Math.max(t.startTime-fi(),0),o.entries.push(t),n(!0)))})});i&&(n=vi(t,o,Li,e.reportAllChanges),pi(function(r){o=hi("FCP"),n=vi(t,o,Li,e.reportAllChanges),Ei(function(){o.value=performance.now()-r.timeStamp,n(!0)})}))})}(Ti(function(){var n,r=hi("CLS",0),o=0,i=[],a=function(t){t.forEach(function(t){if(!t.hadRecentInput){var e=i[0],n=i[i.length-1];o&&t.startTime-n.startTime<1e3&&t.startTime-e.startTime<5e3?(o+=t.value,i.push(t)):(o=t.value,i=[t])}}),o>r.value&&(r.value=o,r.entries=i,n())},s=_i("layout-shift",a);s&&(n=vi(t,r,Ai,e.reportAllChanges),mi(function(){a(s.takeRecords()),n(!0)}),pi(function(){o=0,r=hi("CLS",0),n=vi(t,r,Ai,e.reportAllChanges),Ei(function(){return n()})}),setTimeout(n,0))}))},Ci={passive:!0,capture:!0},Ni=new Date,Ii=function(t,e){ii||(ii=e,ai=t,si=new Date,ki(removeEventListener),Mi())},Mi=function(){if(ai>=0&&ai<si-Ni){var t={entryType:"first-input",name:ii.type,target:ii.target,cancelable:ii.cancelable,startTime:ii.timeStamp,processingStart:ii.timeStamp+ai};ui.forEach(function(e){e(t)}),ui=[]}},xi=function(t){if(t.cancelable){var e=(t.timeStamp>1e12?new Date:performance.now())-t.timeStamp;"pointerdown"==t.type?function(t,e){var n=function(){Ii(t,e),o()},r=function(){o()},o=function(){removeEventListener("pointerup",n,Ci),removeEventListener("pointercancel",r,Ci)};addEventListener("pointerup",n,Ci),addEventListener("pointercancel",r,Ci)}(e,t):Ii(e,t)}},ki=function(t){["mousedown","keydown","touchstart","pointerdown"].forEach(function(e){return t(e,xi,Ci)})},Di=[100,300],Ui=0,ji=1/0,Bi=0,Hi=function(t){t.forEach(function(t){t.interactionId&&(ji=Math.min(ji,t.interactionId),Bi=Math.max(Bi,t.interactionId),Ui=Bi?(Bi-ji)/7+1:0)})},Xi=function(){return ci?Ui:performance.interactionCount||0},Vi=function(){"interactionCount"in performance||ci||(ci=_i("event",Hi,{type:"event",buffered:!0,durationThreshold:0}))},Fi=[200,500],Gi=0,zi=function(){return Xi()-Gi},Ki=[],qi={},Wi=function(t){var e=Ki[Ki.length-1],n=qi[t.interactionId];if(n||Ki.length<10||t.duration>e.latency){if(n)n.entries.push(t),n.latency=Math.max(n.latency,t.duration);else{var r={id:t.interactionId,latency:t.duration,entries:[t]};qi[r.id]=r,Ki.push(r)}Ki.sort(function(t,e){return e.latency-t.latency}),Ki.splice(10).forEach(function(t){delete qi[t.id]})}},Yi=[2500,4e3],$i={};const Zi={};function Ji(t,e,n){if(Zi[e])return;Zi[e]=!0;const r=n.value,o=Date.now(),i=t.startSpan("webvitals",{startTime:o});i.setAttribute(e,r),i.end(o)}function Qi(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=t.getTracer("webvitals");!1!==e.fid&&function(t,e){e=e||{},Ri(function(){var n,r=wi(),o=hi("FID"),i=function(t){t.startTime<r.firstHiddenTime&&(o.value=t.processingStart-t.startTime,o.entries.push(t),n(!0))},a=function(t){t.forEach(i)},s=_i("first-input",a);n=vi(t,o,Di,e.reportAllChanges),s&&mi(Ti(function(){a(s.takeRecords()),s.disconnect()})),s&&pi(function(){var r;o=hi("FID"),n=vi(t,o,Di,e.reportAllChanges),ui=[],ai=-1,ii=null,ki(addEventListener),r=i,ui.push(r),Mi()})})}(t=>{Ji(n,"fid",t)},"object"==typeof e.fid?e.fid:void 0),!1!==e.cls&&Pi(t=>{Ji(n,"cls",t)},"object"==typeof e.cls?e.cls:void 0),!1!==e.lcp&&function(t,e){e=e||{},Ri(function(){var n,r=wi(),o=hi("LCP"),i=function(t){var e=t[t.length-1];e&&e.startTime<r.firstHiddenTime&&(o.value=Math.max(e.startTime-fi(),0),o.entries=[e],n())},a=_i("largest-contentful-paint",i);if(a){n=vi(t,o,Yi,e.reportAllChanges);var s=Ti(function(){$i[o.id]||(i(a.takeRecords()),a.disconnect(),$i[o.id]=!0,n(!0))});["keydown","click"].forEach(function(t){addEventListener(t,function(){return setTimeout(s,0)},!0)}),mi(s),pi(function(r){o=hi("LCP"),n=vi(t,o,Yi,e.reportAllChanges),Ei(function(){o.value=performance.now()-r.timeStamp,$i[o.id]=!0,n(!0)})})}})}(t=>{Ji(n,"lcp",t)},"object"==typeof e.lcp?e.lcp:void 0),!1!==e.inp&&function(t,e){e=e||{},Ri(function(){var n;Vi();var r,o=hi("INP"),i=function(t){t.forEach(function(t){t.interactionId&&Wi(t),"first-input"===t.entryType&&!Ki.some(function(e){return e.entries.some(function(e){return t.duration===e.duration&&t.startTime===e.startTime})})&&Wi(t)});var e,n=(e=Math.min(Ki.length-1,Math.floor(zi()/50)),Ki[e]);n&&n.latency!==o.value&&(o.value=n.latency,o.entries=n.entries,r())},a=_i("event",i,{durationThreshold:null!==(n=e.durationThreshold)&&void 0!==n?n:40});r=vi(t,o,Fi,e.reportAllChanges),a&&("PerformanceEventTiming"in window&&"interactionId"in PerformanceEventTiming.prototype&&a.observe({type:"first-input",buffered:!0}),mi(function(){i(a.takeRecords()),o.value<0&&zi()>0&&(o.value=0,o.entries=[]),r(!0)}),pi(function(){Ki=[],Gi=Xi(),o=hi("INP"),r=vi(t,o,Fi,e.reportAllChanges)}))})}(t=>{Ji(n,"inp",t)},"object"==typeof e.inp?e.inp:void 0)}const ta="longtask",ea="splunk-longtask";class na extends lt{disable(){var t;this.isSupported()&&(null===(t=this._longtaskObserver)||void 0===t||t.disconnect())}enable(){this.isSupported()&&(this._longtaskObserver=new PerformanceObserver(t=>{t.getEntries().forEach(t=>this._createSpanFromEntry(t))}),this._longtaskObserver.observe({type:ta,buffered:!0}))}init(){}_createSpanFromEntry(t){const e=Zo({forceDiskRead:!1}),n=!e||e.inactive;if(this.initOptions._experimental_longtaskNoStartSession&&n)return;const r=this.tracer.startSpan(ta,{startTime:t.startTime});r.setAttribute("component",ea),r.setAttribute("longtask.name",t.name),r.setAttribute("longtask.entry_type",t.entryType),r.setAttribute("longtask.duration",t.duration);const o=t.attribution;Array.isArray(o)&&o.forEach((t,e)=>{const n=t>1?"longtask.attribution[".concat(e,"]"):"longtask.attribution";r.setAttribute("".concat(n,".name"),t.name),r.setAttribute("".concat(n,".entry_type"),t.entryType),r.setAttribute("".concat(n,".start_time"),t.startTime),r.setAttribute("".concat(n,".duration"),t.duration),r.setAttribute("".concat(n,".container_type"),t.containerType),r.setAttribute("".concat(n,".container_src"),t.containerSrc),r.setAttribute("".concat(n,".container_id"),t.containerId),r.setAttribute("".concat(n,".container_name"),t.containerName)}),r.end(t.startTime+t.duration)}isSupported(){return(window.PerformanceObserver&&PerformanceObserver.supportedEntryTypes||[]).includes(ta)}constructor(t={},e){super(ea,Do,Object.assign({},t)),Wr(this,"_longtaskObserver",void 0),Wr(this,"initOptions",void 0),this.initOptions=e}}const ra="splunk-post-doc-load-resource",oa=["img","script"],ia=t=>t instanceof HTMLScriptElement||t instanceof HTMLImageElement;class aa extends lt{disable(){this.performanceObserver&&this.performanceObserver.disconnect(),this.headMutationObserver&&this.headMutationObserver.disconnect()}enable(){window.PerformanceObserver&&("complete"===window.document.readyState?this._startPerformanceObserver():window.addEventListener("load",t=>{this._startPerformanceObserver(t)})),window.MutationObserver&&this._startHeadMutationObserver()}init(){}onBeforeContextChange(){this.headMutationObserver&&this._processHeadMutationObserverRecords(this.headMutationObserver.takeRecords())}_createSpan(t){if((0,$n.K)(t.name,this.config.ignoreUrls))return;const e=new URL(t.name,location.origin),n=this.tracer.startSpan("resourceFetch",{startTime:t.fetchStart},this.urlToContextMap[e.toString()]);n.setAttribute("component",ra),n.setAttribute(kn.HTTP_URL,t.name),n.setAttribute(kn.HTTP_METHOD,"GET"),et(n,t);const r=t.responseEnd;r&&r>0?n.end(r):n.end()}_processHeadMutationObserverRecords(t){_._.active()!==H.l&&t.flatMap(t=>Array.from(t.addedNodes||[])).filter(ia).forEach(t=>{const e=t.getAttribute("src");if(!e)return;const n=new URL(e,location.origin);this.urlToContextMap[n.toString()]=_._.active()})}_startHeadMutationObserver(){this.headMutationObserver=new MutationObserver(this._processHeadMutationObserverRecords.bind(this)),this.headMutationObserver.observe(document.head,{childList:!0})}_startPerformanceObserver(t){t&&!t.isTrusted||this.performanceObserver||(this.performanceObserver=new PerformanceObserver(t=>{"complete"===window.document.readyState&&t.getEntries().forEach(t=>{var e;(null===(e=this.config.allowedInitiatorTypes)||void 0===e?void 0:e.includes(t.initiatorType))&&this._createSpan(t)})}),this.performanceObserver.observe({entryTypes:["resource"]}))}constructor(t={}){const e=Object.assign({},{allowedInitiatorTypes:oa},t);super(ra,Do,e),Wr(this,"config",void 0),Wr(this,"headMutationObserver",void 0),Wr(this,"performanceObserver",void 0),Wr(this,"urlToContextMap",void 0),this.config=e,this.urlToContextMap={}}}var sa=n(8250),ua=n(4469),ca=n(1753),la=n(8330),pa=n(3837);var da=function(){return da=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},da.apply(this,arguments)},fa=function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function s(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}u((r=r.apply(t,e||[])).next())})},ha=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},_a=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},va=function(){function t(t,e){var n,r=this;this._attributes=t,this.asyncAttributesPending=null!=e,this._syncAttributes=null!==(n=this._attributes)&&void 0!==n?n:{},this._asyncAttributesPromise=null==e?void 0:e.then(function(t){return r._attributes=Object.assign({},r._attributes,t),r.asyncAttributesPending=!1,t},function(t){return f.s.debug("a resource's async attributes promise rejected: %s",t),r.asyncAttributesPending=!1,{}})}return t.empty=function(){return t.EMPTY},t.default=function(){var e;return new t(((e={})[la.AV]="unknown_service",e[la.Pl]=pa.q[la.Pl],e[la.$L]=pa.q[la.$L],e[la.y$]=pa.q[la.y$],e))},Object.defineProperty(t.prototype,"attributes",{get:function(){var t;return this.asyncAttributesPending&&f.s.error("Accessing resource attributes before async attributes settled"),null!==(t=this._attributes)&&void 0!==t?t:{}},enumerable:!1,configurable:!0}),t.prototype.waitForAsyncAttributes=function(){return fa(this,void 0,void 0,function(){return ha(this,function(t){switch(t.label){case 0:return this.asyncAttributesPending?[4,this._asyncAttributesPromise]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.merge=function(e){var n,r=this;if(!e)return this;var o=da(da({},this._syncAttributes),null!==(n=e._syncAttributes)&&void 0!==n?n:e.attributes);if(!this._asyncAttributesPromise&&!e._asyncAttributesPromise)return new t(o);var i=Promise.all([this._asyncAttributesPromise,e._asyncAttributesPromise]).then(function(t){var n,o=_a(t,2),i=o[0],a=o[1];return da(da(da(da({},r._syncAttributes),i),null!==(n=e._syncAttributes)&&void 0!==n?n:e.attributes),a)});return new t(o,i)},t.EMPTY=new t({}),t}(),Ea=n(195),ma=n(3813),Ta=n(2008),ga=n(4419),ya=function(){return ya=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},ya.apply(this,arguments)},Sa=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ba=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},Oa=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},wa=function(){function t(t,e,n,r,o,i,a,s,u,c){void 0===a&&(a=[]),this.attributes={},this.links=[],this.events=[],this._droppedAttributesCount=0,this._droppedEventsCount=0,this._droppedLinksCount=0,this.status={code:ga.s.UNSET},this.endTime=[0,0],this._ended=!1,this._duration=[-1,-1],this.name=n,this._spanContext=r,this.parentSpanId=i,this.kind=o,this.links=a;var l=Date.now();this._performanceStartTime=X.u.now(),this._performanceOffset=l-(this._performanceStartTime+(0,x.uc)()),this._startTimeProvided=null!=s,this.startTime=this._getTime(null!=s?s:l),this.resource=t.resource,this.instrumentationLibrary=t.instrumentationLibrary,this._spanLimits=t.getSpanLimits(),this._attributeValueLengthLimit=this._spanLimits.attributeValueLengthLimit||0,null!=c&&this.setAttributes(c),this._spanProcessor=t.getActiveSpanProcessor(),this._spanProcessor.onStart(this,e)}return t.prototype.spanContext=function(){return this._spanContext},t.prototype.setAttribute=function(t,e){return null==e||this._isSpanEnded()?this:0===t.length?(f.s.warn("Invalid attribute key: "+t),this):(0,Ta.m)(e)?Object.keys(this.attributes).length>=this._spanLimits.attributeCountLimit&&!Object.prototype.hasOwnProperty.call(this.attributes,t)?(this._droppedAttributesCount++,this):(this.attributes[t]=this._truncateToSize(e),this):(f.s.warn("Invalid attribute value set for key: "+t),this)},t.prototype.setAttributes=function(t){var e,n;try{for(var r=Sa(Object.entries(t)),o=r.next();!o.done;o=r.next()){var i=ba(o.value,2),a=i[0],s=i[1];this.setAttribute(a,s)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return this},t.prototype.addEvent=function(t,e,n){if(this._isSpanEnded())return this;if(0===this._spanLimits.eventCountLimit)return f.s.warn("No events allowed."),this._droppedEventsCount++,this;this.events.length>=this._spanLimits.eventCountLimit&&(0===this._droppedEventsCount&&f.s.debug("Dropping extra events."),this.events.shift(),this._droppedEventsCount++),(0,x.Ir)(e)&&((0,x.Ir)(n)||(n=e),e=void 0);var r=(0,Ta.L)(e);return this.events.push({name:t,attributes:r,time:this._getTime(n),droppedAttributesCount:0}),this},t.prototype.addLink=function(t){return this.links.push(t),this},t.prototype.addLinks=function(t){var e;return(e=this.links).push.apply(e,Oa([],ba(t),!1)),this},t.prototype.setStatus=function(t){return this._isSpanEnded()||(this.status=ya({},t),null!=this.status.message&&"string"!=typeof t.message&&(f.s.warn("Dropping invalid status.message of type '"+typeof t.message+"', expected 'string'"),delete this.status.message)),this},t.prototype.updateName=function(t){return this._isSpanEnded()||(this.name=t),this},t.prototype.end=function(t){this._isSpanEnded()?f.s.error(this.name+" "+this._spanContext.traceId+"-"+this._spanContext.spanId+" - You can only call end() on a span once."):(this._ended=!0,this.endTime=this._getTime(t),this._duration=(0,x.W5)(this.startTime,this.endTime),this._duration[0]<0&&(f.s.warn("Inconsistent start and end time, startTime > endTime. Setting span duration to 0ms.",this.startTime,this.endTime),this.endTime=this.startTime.slice(),this._duration=[0,0]),this._droppedEventsCount>0&&f.s.warn("Dropped "+this._droppedEventsCount+" events because eventCountLimit reached"),this._spanProcessor.onEnd(this))},t.prototype._getTime=function(t){if("number"==typeof t&&t<=X.u.now())return(0,x._5)(t+this._performanceOffset);if("number"==typeof t)return(0,x.lg)(t);if(t instanceof Date)return(0,x.lg)(t.getTime());if((0,x.VL)(t))return t;if(this._startTimeProvided)return(0,x.lg)(Date.now());var e=X.u.now()-this._performanceStartTime;return(0,x.mw)(this.startTime,(0,x.lg)(e))},t.prototype.isRecording=function(){return!1===this._ended},t.prototype.recordException=function(t,e){var n={};"string"==typeof t?n[Y]=t:t&&(t.code?n[W]=t.code.toString():t.name&&(n[W]=t.name),t.message&&(n[Y]=t.message),t.stack&&(n[$]=t.stack)),n[W]||n[Y]?this.addEvent("exception",n,e):f.s.warn("Failed to record an exception "+t)},Object.defineProperty(t.prototype,"duration",{get:function(){return this._duration},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ended",{get:function(){return this._ended},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"droppedAttributesCount",{get:function(){return this._droppedAttributesCount},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"droppedEventsCount",{get:function(){return this._droppedEventsCount},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"droppedLinksCount",{get:function(){return this._droppedLinksCount},enumerable:!1,configurable:!0}),t.prototype._isSpanEnded=function(){return this._ended&&f.s.warn("Can not execute the operation on ended Span {traceId: "+this._spanContext.traceId+", spanId: "+this._spanContext.spanId+"}"),this._ended},t.prototype._truncateToLimitUtil=function(t,e){return t.length<=e?t:t.substring(0,e)},t.prototype._truncateToSize=function(t){var e=this,n=this._attributeValueLengthLimit;return n<=0?(f.s.warn("Attribute value limit must be positive, got "+n),t):"string"==typeof t?this._truncateToLimitUtil(t,n):Array.isArray(t)?t.map(function(t){return"string"==typeof t?e._truncateToLimitUtil(t,n):t}):t},t}(),Ra=n(7704),La=function(){function t(t){void 0===t&&(t=0),this._ratio=t,this._ratio=this._normalize(t),this._upperBound=Math.floor(4294967295*this._ratio)}return t.prototype.shouldSample=function(t,e){return{decision:(0,A.hX)(e)&&this._accumulate(e)<this._upperBound?d.RECORD_AND_SAMPLED:d.NOT_RECORD}},t.prototype.toString=function(){return"TraceIdRatioBased{"+this._ratio+"}"},t.prototype._normalize=function(t){return"number"!=typeof t||isNaN(t)?0:t>=1?1:t<=0?0:t},t.prototype._accumulate=function(t){for(var e=0,n=0;n<t.length/8;n++){var r=8*n;e=(e^parseInt(t.slice(r,r+8),16))>>>0}return e},t}(),Aa=Ra.R.AlwaysOn;function Pa(){var t=(0,v._)();return{sampler:Ca(t),forceFlushTimeoutMillis:3e4,generalLimits:{attributeValueLengthLimit:t.OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT,attributeCountLimit:t.OTEL_ATTRIBUTE_COUNT_LIMIT},spanLimits:{attributeValueLengthLimit:t.OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT,attributeCountLimit:t.OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT,linkCountLimit:t.OTEL_SPAN_LINK_COUNT_LIMIT,eventCountLimit:t.OTEL_SPAN_EVENT_COUNT_LIMIT,attributePerEventCountLimit:t.OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT,attributePerLinkCountLimit:t.OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT},mergeResourceWithDefaults:!0}}function Ca(t){switch(void 0===t&&(t=(0,v._)()),t.OTEL_TRACES_SAMPLER){case Ra.R.AlwaysOn:return new R;case Ra.R.AlwaysOff:return new L;case Ra.R.ParentBasedAlwaysOn:return new P({root:new R});case Ra.R.ParentBasedAlwaysOff:return new P({root:new L});case Ra.R.TraceIdRatio:return new La(Na(t));case Ra.R.ParentBasedTraceIdRatio:return new P({root:new La(Na(t))});default:return f.s.error('OTEL_TRACES_SAMPLER value "'+t.OTEL_TRACES_SAMPLER+" invalid, defaulting to "+Aa+'".'),new R}}function Na(t){if(void 0===t.OTEL_TRACES_SAMPLER_ARG||""===t.OTEL_TRACES_SAMPLER_ARG)return f.s.error("OTEL_TRACES_SAMPLER_ARG is blank, defaulting to 1."),1;var e=Number(t.OTEL_TRACES_SAMPLER_ARG);return isNaN(e)?(f.s.error("OTEL_TRACES_SAMPLER_ARG="+t.OTEL_TRACES_SAMPLER_ARG+" was given, but it is invalid, defaulting to 1."),1):e<0||e>1?(f.s.error("OTEL_TRACES_SAMPLER_ARG="+t.OTEL_TRACES_SAMPLER_ARG+" was given, but it is out of range ([0..1]), defaulting to 1."),1):e}var Ia=n(2524);var Ma=function(){this.generateTraceId=ka(16),this.generateSpanId=ka(8)},xa=Array(32);function ka(t){return function(){for(var e=0;e<2*t;e++)xa[e]=Math.floor(16*Math.random())+48,xa[e]>=58&&(xa[e]+=39);return String.fromCharCode.apply(null,xa.slice(0,2*t))}}var Da,Ua=function(){function e(t,e,n){this._tracerProvider=n;var r,o,i,a,s=(r=e,o={sampler:Ca()},i=Pa(),(a=Object.assign({},i,o,r)).generalLimits=Object.assign({},i.generalLimits,r.generalLimits||{}),a.spanLimits=Object.assign({},i.spanLimits,r.spanLimits||{}),a);this._sampler=s.sampler,this._generalLimits=s.generalLimits,this._spanLimits=s.spanLimits,this._idGenerator=e.idGenerator||new Ma,this.resource=n.resource,this.instrumentationLibrary=t}return e.prototype.startSpan=function(e,n,r){var o,i,a;void 0===n&&(n={}),void 0===r&&(r=_._.active()),n.root&&(r=t.u.deleteSpan(r));var s=t.u.getSpan(r);if((0,m.Zf)(r))return f.s.debug("Instrumentation suppressed, returning Noop Span"),t.u.wrapSpanContext(Ea.dM);var u,c,l,p=null==s?void 0:s.spanContext(),d=this._idGenerator.generateSpanId();p&&t.u.isSpanContextValid(p)?(u=p.traceId,c=p.traceState,l=p.spanId):u=this._idGenerator.generateTraceId();var v=null!==(o=n.kind)&&void 0!==o?o:Jn.v.INTERNAL,E=(null!==(i=n.links)&&void 0!==i?i:[]).map(function(t){return{context:t.context,attributes:(0,Ta.L)(t.attributes)}}),T=(0,Ta.L)(n.attributes),g=this._sampler.shouldSample(r,u,e,v,T,E);c=null!==(a=g.traceState)&&void 0!==a?a:c;var y={traceId:u,spanId:d,traceFlags:g.decision===ma.i.RECORD_AND_SAMPLED?h.X.SAMPLED:h.X.NONE,traceState:c};if(g.decision===ma.i.NOT_RECORD)return f.s.debug("Recording is off, propagating context in a non-recording span"),t.u.wrapSpanContext(y);var S=(0,Ta.L)(Object.assign(T,g.attributes));return new wa(this,r,e,y,v,l,E,n.startTime,void 0,S)},e.prototype.startActiveSpan=function(e,n,r,o){var i,a,s;if(!(arguments.length<2)){2===arguments.length?s=n:3===arguments.length?(i=n,s=r):(i=n,a=r,s=o);var u=null!=a?a:_._.active(),c=this.startSpan(e,i,u),l=t.u.setSpan(u,c);return _._.with(l,s,void 0,c)}},e.prototype.getGeneralLimits=function(){return this._generalLimits},e.prototype.getSpanLimits=function(){return this._spanLimits},e.prototype.getActiveSpanProcessor=function(){return this._tracerProvider.getActiveSpanProcessor()},e}(),ja=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ba=function(){function t(t){this._spanProcessors=t}return t.prototype.forceFlush=function(){var t,e,n=[];try{for(var r=ja(this._spanProcessors),o=r.next();!o.done;o=r.next()){var i=o.value;n.push(i.forceFlush())}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return new Promise(function(t){Promise.all(n).then(function(){t()}).catch(function(e){(0,g.s)(e||new Error("MultiSpanProcessor: forceFlush failed")),t()})})},t.prototype.onStart=function(t,e){var n,r;try{for(var o=ja(this._spanProcessors),i=o.next();!i.done;i=o.next()){i.value.onStart(t,e)}}catch(t){n={error:t}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}},t.prototype.onEnd=function(t){var e,n;try{for(var r=ja(this._spanProcessors),o=r.next();!o.done;o=r.next()){o.value.onEnd(t)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}},t.prototype.shutdown=function(){var t,e,n=[];try{for(var r=ja(this._spanProcessors),o=r.next();!o.done;o=r.next()){var i=o.value;n.push(i.shutdown())}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return new Promise(function(t,e){Promise.all(n).then(function(){t()},e)})},t}(),Ha=function(){function t(){}return t.prototype.onStart=function(t,e){},t.prototype.onEnd=function(t){},t.prototype.shutdown=function(){return Promise.resolve()},t.prototype.forceFlush=function(){return Promise.resolve()},t}(),Xa=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},Va=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))};!function(t){t[t.resolved=0]="resolved",t[t.timeout=1]="timeout",t[t.error=2]="error",t[t.unresolved=3]="unresolved"}(Da||(Da={}));var Fa=function(){function e(t){var e,n;void 0===t&&(t={}),this._registeredSpanProcessors=[],this._tracers=new Map;var r=(0,sa.h)({},Pa(),function(t){var e,n,r,o,i,a,s,u,c,l,p,d,f=Object.assign({},t.spanLimits),h=(0,v.w)();return f.attributeCountLimit=null!==(a=null!==(i=null!==(o=null!==(n=null===(e=t.spanLimits)||void 0===e?void 0:e.attributeCountLimit)&&void 0!==n?n:null===(r=t.generalLimits)||void 0===r?void 0:r.attributeCountLimit)&&void 0!==o?o:h.OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT)&&void 0!==i?i:h.OTEL_ATTRIBUTE_COUNT_LIMIT)&&void 0!==a?a:Ia.fv,f.attributeValueLengthLimit=null!==(d=null!==(p=null!==(l=null!==(u=null===(s=t.spanLimits)||void 0===s?void 0:s.attributeValueLengthLimit)&&void 0!==u?u:null===(c=t.generalLimits)||void 0===c?void 0:c.attributeValueLengthLimit)&&void 0!==l?l:h.OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT)&&void 0!==p?p:h.OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT)&&void 0!==d?d:Ia.aE,Object.assign({},t,{spanLimits:f})}(t));if(this.resource=null!==(e=r.resource)&&void 0!==e?e:va.empty(),r.mergeResourceWithDefaults&&(this.resource=va.default().merge(this.resource)),this._config=Object.assign({},r,{resource:this.resource}),null===(n=t.spanProcessors)||void 0===n?void 0:n.length)this._registeredSpanProcessors=Va([],Xa(t.spanProcessors),!1),this.activeSpanProcessor=new Ba(this._registeredSpanProcessors);else{var o=this._buildExporterFromEnv();if(void 0!==o){var i=new O(o);this.activeSpanProcessor=i}else this.activeSpanProcessor=new Ha}}return e.prototype.getTracer=function(t,e,n){var r=t+"@"+(e||"")+":"+((null==n?void 0:n.schemaUrl)||"");return this._tracers.has(r)||this._tracers.set(r,new Ua({name:t,version:e,schemaUrl:null==n?void 0:n.schemaUrl},this._config,this)),this._tracers.get(r)},e.prototype.addSpanProcessor=function(t){0===this._registeredSpanProcessors.length&&this.activeSpanProcessor.shutdown().catch(function(t){return f.s.error("Error while trying to shutdown current span processor",t)}),this._registeredSpanProcessors.push(t),this.activeSpanProcessor=new Ba(this._registeredSpanProcessors)},e.prototype.getActiveSpanProcessor=function(){return this.activeSpanProcessor},e.prototype.register=function(e){void 0===e&&(e={}),t.u.setGlobalTracerProvider(this),void 0===e.propagator&&(e.propagator=this._buildPropagatorFromEnv()),e.contextManager&&_._.setGlobalContextManager(e.contextManager),e.propagator&&B.$.setGlobalPropagator(e.propagator)},e.prototype.forceFlush=function(){var t=this._config.forceFlushTimeoutMillis,e=this._registeredSpanProcessors.map(function(e){return new Promise(function(n){var r,o=setTimeout(function(){n(new Error("Span processor did not completed within timeout period of "+t+" ms")),r=Da.timeout},t);e.forceFlush().then(function(){clearTimeout(o),r!==Da.timeout&&(r=Da.resolved,n(r))}).catch(function(t){clearTimeout(o),r=Da.error,n(t)})})});return new Promise(function(t,n){Promise.all(e).then(function(e){var r=e.filter(function(t){return t!==Da.resolved});r.length>0?n(r):t()}).catch(function(t){return n([t])})})},e.prototype.shutdown=function(){return this.activeSpanProcessor.shutdown()},e.prototype._getPropagator=function(t){var e;return null===(e=this.constructor._registeredPropagators.get(t))||void 0===e?void 0:e()},e.prototype._getSpanExporter=function(t){var e;return null===(e=this.constructor._registeredExporters.get(t))||void 0===e?void 0:e()},e.prototype._buildPropagatorFromEnv=function(){var t=this,e=Array.from(new Set((0,v._)().OTEL_PROPAGATORS)),n=e.map(function(e){var n=t._getPropagator(e);return n||f.s.warn('Propagator "'+e+'" requested through environment variable is unavailable.'),n}).reduce(function(t,e){return e&&t.push(e),t},[]);return 0===n.length?void 0:1===e.length?n[0]:new ua.n({propagators:n})},e.prototype._buildExporterFromEnv=function(){var t=(0,v._)().OTEL_TRACES_EXPORTER;if("none"!==t&&""!==t){var e=this._getSpanExporter(t);return e||f.s.error('Exporter "'+t+'" requested through environment variable is unavailable.'),e}},e._registeredPropagators=new Map([["tracecontext",function(){return new V.lm}],["baggage",function(){return new ca.t}]]),e._registeredExporters=new Map,e}(),Ga=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},za=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},Ka=function(){function t(){this._enabled=!1,this._currentContext=H.l}return t.prototype._bindFunction=function(t,e){void 0===t&&(t=H.l);var n=this,r=function(){for(var r=this,o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];return n.with(t,function(){return e.apply(r,o)})};return Object.defineProperty(r,"length",{enumerable:!1,configurable:!0,writable:!1,value:e.length}),r},t.prototype.active=function(){return this._currentContext},t.prototype.bind=function(t,e){return void 0===t&&(t=this.active()),"function"==typeof e?this._bindFunction(t,e):e},t.prototype.disable=function(){return this._currentContext=H.l,this._enabled=!1,this},t.prototype.enable=function(){return this._enabled||(this._enabled=!0,this._currentContext=H.l),this},t.prototype.with=function(t,e,n){for(var r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o];var i=this._currentContext;this._currentContext=t||H.l;try{return e.call.apply(e,za([n],Ga(r),!1))}finally{this._currentContext=i}},t}(),qa=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Wa=function(t){function e(e){void 0===e&&(e={});var n=t.call(this,e)||this;if(e.contextManager)throw"contextManager should be defined in register method not in constructor";if(e.propagator)throw"propagator should be defined in register method not in constructor";return n}return qa(e,t),e.prototype.register=function(e){void 0===e&&(e={}),void 0===e.contextManager&&(e.contextManager=new Ka),e.contextManager&&e.contextManager.enable(),t.prototype.register.call(this,e)},e}(Fa);class Ya extends Wa{shutdown(){return new Promise(e=>{B.$.disable(),_._.disable(),t.u.disable(),e()}).then(()=>super.shutdown())}}class $a{addEventListener(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.events[t]||(this.events[t]=[]),this.events[t].push({listener:e,options:n})}emit(t,e){const n=this.events[t];n&&n.forEach(n=>{let{listener:r,options:o}=n;try{r({payload:e})}catch(t){console.error("Error in event listener",t)}o.once&&this.removeEventListener(t,r)})}removeEventListener(t,e){if(this.events[t])for(let n=0;n<this.events[t].length;n++){const{listener:r}=this.events[t][n];if(r===e){this.events[t].splice(n,1);break}}}constructor(){Wr(this,"events",{})}}const Za="__splunk_context";class Ja{active(){return this._currentContext}bind(t,e){return so(e)?this._bindFunction(e,t):e}disable(){return this._enabled?(this._config.async&&(this._unpatchTimeouts(),this._unpatchPromise(),this._unpatchMutationObserver(),this._unpatchEvents(),this._unpatchMessageChannel()),this._currentContext=H.l,this._enabled=!1,this):this}enable(){return this._enabled||(this._config.async&&(this._patchTimeouts(),this._patchPromise(),this._patchMutationObserver(),this._patchEvents(),this._patchMessageChannel()),this._enabled=!0,this._currentContext=H.l),this}with(t,e,n){for(var r=arguments.length,o=new Array(r>3?r-3:0),i=3;i<r;i++)o[i-3]=arguments[i];try{var a,s;null===(a=(s=this._config).onBeforeContextStart)||void 0===a||a.call(s)}catch{}const u=this._currentContext;this._currentContext=t||H.l;const c=location.hash;try{var l,p;const t=e.call(n,...o);return null===(l=(p=this._config).onBeforeContextEnd)||void 0===l||l.call(p),t}finally{this._currentContext=u,c!==location.hash&&(this._hashChangeContext=t,co(setTimeout)(()=>{this._hashChangeContext===t&&(this._hashChangeContext=null)},33))}}_bindFunction(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:H.l;const n=this,r=function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n.with(e,()=>t.apply(this,o))};return Object.defineProperty(r,"length",{enumerable:!1,configurable:!0,writable:!1,value:t.length}),r}_getListenersMap(t,e){this._contextResumingListeners.has(t)||this._contextResumingListeners.set(t,new Map);const n=this._contextResumingListeners.get(t);return(null==n?void 0:n.has(e))||null==n||n.set(e,new WeakMap),null==n?void 0:n.get(e)}_getWrappedEventListener(t,e){const n=this;return function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];const a=e();return a&&n._enabled?n.with(a,t,this,...o):t.apply(this,o)}}_patchEvents(){const t=this;uo(XMLHttpRequest.prototype,"addEventListener",e=>function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];if(so(r[1])){const e=t._getListenersMap(this,r[0]);let n=null==e?void 0:e.get(r[1]);n||(n=t.bind(t.active(),r[1]),null==e||e.set(r[1],n)),r[1]=n}return e.apply(this,r)}),uo(XMLHttpRequest.prototype,"removeEventListener",e=>function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];if(so(r[1])){const e=t._getListenersMap(this,r[0]),n=null==e?void 0:e.get(r[1]);n&&(r[1]=n)}return e.apply(this,r)}),["onabort","onerror","onload","onloadend","onloadstart","onprogress","ontimeout"].forEach(e=>{const n=Object.getOwnPropertyDescriptor(XMLHttpRequestEventTarget.prototype,e);n&&(uo(n,"get",t=>function(){const e=null==t?void 0:t.call(this);return so(e)&&e._orig?e._orig:e}),uo(n,"set",e=>function(n){if(so(n)){const e=n,r=t.bind(t.active(),n);r._orig=e,n=r}return null==e?void 0:e.call(this,n)}),Object.defineProperty(XMLHttpRequestEventTarget.prototype,e,n))}),uo(Window.prototype,"addEventListener",e=>function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];if("hashchange"===r[0]&&so(r[1])){const e=t._getListenersMap(this,r[0]);let n=null==e?void 0:e.get(r[1]);n||(n=t._getWrappedEventListener(r[1],()=>t._hashChangeContext),null==e||e.set(r[1],n)),r[1]=n}return e.apply(this,r)});const e=Object.getOwnPropertyDescriptor(window,"onhashchange");e&&(uo(e,"get",t=>function(){const e=null==t?void 0:t.call(this);return so(e)&&e._orig?e._orig:e}),uo(e,"set",e=>function(n){if(so(n)){const e=t._getWrappedEventListener(n,()=>t._hashChangeContext);e._orig=n,n=e}return null==e?void 0:e.call(this,n)}),Object.defineProperty(window,"onhashchange",e))}_patchMessageChannel(){const t=this;uo(window,"MessageChannel",e=>class extends e{constructor(...e){super(...e),t._messagePorts.set(this.port1,this.port2),t._messagePorts.set(this.port2,this.port1),Object.defineProperty(this.port1,Za,{value:null,writable:!0,enumerable:!1}),Object.defineProperty(this.port2,Za,{value:null,writable:!0,enumerable:!1})}}),uo(MessagePort.prototype,"postMessage",e=>function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];const i=t.active();if(!t._messagePorts.has(this)||!i)return e.apply(this,r);const a=t._messagePorts.get(this);a[Za]=i;const s=e.apply(this,r);return co(setTimeout)(()=>{a[Za]===i&&(a[Za]=null)},100),s}),uo(MessagePort.prototype,"addEventListener",e=>function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];if("message"===r[0]&&so(r[1])){const e=t._getListenersMap(this,r[0]);let n=null==e?void 0:e.get(r[1]);n||(n=t._getWrappedEventListener(r[1],()=>this[Za]),null==e||e.set(r[1],n)),r[1]=n}return e.apply(this,r)}),uo(MessagePort.prototype,"removeEventListener",e=>function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];if("message"===r[0]&&so(r[1])){const e=t._getListenersMap(this,r[0]),n=null==e?void 0:e.get(r[1]);n&&(r[1]=n)}return e.apply(this,r)});const e=Object.getOwnPropertyDescriptor(MessagePort.prototype,"onmessage");e&&(uo(e,"get",t=>function(){const e=null==t?void 0:t.call(this);return so(e)&&e._orig?e._orig:e}),uo(e,"set",e=>function(n){if(so(n)){const e=t._getWrappedEventListener(n,()=>this[Za]);e._orig=n,n=e}return null==e?void 0:e.call(this,n)}),Object.defineProperty(MessagePort.prototype,"onmessage",e))}_patchMutationObserver(){const t=this;uo(window,"MutationObserver",e=>class extends e{observe(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(n[0]&&n[0]instanceof Text&&!n[0].parentNode&&n[1]&&n[1].characterData){const e=this,r=n[0],o=Object.getOwnPropertyDescriptor(CharacterData.prototype,"data");Object.defineProperty(r,"data",{...o,enumerable:!1,set:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a;const s=t.active();return s&&(e[Za]=s),null==o||null===(a=o.set)||void 0===a?void 0:a.apply(this,r)}})}return super.observe(...n)}constructor(...e){if(so(e[0])){const n=e[0];e[0]=function(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return this[Za]&&t._enabled?t.with(this[Za],n,this,...r):n.apply(this,r)}}super(...e),Object.defineProperty(this,Za,{value:null,writable:!0,enumerable:!1})}})}_patchPromise(){if(!window.Promise)return;const t=this;uo(Promise.prototype,"then",e=>function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.bindActiveToArgument(r,0),t.bindActiveToArgument(r,1),e.apply(this,r)}),uo(Promise.prototype,"catch",e=>function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.bindActiveToArgument(r,0),e.apply(this,r)}),uo(Promise.prototype,"finally",e=>function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.bindActiveToArgument(r,0),e.apply(this,r)})}_patchTimeouts(){const t=this;uo(window,"setTimeout",e=>function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(!r[1]||r[1]<=34)&&t.bindActiveToArgument(r,0),e.apply(this,r)}),window.setImmediate&&uo(window,"setImmediate",e=>function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.bindActiveToArgument(r,0),e.apply(this,r)}),window.requestAnimationFrame&&uo(window,"requestAnimationFrame",e=>function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.bindActiveToArgument(r,0),e.apply(this,r)})}_unpatchEvents(){(0,at.unwrap)(XMLHttpRequest.prototype,"addEventListener"),(0,at.unwrap)(XMLHttpRequest.prototype,"removeEventListener")}_unpatchMessageChannel(){(0,at.unwrap)(window,"MessageChannel"),(0,at.unwrap)(MessagePort.prototype,"postMessage"),(0,at.unwrap)(MessagePort.prototype,"addEventListener"),(0,at.unwrap)(MessagePort.prototype,"removeEventListener");const t=Object.getOwnPropertyDescriptor(MessagePort.prototype,"onmessage");t&&((0,at.unwrap)(t,"get"),(0,at.unwrap)(t,"set"),Object.defineProperty(MessagePort.prototype,"onmessage",t))}_unpatchMutationObserver(){(0,at.unwrap)(window,"MutationObserver")}_unpatchPromise(){window.Promise&&((0,at.unwrap)(Promise.prototype,"then"),(0,at.unwrap)(Promise.prototype,"catch"),(0,at.unwrap)(Promise.prototype,"finally"))}_unpatchTimeouts(){(0,at.unwrap)(window,"setTimeout"),window.setImmediate&&(0,at.unwrap)(window,"setImmediate")}bindActiveToArgument(t,e){so(t[e])&&(t[e]=this.bind(this.active(),t[e]))}constructor(t={}){Wr(this,"_config",void 0),Wr(this,"_currentContext",void 0),Wr(this,"_contextResumingListeners",void 0),Wr(this,"_enabled",void 0),Wr(this,"_hashChangeContext",void 0),Wr(this,"_messagePorts",void 0),this._config=t,this._currentContext=H.l,this._contextResumingListeners=new WeakMap,this._enabled=!1,this._hashChangeContext=null,this._messagePorts=new WeakMap}}const Qa="cloud.provider",ts="cloud.account.id",es="cloud.region",ns="cloud.availability_zone",rs="cloud.platform",os="aws.ecs.container.arn",is="aws.ecs.cluster.arn",as="aws.ecs.launchtype",ss="aws.ecs.task.arn",us="aws.ecs.task.family",cs="aws.ecs.task.revision",ls="aws.eks.cluster.arn",ps="aws.log.group.names",ds="aws.log.group.arns",fs="aws.log.stream.names",hs="aws.log.stream.arns",_s="container.name",vs="container.id",Es="container.runtime",ms="container.image.name",Ts="container.image.tag",gs="deployment.environment",ys="device.id",Ss="device.model.identifier",bs="device.model.name",Os="faas.name",ws="faas.id",Rs="faas.version",Ls="faas.instance",As="faas.max_memory",Ps="host.id",Cs="host.name",Ns="host.type",Is="host.arch",Ms="host.image.name",xs="host.image.id",ks="host.image.version",Ds="k8s.cluster.name",Us="k8s.node.name",js="k8s.node.uid",Bs="k8s.namespace.name",Hs="k8s.pod.uid",Xs="k8s.pod.name",Vs="k8s.container.name",Fs="k8s.replicaset.uid",Gs="k8s.replicaset.name",zs="k8s.deployment.uid",Ks="k8s.deployment.name",qs="k8s.statefulset.uid",Ws="k8s.statefulset.name",Ys="k8s.daemonset.uid",$s="k8s.daemonset.name",Zs="k8s.job.uid",Js="k8s.job.name",Qs="k8s.cronjob.uid",tu="k8s.cronjob.name",eu="os.type",nu="os.description",ru="os.name",ou="os.version",iu="process.pid",au="process.executable.name",su="process.executable.path",uu="process.command",cu="process.command_line",lu="process.command_args",pu="process.owner",du="process.runtime.name",fu="process.runtime.version",hu="process.runtime.description",_u="service.name",vu="service.namespace",Eu="service.instance.id",mu="service.version",Tu="telemetry.sdk.name",gu="telemetry.sdk.language",yu="telemetry.sdk.version",Su="telemetry.auto.version",bu="webengine.name",Ou="webengine.version",wu="webengine.description",Ru=pt([Qa,ts,es,ns,rs,os,is,as,ss,us,cs,ls,ps,ds,fs,hs,_s,vs,Es,ms,Ts,gs,ys,Ss,bs,Os,ws,Rs,Ls,As,Ps,Cs,Ns,Is,Ms,xs,ks,Ds,Us,js,Bs,Hs,Xs,Vs,Fs,Gs,zs,Ks,qs,Ws,Ys,$s,Zs,Js,Qs,tu,eu,nu,ru,ou,iu,au,su,uu,cu,lu,pu,du,fu,hu,_u,vu,Eu,mu,Tu,gu,yu,Su,bu,Ou,wu]);var Lu=n(8241);const Au="_splunk_rum_user_anonymousId";let Pu;const Cu=t=>{let{useLocalStorage:e,domain:n}=t;if(Pu)return Pu;const r=e?Iu():Mu(n);return Pu=r,r},Nu=()=>{Pu=void 0},Iu=()=>{const t=Mo(Au);if(t)return t;const e=xu();return localStorage.setItem(Au,e),e},Mu=t=>{var e;const n=null===(e=document.cookie.split("; ").find(t=>t.startsWith(Au+"=")))||void 0===e?void 0:e.split("=")[1];if(n)return ku(n,t),n;const r=xu();return ku(r,t),r},xu=()=>oo(128),ku=(t,e)=>{const n=e?"domain=".concat(e,";"):"";document.cookie="".concat(Au,"=").concat(t,";max-age=").concat(3456e4,";path=/;").concat(n)};class Du{forceFlush(){return Promise.resolve()}getGlobalAttributes(){return this._globalAttributes}onEnd(){}onStart(t){const e=Jo({forceStore:!1,inactive:!1});t.setAttribute("location.href",location.href),t.setAttributes(this._globalAttributes),t.setAttribute("splunk.rumSessionId",e.id),"anonymousTracking"===this.getUserTracking()&&t.setAttribute("user.anonymous_id",Cu({useLocalStorage:this.useLocalStorageForSessionMetadata,domain:this.domain})),t.setAttribute("browser.instance.visibility_state",document.visibilityState)}setGlobalAttributes(t){if(t)Object.assign(this._globalAttributes,t);else for(const t of Object.keys(this._globalAttributes))delete this._globalAttributes[t]}shutdown(){return Nu(),Promise.resolve()}constructor(t,e,n,r){Wr(this,"useLocalStorageForSessionMetadata",void 0),Wr(this,"getUserTracking",void 0),Wr(this,"domain",void 0),Wr(this,"_globalAttributes",void 0),this.useLocalStorageForSessionMetadata=e,this.getUserTracking=n,this.domain=r,this._globalAttributes=null!=t?t:{}}}const Uu="messaging.socket.io.namespace",ju="messaging.socket.io.event_name";const Bu=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"];var Hu,Xu=n(4729);function Vu(t){return"string"!=typeof t||0===t.length?{}:t.split(",").map(function(t){return function(t){var e=t.split(";");if(!(e.length<=0)){var n=e.shift();if(n){var r=n.indexOf("=");if(!(r<=0)){var o,i=decodeURIComponent(n.substring(0,r).trim()),a=decodeURIComponent(n.substring(r+1).trim());return e.length>0&&(o=(0,Xu.B)(e.join(";"))),{key:i,value:a,metadata:o}}}}}(t)}).filter(function(t){return void 0!==t&&t.value.length>0}).reduce(function(t,e){return t[e.key]=e.value,t},{})}!function(t){t.AlwaysOff="always_off",t.AlwaysOn="always_on",t.ParentBasedAlwaysOff="parentbased_always_off",t.ParentBasedAlwaysOn="parentbased_always_on",t.ParentBasedTraceIdRatio="parentbased_traceidratio",t.TraceIdRatio="traceidratio"}(Hu||(Hu={}));var Fu=["OTEL_SDK_DISABLED"];function Gu(t){return Fu.indexOf(t)>-1}var zu=["OTEL_BSP_EXPORT_TIMEOUT","OTEL_BSP_MAX_EXPORT_BATCH_SIZE","OTEL_BSP_MAX_QUEUE_SIZE","OTEL_BSP_SCHEDULE_DELAY","OTEL_BLRP_EXPORT_TIMEOUT","OTEL_BLRP_MAX_EXPORT_BATCH_SIZE","OTEL_BLRP_MAX_QUEUE_SIZE","OTEL_BLRP_SCHEDULE_DELAY","OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT","OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_EVENT_COUNT_LIMIT","OTEL_SPAN_LINK_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT","OTEL_EXPORTER_OTLP_TIMEOUT","OTEL_EXPORTER_OTLP_TRACES_TIMEOUT","OTEL_EXPORTER_OTLP_METRICS_TIMEOUT","OTEL_EXPORTER_OTLP_LOGS_TIMEOUT","OTEL_EXPORTER_JAEGER_AGENT_PORT"];function Ku(t){return zu.indexOf(t)>-1}var qu=["OTEL_NO_PATCH_MODULES","OTEL_PROPAGATORS"];function Wu(t){return qu.indexOf(t)>-1}var Yu=1/0,$u={OTEL_SDK_DISABLED:!1,CONTAINER_NAME:"",ECS_CONTAINER_METADATA_URI_V4:"",ECS_CONTAINER_METADATA_URI:"",HOSTNAME:"",KUBERNETES_SERVICE_HOST:"",NAMESPACE:"",OTEL_BSP_EXPORT_TIMEOUT:3e4,OTEL_BSP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BSP_MAX_QUEUE_SIZE:2048,OTEL_BSP_SCHEDULE_DELAY:5e3,OTEL_BLRP_EXPORT_TIMEOUT:3e4,OTEL_BLRP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BLRP_MAX_QUEUE_SIZE:2048,OTEL_BLRP_SCHEDULE_DELAY:5e3,OTEL_EXPORTER_JAEGER_AGENT_HOST:"",OTEL_EXPORTER_JAEGER_AGENT_PORT:6832,OTEL_EXPORTER_JAEGER_ENDPOINT:"",OTEL_EXPORTER_JAEGER_PASSWORD:"",OTEL_EXPORTER_JAEGER_USER:"",OTEL_EXPORTER_OTLP_ENDPOINT:"",OTEL_EXPORTER_OTLP_TRACES_ENDPOINT:"",OTEL_EXPORTER_OTLP_METRICS_ENDPOINT:"",OTEL_EXPORTER_OTLP_LOGS_ENDPOINT:"",OTEL_EXPORTER_OTLP_HEADERS:"",OTEL_EXPORTER_OTLP_TRACES_HEADERS:"",OTEL_EXPORTER_OTLP_METRICS_HEADERS:"",OTEL_EXPORTER_OTLP_LOGS_HEADERS:"",OTEL_EXPORTER_OTLP_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_TRACES_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_METRICS_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_LOGS_TIMEOUT:1e4,OTEL_EXPORTER_ZIPKIN_ENDPOINT:"http://localhost:9411/api/v2/spans",OTEL_LOG_LEVEL:j.u.INFO,OTEL_NO_PATCH_MODULES:[],OTEL_PROPAGATORS:["tracecontext","baggage"],OTEL_RESOURCE_ATTRIBUTES:"",OTEL_SERVICE_NAME:"",OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT:Yu,OTEL_ATTRIBUTE_COUNT_LIMIT:128,OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT:Yu,OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT:128,OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT:Yu,OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT:128,OTEL_SPAN_EVENT_COUNT_LIMIT:128,OTEL_SPAN_LINK_COUNT_LIMIT:128,OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT:128,OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT:128,OTEL_TRACES_EXPORTER:"",OTEL_TRACES_SAMPLER:Hu.ParentBasedAlwaysOn,OTEL_TRACES_SAMPLER_ARG:"",OTEL_LOGS_EXPORTER:"",OTEL_EXPORTER_OTLP_INSECURE:"",OTEL_EXPORTER_OTLP_TRACES_INSECURE:"",OTEL_EXPORTER_OTLP_METRICS_INSECURE:"",OTEL_EXPORTER_OTLP_LOGS_INSECURE:"",OTEL_EXPORTER_OTLP_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_LOGS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_COMPRESSION:"",OTEL_EXPORTER_OTLP_TRACES_COMPRESSION:"",OTEL_EXPORTER_OTLP_METRICS_COMPRESSION:"",OTEL_EXPORTER_OTLP_LOGS_COMPRESSION:"",OTEL_EXPORTER_OTLP_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_LOGS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_LOGS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_TRACES_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_LOGS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_TEMPORALITY_PREFERENCE:"cumulative"};function Zu(t,e,n){if(void 0!==n[t]){var r=String(n[t]);e[t]="true"===r.toLowerCase()}}function Ju(t,e,n,r,o){if(void 0===r&&(r=-1/0),void 0===o&&(o=1/0),void 0!==n[t]){var i=Number(n[t]);isNaN(i)||(e[t]=i<r?r:i>o?o:i)}}function Qu(t,e,n,r){void 0===r&&(r=",");var o=n[t];"string"==typeof o&&(e[t]=o.split(r).map(function(t){return t.trim()}))}var tc={ALL:j.u.ALL,VERBOSE:j.u.VERBOSE,DEBUG:j.u.DEBUG,INFO:j.u.INFO,WARN:j.u.WARN,ERROR:j.u.ERROR,NONE:j.u.NONE};function ec(t,e,n){var r=n[t];if("string"==typeof r){var o=tc[r.toUpperCase()];null!=o&&(e[t]=o)}}function nc(){var t=function(t){var e={};for(var n in $u){var r=n;if("OTEL_LOG_LEVEL"===r)ec(r,e,t);else if(Gu(r))Zu(r,e,t);else if(Ku(r))Ju(r,e,t);else if(Wu(r))Qu(r,e,t);else{var o=t[r];null!=o&&(e[r]=String(o))}}return e}(Gr);return Object.assign({},$u,t)}var rc=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},oc=1e4;function ic(t){return"number"==typeof t?t<=0?ac(t,1e4):t:function(){var t,e=Number(null!==(t=nc().OTEL_EXPORTER_OTLP_TRACES_TIMEOUT)&&void 0!==t?t:nc().OTEL_EXPORTER_OTLP_TIMEOUT);return e<=0?ac(e,oc):e}()}function ac(t,e){return f.s.warn("Timeout must be greater than 0",t),e}var sc,uc=function(){function t(){var t=this;this._promise=new Promise(function(e,n){t._resolve=e,t._reject=n})}return Object.defineProperty(t.prototype,"promise",{get:function(){return this._promise},enumerable:!1,configurable:!0}),t.prototype.resolve=function(t){this._resolve(t)},t.prototype.reject=function(t){this._reject(t)},t}(),cc=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},lc=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},pc=function(){function t(t,e){this._callback=t,this._that=e,this._isCalled=!1,this._deferred=new uc}return Object.defineProperty(t.prototype,"isCalled",{get:function(){return this._isCalled},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"promise",{get:function(){return this._deferred.promise},enumerable:!1,configurable:!0}),t.prototype.call=function(){for(var t,e=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(!this._isCalled){this._isCalled=!0;try{Promise.resolve((t=this._callback).call.apply(t,lc([this._that],cc(n),!1))).then(function(t){return e._deferred.resolve(t)},function(t){return e._deferred.reject(t)})}catch(t){this._deferred.reject(t)}}return this._deferred.promise},t}();!function(t){t[t.SUCCESS=0]="SUCCESS",t[t.FAILED=1]="FAILED"}(sc||(sc={}));var dc=function(){function t(t){void 0===t&&(t={}),this._sendingPromises=[],this.url=this.getDefaultUrl(t),"string"==typeof t.hostname&&(this.hostname=t.hostname),this.shutdown=this.shutdown.bind(this),this._shutdownOnce=new pc(this._shutdown,this),this._concurrencyLimit="number"==typeof t.concurrencyLimit?t.concurrencyLimit:30,this.timeoutMillis=ic(t.timeoutMillis),this.onInit(t)}return t.prototype.export=function(t,e){this._shutdownOnce.isCalled?e({code:sc.FAILED,error:new Error("Exporter has been shutdown")}):this._sendingPromises.length>=this._concurrencyLimit?e({code:sc.FAILED,error:new Error("Concurrent export limit reached")}):this._export(t).then(function(){e({code:sc.SUCCESS})}).catch(function(t){e({code:sc.FAILED,error:t})})},t.prototype._export=function(t){var e=this;return new Promise(function(n,r){try{f.s.debug("items to be sent",t),e.send(t,n,r)}catch(t){r(t)}})},t.prototype.shutdown=function(){return this._shutdownOnce.call()},t.prototype.forceFlush=function(){return Promise.all(this._sendingPromises).then(function(){})},t.prototype._shutdown=function(){return f.s.debug("shutdown started"),this.onShutdown(),this.forceFlush()},t}(),fc=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),hc=function(t){function e(e,n,r){var o=t.call(this,e)||this;return o.name="OTLPExporterError",o.data=r,o.code=n,o}return fc(e,t),e}(Error),_c=function(){return _c=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},_c.apply(this,arguments)},vc=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};function Ec(t,e,n,r,o,i){var a,s,u=!1,c=setTimeout(function(){if(clearTimeout(a),u=!0,s.readyState===XMLHttpRequest.DONE){var t=new hc("Request Timeout");i(t)}else s.abort()},r),l=function(r,p){void 0===r&&(r=5),void 0===p&&(p=1e3),(s=new XMLHttpRequest).open("POST",e);Object.entries(_c(_c({},{Accept:"application/json","Content-Type":"application/json"}),n)).forEach(function(t){var e=vc(t,2),n=e[0],r=e[1];s.setRequestHeader(n,r)}),s.send(t),s.onreadystatechange=function(){if(s.readyState===XMLHttpRequest.DONE&&!1===u)if(s.status>=200&&s.status<=299)f.s.debug("xhr success",t),o(),clearTimeout(c),clearTimeout(a);else if(s.status&&(d=s.status,[429,502,503,504].includes(d))&&r>0){var e=void 0;p*=1.5,e=s.getResponseHeader("Retry-After")?function(t){if(null==t)return-1;var e=Number.parseInt(t,10);if(Number.isInteger(e))return e>0?1e3*e:-1;var n=new Date(t).getTime()-Date.now();return n>=0?n:0}(s.getResponseHeader("Retry-After")):Math.round(Math.random()*(5e3-p)+p),a=setTimeout(function(){l(r-1,p)},e)}else{var n=new hc("Failed to export with XHR (status: "+s.status+")",s.status);i(n),clearTimeout(c),clearTimeout(a)}var d},s.onabort=function(){if(u){var t=new hc("Request Timeout");i(t)}clearTimeout(c),clearTimeout(a)},s.onerror=function(){if(u){var t=new hc("Request Timeout");i(t)}clearTimeout(c),clearTimeout(a)}};l()}var mc=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Tc=function(){return Tc=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Tc.apply(this,arguments)},gc=function(t){function e(e,n,r){void 0===e&&(e={});var o=t.call(this,e)||this;return o._useXHR=!1,o._serializer=n,o._contentType=r,o._useXHR=!!e.headers||"function"!=typeof navigator.sendBeacon,o._useXHR?o._headers=Object.assign({},function(t){void 0===t&&(t={});var e={};return Object.entries(t).forEach(function(t){var n=rc(t,2),r=n[0],o=n[1];void 0!==o?e[r]=String(o):f.s.warn('Header "'+r+'" has invalid value ('+o+") and will be ignored")}),e}(e.headers),Vu(nc().OTEL_EXPORTER_OTLP_HEADERS)):o._headers={},o}return mc(e,t),e.prototype.onInit=function(){},e.prototype.onShutdown=function(){},e.prototype.send=function(t,e,n){var r,o=this;if(this._shutdownOnce.isCalled)f.s.debug("Shutdown already started. Cannot send objects");else{var i=null!==(r=this._serializer.serializeRequest(t))&&void 0!==r?r:new Uint8Array,a=new Promise(function(t,e){o._useXHR?Ec(i,o.url,Tc(Tc({},o._headers),{"Content-Type":o._contentType}),o.timeoutMillis,t,e):function(t,e,n,r,o){navigator.sendBeacon(e,new Blob([t],n))?(f.s.debug("sendBeacon - can send",t),r()):o(new hc("sendBeacon - cannot send "+t))}(i,o.url,{type:o._contentType},t,e)}).then(e,n);this._sendingPromises.push(a);var s=function(){var t=o._sendingPromises.indexOf(a);o._sendingPromises.splice(t,1)};a.then(s,s)}},e}(dc),yc=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};function Sc(t){return{name:t.name,version:t.version}}function bc(t){return Object.keys(t).map(function(e){return Oc(e,t[e])})}function Oc(t,e){return{key:t,value:wc(e)}}function wc(t){var e=typeof t;return"string"===e?{stringValue:t}:"number"===e?Number.isInteger(t)?{intValue:t}:{doubleValue:t}:"boolean"===e?{boolValue:t}:t instanceof Uint8Array?{bytesValue:t}:Array.isArray(t)?{arrayValue:{values:t.map(wc)}}:"object"===e&&null!=t?{kvlistValue:{values:Object.entries(t).map(function(t){var e=yc(t,2);return Oc(e[0],e[1])})}}:{}}function Rc(t,e){var n,r=t.spanContext(),o=t.status;return{traceId:e.encodeSpanContext(r.traceId),spanId:e.encodeSpanContext(r.spanId),parentSpanId:e.encodeOptionalSpanContext(t.parentSpanId),traceState:null===(n=r.traceState)||void 0===n?void 0:n.serialize(),name:t.name,kind:null==t.kind?0:t.kind+1,startTimeUnixNano:e.encodeHrTime(t.startTime),endTimeUnixNano:e.encodeHrTime(t.endTime),attributes:bc(t.attributes),droppedAttributesCount:t.droppedAttributesCount,events:t.events.map(function(t){return function(t,e){return{attributes:t.attributes?bc(t.attributes):[],name:t.name,timeUnixNano:e.encodeHrTime(t.time),droppedAttributesCount:t.droppedAttributesCount||0}}(t,e)}),droppedEventsCount:t.droppedEventsCount,status:{code:o.code,message:o.message},links:t.links.map(function(t){return function(t,e){var n;return{attributes:t.attributes?bc(t.attributes):[],spanId:e.encodeSpanContext(t.context.spanId),traceId:e.encodeSpanContext(t.context.traceId),traceState:null===(n=t.context.traceState)||void 0===n?void 0:n.serialize(),droppedAttributesCount:t.droppedAttributesCount||0}}(t,e)}),droppedLinksCount:t.droppedLinksCount}}function Lc(t){return t>=48&&t<=57?t-48:t>=97&&t<=102?t-87:t-55}function Ac(t){for(var e=new Uint8Array(t.length/2),n=0,r=0;r<t.length;r+=2){var o=Lc(t.charCodeAt(r)),i=Lc(t.charCodeAt(r+1));e[n++]=o<<4|i}return e}function Pc(t){var e=BigInt(1e9);return BigInt(t[0])*e+BigInt(t[1])}function Cc(t){var e,n=Pc(t);return e=n,{low:Number(BigInt.asUintN(32,e)),high:Number(BigInt.asUintN(32,e>>BigInt(32)))}}var Nc="undefined"!=typeof BigInt?function(t){return Pc(t).toString()}:cr;function Ic(t){return t}function Mc(t){if(void 0!==t)return Ac(t)}var xc={encodeHrTime:Cc,encodeSpanContext:Ac,encodeOptionalSpanContext:Mc};function kc(t){var e,n;if(void 0===t)return xc;var r=null===(e=t.useLongBits)||void 0===e||e,o=null!==(n=t.useHex)&&void 0!==n&&n;return{encodeHrTime:r?Cc:Nc,encodeSpanContext:o?Ic:Ac,encodeOptionalSpanContext:o?Ic:Mc}}function Dc(t){return{attributes:bc(t.attributes),droppedAttributesCount:0}}var Uc=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},jc=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};function Bc(t,e){for(var n=function(t){var e,n,r=new Map;try{for(var o=Uc(t),i=o.next();!i.done;i=o.next()){var a=i.value,s=r.get(a.resource);s||(s=new Map,r.set(a.resource,s));var u=a.instrumentationLibrary.name+"@"+(a.instrumentationLibrary.version||"")+":"+(a.instrumentationLibrary.schemaUrl||""),c=s.get(u);c||(c=[],s.set(u,c)),c.push(a)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return r}(t),r=[],o=n.entries(),i=o.next();!i.done;){for(var a=jc(i.value,2),s=a[0],u=[],c=a[1].values(),l=c.next();!l.done;){var p=l.value;if(p.length>0){var d=p.map(function(t){return Rc(t,e)});u.push({scope:Sc(p[0].instrumentationLibrary),spans:d,schemaUrl:p[0].instrumentationLibrary.schemaUrl})}l=c.next()}var f={resource:Dc(s),scopeSpans:u,schemaUrl:void 0};r.push(f),i=o.next()}return r}var Hc,Xc;n(4325);!function(t){t[t.HISTOGRAM=0]="HISTOGRAM",t[t.EXPONENTIAL_HISTOGRAM=1]="EXPONENTIAL_HISTOGRAM",t[t.GAUGE=2]="GAUGE",t[t.SUM=3]="SUM"}(Hc||(Hc={})),function(t){t[t.DELTA=0]="DELTA",t[t.CUMULATIVE=1]="CUMULATIVE"}(Xc||(Xc={}));var Vc={serializeRequest:function(t){var e={resourceSpans:Bc(t,kc({useHex:!0,useLongBits:!1}))};return(new TextEncoder).encode(JSON.stringify(e))},deserializeResponse:function(t){var e=new TextDecoder;return JSON.parse(e.decode(t))}},Fc=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Gc="v1/traces",zc="http://localhost:4318/"+Gc,Kc=function(t){function e(e){void 0===e&&(e={});var n=t.call(this,e,Vc,"application/json")||this;return n._headers=Object.assign(n._headers,Vu(nc().OTEL_EXPORTER_OTLP_TRACES_HEADERS)),n}return Fc(e,t),e.prototype.getDefaultUrl=function(t){return"string"==typeof t.url?t.url:nc().OTEL_EXPORTER_OTLP_TRACES_ENDPOINT.length>0?function(t){try{var e=new URL(t);return""===e.pathname&&(e.pathname=e.pathname+"/"),e.toString()}catch(e){return f.s.warn("Could not parse export URL: '"+t+"'"),t}}(nc().OTEL_EXPORTER_OTLP_TRACES_ENDPOINT):nc().OTEL_EXPORTER_OTLP_ENDPOINT.length>0?(e=nc().OTEL_EXPORTER_OTLP_ENDPOINT,n=Gc,e.endsWith("/")||(e+="/"),e+n):zc;var e,n},e}(gc);class qc extends Kc{send(t,e){if(this._shutdownOnce.isCalled)return void f.s.debug("Shutdown already started. Cannot send objects");var n;t=t.map(t=>(t.attributes=this._onAttributesSerializing?this._onAttributesSerializing(t.attributes,t):t.attributes,t));const r=null!==(n=this._serializer.serializeRequest(t))&&void 0!==n?n:new Uint8Array;document.hidden&&this._beaconSender&&r.length<=64e3?this._beaconSender(this.url,r,{type:"application/json"}):this._xhrSender&&this._xhrSender(this.url,r,{Accept:"application/json","Content-Type":"application/json",...this.headers}),e()}constructor(t){super(t),Wr(this,"_beaconSender",fo),Wr(this,"_onAttributesSerializing",void 0),Wr(this,"_xhrSender",po),this._onAttributesSerializing=t.onAttributesSerializing||lo}}const Wc="browser_instance_id";class Yc{static get id(){if(null!==this._id)return this._id;let t=(t=>{try{return window.sessionStorage.getItem(t)}catch{return}})(Wc);return t?this._id=t:null===t?(t=oo(64),this._id=t,((t,e)=>{try{return window.sessionStorage.setItem(t,e),!0}catch{return!1}})(Wc,t)):this._id=void 0,this._id}}Wr(Yc,"_id",null);class $c{shouldSample(t,e,n,r,o,i){return $o(),this.options.decider.shouldSample(t,e,n,r,o,i)}toString(){return"SplunkSampler{decider=".concat(this.options.decider.toString(),"}")}constructor(t){Wr(this,"options",void 0),this.options=t}}const Zc={disableBots:!1,disableAutomationFrameworks:!1,applicationName:"unknown-browser-app",beaconEndpoint:void 0,bufferTimeout:4e3,bufferSize:50,instrumentations:{},exporter:{factory:t=>t.otlp?new qc(t):new _o(t)},persistence:"cookie",spanProcessor:{factory:(t,e)=>new O(t,e)},rumAccessToken:void 0};function Jc(t,e,n){!(e in t)||n in t&&t[n]!==Zc[n]||(t[n]=t[e])}const Qc=[{Instrument:class extends zn{constructor(t={}){super(t);const e=this,n=e._endSpan.bind(this);e._onDocumentLoaded=t=>{t&&!t.isTrusted||window.setTimeout(()=>{e._collectPerformance()})},e._endSpan=(t,e,r)=>{const o=t;if(t&&t.setAttribute("component",this.component),t&&o.name!==it.DOCUMENT_LOAD){if(o.name===it.DOCUMENT_FETCH&&performance.getEntriesByType){var i;const e=performance.getEntriesByType("navigation");!r.serverTiming&&(null===(i=e[0])||void 0===i?void 0:i.serverTiming)&&(r.serverTiming=e[0].serverTiming),e[0]&&"number"==typeof e[0].responseStatus&&e[0].responseStatus>0&&t.setAttribute(kn.HTTP_STATUS_CODE,e[0].responseStatus)}!function(t,e){if(t.serverTiming)for(const n of t.serverTiming)"traceparent"===n.name&&n.description&&Kn(n.description.match(Yn),e)}(r,t),t.setAttribute(kn.HTTP_METHOD,"GET")}return t&&o.name===it.DOCUMENT_LOAD&&function(t){document.referrer&&""!==document.referrer&&t.setAttribute("document.referrer",document.referrer),window.screen&&t.setAttribute("screen.xy",window.screen.width+"x"+window.screen.height)}(t),n(t,e,r)},e._initResourceSpan=(n,r)=>{if(-1!==Zn.indexOf(n.initiatorType)||(0,$n.K)(n.name,t.ignoreUrls))return;const o=e._startSpan(it.RESOURCE_FETCH,w.FETCH_START,n,r);var i;o&&(o.setAttribute(Mn,n.name),e.getConfig().ignoreNetworkEvents||(et(o,n),"number"==typeof n.responseStatus&&n.responseStatus>0&&o.setAttribute(kn.HTTP_STATUS_CODE,n.responseStatus)),e._addCustomAttributesOnResourceSpan(o,n,null===(i=e.getConfig().applyCustomAttributesOnSpan)||void 0===i?void 0:i.resourceFetch),e._endSpan(o,w.RESPONSE_END,n))}}},confKey:"document",disable:!1},{Instrument:class extends Xr{constructor(t={}){super(t);const e=this._createSpan.bind(this);this._createSpan=(t,n,r)=>{const o=e(t,n,r);return o&&(t.addEventListener("readystatechange",function(){if(t.readyState===t.HEADERS_RECEIVED){if(-1!==t.getAllResponseHeaders().toLowerCase().indexOf("server-timing")){const e=t.getResponseHeader("server-timing");null!==e&&Wn(e,o)}}}),o.setAttribute("component",this.moduleName),o.updateName("HTTP ".concat(r.toUpperCase()))),o};const n=this._addResourceObserver.bind(this);this._addResourceObserver=(t,e)=>{"function"==typeof PerformanceObserver&&"function"==typeof PerformanceResourceTiming&&n(t,e)}}},confKey:"xhr",disable:!1},{Instrument:class extends Qr{_patchHistoryMethod(){const t=this;return e=>function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];const i=location.href,a=e.apply(this,r);return i!==location.href&&t._emitRouteChangeSpan(i),a}}disable(){super.disable(),this.__hashChangeHandler&&window.removeEventListener("hashchange",this.__hashChangeHandler)}enable(){this.__hashChangeHandler=t=>{this._emitRouteChangeSpan(t.oldURL)},window.addEventListener("hashchange",this.__hashChangeHandler),super.enable()}getZoneWithPrototype(){}setTracerProvider(t){super.setTracerProvider(t),this._routingTracer=t.getTracer(no,"1")}_emitRouteChangeSpan(t){const e=this.getConfig();if((0,$n.K)(location.href,e.ignoreUrls))return;const n=Date.now(),r=this._routingTracer.startSpan("routeChange",{startTime:n});r.setAttribute("component",this.moduleName),r.setAttribute("prev.href",t),r.end(n)}constructor(e={}){if(!e.eventNames){const t=Object.assign({},to,e.events),n=Object.entries(t).filter(t=>{let[,e]=t;return e}).map(t=>{let[e]=t;return e});e.eventNames=n}super(e),Wr(this,"__hashChangeHandler",void 0),Wr(this,"_routingTracer",void 0),this._routingTracer=t.u.getTracer(no,"1");const n=this._createSpan.bind(this);this._createSpan=(t,e,r)=>{t===document&&(t=document.documentElement);const o=n(t,e,r);return o&&o.setAttribute("component",this.moduleName),o};const r=this._patchAddEventListener.bind(this);this._patchAddEventListener=()=>{const t=r();return e=>{const n=t(e);return function(t,r,o){return function(t){return t&&("function"==typeof t||"object"==typeof t&&"function"==typeof t.handleEvent)}(r)?(null===o&&(o=void 0),n.call(this,t,r,o)):e.call(this,t,r,o)}}}}},confKey:"interactions",disable:!1},{Instrument:aa,confKey:"postload",disable:!1},{Instrument:class extends qr{enable(){window.fetch&&super.enable()}constructor(t={}){const e=t.applyCustomAttributesOnSpan;t.applyCustomAttributesOnSpan=function(t,n,r){if(t.updateName("HTTP ".concat((n.method||"GET").toUpperCase())),t.setAttribute("component","fetch"),t&&r instanceof Response&&r.headers){const e=r.headers.get("Server-Timing");e&&Wn(e,t)}e&&e(t,n,r)},super(t);const n=this._addHeaders.bind(this);this._addHeaders=(t,e)=>{try{t.headers&&Array.isArray(t.headers)&&(t.headers=new Headers(t.headers))}catch(t){f.s.error("Error fixing headers",t)}return n(t,e)}}},confKey:"fetch",disable:!1},{Instrument:class extends lt{disable(){at.unwrap(window,"WebSocket")}enable(){const t=this;at.wrap(window,"WebSocket",function(){class e extends WebSocket{constructor(e,n){const r="string"==typeof e?e:e.toString();if((0,$n.K)(r,t._config.ignoreUrls))return void super(e,n);const o=t.tracer.startSpan("connect",{kind:Jn.v.CLIENT,attributes:{component:"websocket"}});e&&o.setAttribute("http.url",r),n&&("string"==typeof n?o.setAttribute("protocols",n):o.setAttribute("protocols",JSON.stringify(n)));try{super(e,n)}catch(e){throw ni(e)&&t.endSpanExceptionally(o,e),e}this.addEventListener("open",function(){o.end()}),this.addEventListener("error",function(e){if(o.isRecording()){let n="Could not connect.";"error"in e&&"string"==typeof e.error&&e.error?n=e.error:"message"in e&&"string"==typeof e.message&&e.message&&(n=e.message),t.endSpanExceptionally(o,new Error(n))}else t.startSpan(this,"error",Jn.v.CLIENT).end()}),t.patchSend(this),t.patchEventListener(this)}}return e})}init(){}addPatchedListener(t,e,n){let r=this.listener2ws2patched.get(e);return r||(r=new Map,this.listener2ws2patched.set(e,r)),!r.has(t)&&(r.set(t,n),!0)}endSpanExceptionally(t,e){t.setAttribute("error",!0),t.setAttribute("error.message",e.message),t.setAttribute("error.object",e.name?e.name:e.constructor&&e.constructor.name?e.constructor.name:"Error"),t.end()}patchEventListener(e){const n=this,r=e.addEventListener.bind(e);e.addEventListener=function(o,i,a){if("message"!==o)return void r(o,i,a);const s="boolean"==typeof a||null==a?void 0:a.once,u=function(){for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];const u=this,c=o;s&&n.removePatchedListener(e,i);const l=n.startSpan(e,"onmessage",Jn.v.CONSUMER);if(c&&c[0]&&"data"in c[0]){const t=c[0].data;if(ri(t)){const e=oi(t);void 0!==e&&l.setAttribute("http.response_content_length",e)}}_._.with(t.u.setSpan(_._.active(),l),()=>{let t;return t="function"==typeof i?i.apply(u,c):i.handleEvent(o[0]),l.end(),t})};n.addPatchedListener(e,i,u)&&r.apply(e,[o,u,a])};const o=e.removeEventListener;e.removeEventListener=function(t,r,i){if("message"!==t)return o.call(e,t,r,i);const a=n.removePatchedListener(e,r);return a?o.call(e,t,a,i):o.call(e,t,r,i)}}patchSend(t){const e=this,n=t.send;t.send=function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];const a=e.startSpan(t,"send",Jn.v.PRODUCER);if(o.length>0&&ri(o[0])){const t=oi(o[0]);t&&a.setAttribute("http.request_content_length",t)}let s;try{s=n.apply(t,o)}catch(t){throw ni(t)&&e.endSpanExceptionally(a,t),t}return!1===s&&e.endSpanExceptionally(a,new Error("Failed to send frame.")),a.end(),s}}removePatchedListener(t,e){const n=this.listener2ws2patched.get(e);if(!n)return;const r=n.get(t);return r&&(n.delete(t),0===n.size&&this.listener2ws2patched.delete(t)),r}startSpan(t,e,n){const r=this.tracer.startSpan(e,{kind:n});return r.setAttribute("component","websocket"),r.setAttribute("protocol",t.protocol),r.setAttribute("http.url",t.url),r}constructor(t){super("splunk-websocket",Do,t),Wr(this,"listener2ws2patched",new WeakMap),this._config=t}},confKey:"websocket",disable:!0},{Instrument:na,confKey:"longtask",disable:!1},{Instrument:Lo,confKey:wo,disable:!1},{Instrument:class extends lt{disable(){window.removeEventListener("beforeunload",this.unloadListener),window.removeEventListener("visibilitychange",this.visibilityListener)}enable(){document.hidden&&this._createSpan(document.hidden),this.unloadListener=()=>{this.unloading=!0},this.visibilityListener=()=>{this.unloading||this._createSpan(document.hidden)},window.addEventListener("beforeunload",this.unloadListener),window.addEventListener("visibilitychange",this.visibilityListener)}init(){}_createSpan(t){const e=Date.now(),n=this.tracer.startSpan("visibility",{startTime:e});n.setAttribute("hidden",t),n.end(e)}constructor(t={}){super("splunk-visibility",Do,Object.assign({},t)),Wr(this,"unloadListener",void 0),Wr(this,"unloading",void 0),Wr(this,"visibilityListener",void 0),this.unloading=!1}},confKey:"visibility",disable:!0},{Instrument:class extends lt{disable(){window.removeEventListener("offline",this.offlineListener),window.removeEventListener("online",this.onlineListener)}enable(){this.offlineListener=()=>{this.offlineStart=Date.now()},this.onlineListener=()=>{this.offlineStart&&(this._createSpan(!1,this.offlineStart),this._createSpan(!0,Date.now()))},window.addEventListener("offline",this.offlineListener),window.addEventListener("online",this.onlineListener)}init(){}_createSpan(t,e){const n=this.tracer.startSpan("connectivity",{startTime:e});n.setAttribute("online",t),n.end(e)}constructor(t={}){super("splunk-connectivity",Do,Object.assign({},t)),Wr(this,"offlineListener",void 0),Wr(this,"offlineStart",void 0),Wr(this,"onlineListener",void 0),this.offlineStart=navigator.onLine?null:Date.now()}},confKey:"connectivity",disable:!0},{Instrument:class extends lt{disable(){this._onDisable&&(this._onDisable(),this._onDisable=void 0)}enable(){const t=this.getConfig();t.target&&("string"==typeof t.target?this._onDisable=function(t,e){const n=window;if(n[t])return e(n[t]),()=>{};const r=n[t];let o=!1;return Object.defineProperty(window,t,{get:()=>r,set(r){delete n[t],o=!0,n[t]=r,e(r)},configurable:!0,enumerable:!1}),()=>{o||n[t]!==r||(delete window[t],void 0!==r&&(n[t]=r))}}(t.target,t=>this.patchSocketIo(t)):this.patchSocketIo(t.target))}getConfig(){return this._config}init(){}patchSocketIo(e){if(!function(t){return"function"==typeof t&&"function"==typeof t.Socket}(e))return void this._diag.debug("Doesn't seem like socket.io-client",e);const n=this;this._wrap(e.Socket.prototype,"emit",e=>function(r){for(var o=arguments.length,i=new Array(o>1?o-1:0),a=1;a<o;a++)i[a-1]=arguments[a];const s=n.tracer.startSpan("".concat(r," send"),{kind:Jn.v.PRODUCER,attributes:{[kn.MESSAGING_SYSTEM]:"socket.io",[kn.MESSAGING_DESTINATION]:this.nsp,[kn.MESSAGING_DESTINATION_KIND]:jn.TOPIC,[Uu]:this.nsp,[ju]:r}});try{return _._.with(t.u.setSpan(_._.active(),s),()=>e.apply(this,[r,...i]))}catch(t){let e;throw t instanceof Error&&(s.recordException(t),e=t.message),s.setStatus({code:ga.s.ERROR,message:e}),t}finally{s.end()}}),this._wrap(e.Socket.prototype,"on",t=>function(e,r){if(Bu.includes(e)||"function"!=typeof r)return t.call(this,e,r);let o=n.listeners.get(r);return o||(o=function(){for(var t=arguments.length,o=new Array(t),i=0;i<t;i++)o[i]=arguments[i];const a=n.tracer.startSpan("".concat(e," ").concat(Xn.RECEIVE),{kind:Jn.v.CONSUMER,attributes:{[kn.MESSAGING_SYSTEM]:"socket.io",[kn.MESSAGING_DESTINATION]:this.nsp,[kn.MESSAGING_DESTINATION_KIND]:jn.TOPIC,[kn.MESSAGING_OPERATION]:Xn.RECEIVE,[Uu]:this.nsp,[ju]:e}});try{r.apply(this,o)}catch(t){throw t instanceof Error&&a.recordException(t),t}finally{a.end()}},n.listeners.set(r,o)),t.call(this,e,o)}),e.Socket.prototype.addEventListener=e.Socket.prototype.on,this._wrap(e.Socket.prototype,"off",t=>function(e,r){return!e||Bu.includes(e)||"function"!=typeof r?t.call(this,e,r):n.listeners.has(r)?t.call(this,e,n.listeners.get(r)):t.call(this,e,r)}),e.Socket.prototype.removeListener=e.Socket.prototype.off,e.Socket.prototype.removeEventListener=e.Socket.prototype.off,e.Socket.prototype.removeAllListeners=e.Socket.prototype.off,this._onDisable=()=>{this._unwrap(e.Socket.prototype,"emit"),this._unwrap(e.Socket.prototype,"on"),e.Socket.prototype.addEventListener=e.Socket.prototype.on,this._unwrap(e.Socket.prototype,"off"),e.Socket.prototype.removeListener=e.Socket.prototype.off,e.Socket.prototype.removeEventListener=e.Socket.prototype.off,e.Socket.prototype.removeAllListeners=e.Socket.prototype.off}}constructor(t={}){super("splunk-socket.io-client",Do,Object.assign({target:"io"},t)),Wr(this,"_onDisable",void 0),Wr(this,"listeners",new WeakMap)}},confKey:"socketio",disable:!0}];Qc.map(t=>t.confKey).reduce((t,e)=>(t[e]=!1,t),{webvitals:!1});class tl{forceFlush(){return Promise.resolve()}onEnd(){}onStart(){Jo({forceStore:!1,hadActivity:!0})}shutdown(){return Promise.resolve()}}let el,nl,rl,ol,il,al=!1,sl="noTracking";const ul={DEFAULT_AUTO_INSTRUMENTED_EVENTS:to,DEFAULT_AUTO_INSTRUMENTED_EVENT_NAMES:eo,AlwaysOnSampler:R,AlwaysOffSampler:L,ParentBasedSampler:P,SessionBasedSampler:class{shouldSample(t,e,n,r,o,i){const a=$o().id;this.currentSessionId!==a&&(this.currentSessionSampled=this._accumulate(a)<this.upperBound,this.currentSessionId=a);return(this.currentSessionSampled?this.sampled:this.notSampled).shouldSample(t,e,n,r,o,i)}toString(){return"SessionBased{ratio=".concat(this.ratio,", sampled=").concat(this.sampled.toString(),", notSampled=").concat(this.notSampled.toString(),"}")}_accumulate(t){let e=0;for(let n=0;n<t.length/8;n++){const r=8*n;e=(e^parseInt(t.slice(r,r+8),16))>>>0}return e}_normalize(t){return"number"!=typeof t||isNaN(t)?0:t>=1?1:t<=0?0:t}constructor({ratio:t=1,sampled:e=new R,notSampled:n=new L}={}){Wr(this,"currentSessionId",void 0),Wr(this,"currentSessionSampled",void 0),Wr(this,"notSampled",void 0),Wr(this,"ratio",void 0),Wr(this,"sampled",void 0),Wr(this,"upperBound",void 0),this.ratio=this._normalize(t),this.upperBound=Math.floor(4294967295*this.ratio),this.sampled=e,this.notSampled=n}},get userTrackingMode(){return sl},_processedOptions:null,get inited(){return al},_internalInit:function(t){ul.init({...Zc,...t})},init:function(n){var r,o,i;if(sl=null!==(i=null===(r=n.user)||void 0===r?void 0:r.trackingMode)&&void 0!==i?i:"noTracking","object"!=typeof window)throw Error("SplunkRum Error: This library is intended to run in a browser environment. Please ensure the code is evaluated within a browser context.");if("OTEL_TRACES_EXPORTER"in Lu.X||(Lu.X.OTEL_TRACES_EXPORTER="none"),al)return void console.warn("SplunkRum already initialized.");f.s.setLogger(new U.F,(null==n?void 0:n.debug)?j.u.DEBUG:j.u.WARN);const a=function(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!Ho[Uo])return f.s.error("SplunkRum: Tried to access global before otel setup"),!1;const n=Ho[Uo];return n[Bo]||(n[Bo]=Do),n[Bo]!==Do?(f.s.error("SplunkRum: Global: Multiple versions detected (".concat(Do," already registered)")),!1):!e&&n[jo]?(f.s.error("SplunkRum: Attempted duplicate registration of otel API ".concat(jo)),!1):(n[jo]=t,!0)}(this);if(!a)return;if("function"!=typeof Symbol)return void f.s.error("SplunkRum: browser not supported, disabling instrumentation.");if(n.disableBots&&function(t){if(!t)return!1;try{const e=new RegExp(" daum[ /]| deusu/| yadirectfetcher|(?:^|[^g])news(?!sapphire)|(?<! (?:channel/|google/))google(?!(app|/google| pixel))|(?<! cu)bots?(?:\\b|_)|(?<!(?:lib))http|(?<![hg]m)score|@[a-z][\\w-]+\\.|\\(\\)|\\.com\\b|\\btime/|^<|^[\\w \\.\\-\\(?:\\):%]+(?:/v?\\d+(?:\\.\\d+)?(?:\\.\\d{1,10})*?)?(?:,|$)|^[^ ]{50,}$|^\\d+\\b|^\\w*search\\b|^\\w+/[\\w\\(\\)]*$|^active|^ad muncher|^amaya|^avsdevicesdk/|^biglotron|^bot|^bw/|^clamav[ /]|^client/|^cobweb/|^custom|^ddg[_-]android|^discourse|^dispatch/\\d|^downcast/|^duckduckgo|^email|^facebook|^getright/|^gozilla/|^hobbit|^hotzonu|^hwcdn/|^igetter/|^jeode/|^jetty/|^jigsaw|^microsoft bits|^movabletype|^mozilla/5\\.0\\s[a-z\\.-]+$|^mozilla/\\d\\.\\d \\(compatible;?\\)$|^mozilla/\\d\\.\\d \\w*$|^navermailapp|^netsurf|^offline|^openai/|^owler|^php|^postman|^python|^rank|^read|^reed|^rest|^rss|^snapchat|^space bison|^svn|^swcd |^taringa|^thumbor/|^track|^w3c|^webbandit/|^webcopier|^wget|^whatsapp|^wordpress|^xenu link sleuth|^yahoo|^yandex|^zdm/\\d|^zoom marketplace/|^{{.*}}$|adscanner/|analyzer|archive|ask jeeves/teoma|audit|bit\\.ly/|bluecoat drtr|browsex|burpcollaborator|capture|catch|check\\b|checker|chrome-lighthouse|chromeframe|classifier|cloudflare|convertify|cookiehubscan|crawl|cypress/|dareboost|datanyze|dejaclick|detect|dmbrowser|download|evc-batch/|exaleadcloudview|feed|firephp|functionize|gomezagent|headless|httrack|hubspot marketing grader|hydra|ibisbrowser|images|infrawatch|insight|inspect|iplabel|ips-agent|java(?!;)|jsjcw_scanner|library|linkcheck|mail\\.ru/|manager|measure|neustar wpm|node|nutch|offbyone|optimize|pageburst|pagespeed|parser|perl|phantomjs|pingdom|powermarks|preview|proxy|ptst[ /]\\d|reputation|resolver|retriever|rexx;|rigor|rss\\b|scanner\\.|scrape|server|sogou|sparkler/|speedcurve|spider|splash|statuscake|supercleaner|synapse|tools|torrent|trace|transcoder|url|validator|virtuoso|wappalyzer|webglance|webkit2png|whatcms/|zgrab","i");return Boolean(t)&&e.test(t)}catch{return!1}}(navigator.userAgent))return this.disabledByBotDetection=!0,void f.s.error("SplunkRum will not be initialized, bots are not allowed.");if(n.disableAutomationFrameworks&&navigator.webdriver)return this.disabledByAutomationFrameworkDetection=!0,void f.s.error("SplunkRum will not be initialized, automation frameworks are not allowed.");il=new $a;const s=Object.assign({},Zc,(Jc(u=n,"app","applicationName"),Jc(u,"beaconUrl","beaconEndpoint"),Jc(u,"environment","deploymentEnvironment"),Jc(u,"rumAuth","rumAccessToken"),u),{exporter:Object.assign({},Zc.exporter,n.exporter)});var u,c;if(!s.persistence||s.persistence&&(c=s.persistence,!["cookie","localStorage"].includes(c)))return void f.s.error('Invalid persistence flag: The value for "persistence" must be either "cookie", "localStorage", or omitted entirely, but was: '.concat(s.persistence));if(this._processedOptions=s,s.realm&&(s.beaconEndpoint?f.s.warn("SplunkRum: Realm value ignored (beaconEndpoint has been specified)"):s.beaconEndpoint=function(t){var e;return(null===(e=t.exporter)||void 0===e?void 0:e.otlp)?"https://rum-ingest.".concat(t.realm,".signalfx.com/v1/rumotlp"):"https://rum-ingest.".concat(t.realm,".signalfx.com/v1/rum")}(s)),!s.debug){if(!s.beaconEndpoint)throw new Error("SplunkRum.init( {beaconEndpoint: 'https://something'} ) is required.");if(!s.beaconEndpoint.startsWith("https")&&!s.allowInsecureBeacon)throw new Error("Not using https is unsafe, if you want to force it use allowInsecureBeacon option.");s.rumAccessToken||f.s.warn("rumAccessToken will be required in the future")}const p=oo(64),{ignoreUrls:d,applicationName:h,deploymentEnvironment:_,version:v}=s,E={ignoreUrls:d,enabled:!1},m={...pa.q,[Ru.TELEMETRY_SDK_NAME]:"@splunk/otel-web",[Ru.TELEMETRY_SDK_VERSION]:Do,"splunk.rumVersion":Do,"splunk.scriptInstance":p,app:h};Yc.id&&(m["browser.instance.id"]=Yc.id);const T=window.syntheticsRunId;T&&(m["Synthetics-RunId"]=T),this.resource=new va(m),this.attributesProcessor=new Du({..._?{environment:_,"deployment.environment":_}:{},...v?{"app.version":v}:{},...s.globalAttributes||{}},"localStorage"===this._processedOptions.persistence,()=>sl,s.cookieDomain);const g=[this.attributesProcessor];if(s.beaconEndpoint){const t=function(t){const e=t.beaconEndpoint+(t.rumAccessToken?"?auth="+t.rumAccessToken:"");return t.exporter.factory({url:e,otlp:t.exporter.otlp,onAttributesSerializing:t.exporter.onAttributesSerializing})}(s),e=s.spanProcessor.factory(t,{scheduledDelayMillis:s.bufferTimeout,maxExportBatchSize:s.bufferSize});g.push(e),this._processor=e}var y;s.debug&&g.push(new M(new D)),n._experimental_allSpansExtendSession&&g.push(new tl),n.spanProcessors&&g.push(...n.spanProcessors);const S=new Ya({...s.tracer,resource:this.resource,sampler:new $c({decider:null!==(y=null===(o=s.tracer)||void 0===o?void 0:o.sampler)&&void 0!==y?y:new R,allSpansAreActivity:Boolean(this._processedOptions._experimental_allSpansExtendSession)}),spanProcessors:g});nl=ei(s.persistence,il,s.cookieDomain).deinit;const b=Qc.map(t=>{let{Instrument:e,confKey:r,disable:o}=t;const i=ao(s.instrumentations[r],E,o);if(i){const t=e===na?new e(i,n):new e(i);return r===wo&&t instanceof Lo&&(rl=t),"postload"===r&&t instanceof aa&&(ol=t),t}return null}).filter(t=>Boolean(t));window.addEventListener("visibilitychange",()=>{var t;"hidden"===document.visibilityState&&(null===(t=this._processor)||void 0===t||t.forceFlush())}),S.register({contextManager:new Ja({...s.context,onBeforeContextStart:()=>null==ol?void 0:ol.onBeforeContextChange(),onBeforeContextEnd:()=>null==ol?void 0:ol.onBeforeContextChange()})}),el=function(n){var r,o,i=n.tracerProvider||t.u.getTracerProvider(),a=n.meterProvider||e.q.getMeterProvider(),s=n.loggerProvider||l.getLoggerProvider(),u=null!==(o=null===(r=n.instrumentations)||void 0===r?void 0:r.flat())&&void 0!==o?o:[];return function(t,e,n,r){for(var o=0,i=t.length;o<i;o++){var a=t[o];e&&a.setTracerProvider(e),n&&a.setMeterProvider(n),r&&a.setLoggerProvider&&a.setLoggerProvider(r),a.getConfig().enabled||a.enable()}}(u,i,a,s),function(){!function(t){t.forEach(function(t){return t.disable()})}(u)}}({tracerProvider:S,instrumentations:b}),this.provider=S;const O=ao(s.instrumentations.webvitals);!1!==O&&Qi(S,O),al=!0,f.s.info("SplunkRum.init() complete")},deinit(){var t;(al||arguments.length>0&&void 0!==arguments[0]&&arguments[0])&&(null==el||el(),el=void 0,null==nl||nl(),nl=void 0,null===(t=this.provider)||void 0===t||t.shutdown(),delete this.provider,il=void 0,f.s.disable(),function(){const t=Ho[Uo];t?(t[Bo]&&t[Bo]!==Do&&f.s.warn("SplunkRum version in OTel API ref (".concat(t[Bo],") didn't match our version (").concat(Do,").")),delete t[jo],delete t[Bo]):f.s.warn("OTel API ref was missing while trying to unregister ".concat(jo," or ").concat(Bo))}(),Nu(),al=!1)},setGlobalAttributes(t){var e,n;null===(e=this.attributesProcessor)||void 0===e||e.setGlobalAttributes(t),null==il||il.emit("global-attributes-changed",{attributes:(null===(n=this.attributesProcessor)||void 0===n?void 0:n.getGlobalAttributes())||{}})},getGlobalAttributes(){var t;return(null===(t=this.attributesProcessor)||void 0===t?void 0:t.getGlobalAttributes())||{}},_experimental_getGlobalAttributes(){return this.getGlobalAttributes()},error(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];al?rl?rl.report("SplunkRum.error",e,{}):f.s.error("Error was reported, but error instrumentation is disabled."):f.s.debug("SplunkRum not inited")},reportError(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!al)return void f.s.debug("SplunkRum not inited");if(!rl)return void f.s.error("SplunkRum.reportError error was reported, but error instrumentation is disabled.");if(!t)return void f.s.warn("SplunkRum.reportError called with no argument - ignoring.");if(!rl.isValidErrorArg(t))return void f.s.warn("SplunkRum.reportError called with invalid argument, ignoring. Expected string, Error, ErrorEvent or Event.");const n=Eo(e);rl.report("SplunkRum.reportError",t,n)},addEventListener(t,e){null==il||il.addEventListener(t,e)},removeEventListener(t,e){null==il||il.removeEventListener(t,e)},_experimental_addEventListener(t,e){return this.addEventListener(t,e)},_experimental_removeEventListener(t,e){return this.removeEventListener(t,e)},setUserTrackingMode(t){sl=t},getAnonymousId(){if(this._processedOptions)return"anonymousTracking"===sl?Cu({useLocalStorage:"localStorage"===this._processedOptions.persistence,domain:this._processedOptions.cookieDomain}):void 0},getSessionId(){if(al)return function(){if(Qo()&&window.SplunkRumNative)return window.SplunkRumNative.getNativeSessionId();const t=Zo({forceDiskRead:!0});return t&&!t.inactive?t.id:void 0}()},isNewSessionId:()=>Go,_experimental_getSessionId(){return this.getSessionId()},_internalOnExternalSpanCreated(){this._processedOptions&&Jo({forceStore:!1,hadActivity:this._processedOptions._experimental_allSpansExtendSession})},_internalCheckSessionRecorderType(t){!function(t){const e=Zo({forceDiskRead:!0});e&&(void 0===e.rt?(Jo({forceStore:!0,recorderType:t}),console.debug("Session recorder type initialized",{recorderType:t})):e.rt!==t&&(Jo({forceStore:!0,forceNewSession:!0,recorderType:t}),console.debug("Session recorder type changed, creating new session",{recorderType:t})))}(t)}};var cl=ul}(),window.SplunkRum=r.default}();
//# sourceMappingURL=splunk-otel-web.js.map